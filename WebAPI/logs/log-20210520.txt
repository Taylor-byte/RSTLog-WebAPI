21-05-20 09:12:35.713 +01:00 [INF] Application Is Starting
21-05-20 09:12:43.946 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 09:12:46.729 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 09:12:46.729 +01:00 [INF] Hosting environment: Development
21-05-20 09:12:46.729 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 09:12:47.601 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 09:12:49.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 1933.4312ms
21-05-20 09:13:06.456 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 09:13:06.710 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 254.1047ms
21-05-20 09:15:10.543 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-20 09:15:10.558 +01:00 [INF] CORS policy execution successful.
21-05-20 09:15:10.562 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 19.0861ms
21-05-20 09:15:10.572 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471
21-05-20 09:15:10.572 +01:00 [INF] CORS policy execution successful.
21-05-20 09:15:11.239 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-20 09:15:11.545 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-20 09:15:11.551 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 09:15:11.638 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-20 09:15:13.788 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:15:16.487 +01:00 [INF] Executed DbCommand (158ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 09:15:16.915 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 09:15:16.982 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 09:15:17.055 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 09:15:17.427 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 09:15:17.485 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 09:15:17.602 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 5953.6418ms
21-05-20 09:15:17.604 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 09:15:17.620 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471 - 200 515 application/json;+charset=utf-8 7048.7003ms
21-05-20 09:15:17.699 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:15:17.699 +01:00 [INF] CORS policy execution successful.
21-05-20 09:15:17.700 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.2819ms
21-05-20 09:15:17.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:15:17.708 +01:00 [INF] CORS policy execution successful.
21-05-20 09:15:17.713 +01:00 [INF] Successfully validated the token.
21-05-20 09:15:17.715 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:15:17.730 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:15:18.512 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:15:18.536 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 09:15:18.642 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:15:18.677 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 947.6757ms
21-05-20 09:15:18.678 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:15:18.680 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 972.5814ms
21-05-20 09:15:23.300 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 09:15:23.301 +01:00 [INF] CORS policy execution successful.
21-05-20 09:15:23.301 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5037ms
21-05-20 09:15:23.306 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 09:15:23.306 +01:00 [INF] CORS policy execution successful.
21-05-20 09:15:23.311 +01:00 [INF] Successfully validated the token.
21-05-20 09:15:23.311 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:15:23.316 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:15:23.331 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:15:23.531 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 09:15:23.567 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 09:15:23.577 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 261.0159ms
21-05-20 09:15:23.578 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:15:23.578 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 272.3992ms
21-05-20 09:15:23.674 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:15:23.675 +01:00 [INF] CORS policy execution successful.
21-05-20 09:15:23.675 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4713ms
21-05-20 09:15:23.679 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:15:23.679 +01:00 [INF] CORS policy execution successful.
21-05-20 09:15:23.680 +01:00 [INF] Successfully validated the token.
21-05-20 09:15:23.680 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:15:23.685 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 09:15:23.691 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:15:23.719 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-20 09:15:23.779 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:15:23.781 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 95.982ms
21-05-20 09:15:23.781 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:15:23.782 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2165 application/json;+charset=utf-8 102.2658ms
21-05-20 09:29:13.397 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-20 09:29:13.398 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:13.399 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 2.1422ms
21-05-20 09:29:13.430 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471
21-05-20 09:29:13.430 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:13.431 +01:00 [INF] Successfully validated the token.
21-05-20 09:29:13.431 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 09:29:13.432 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-20 09:29:13.448 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:29:13.713 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 09:29:13.724 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 09:29:13.732 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 09:29:13.745 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 09:29:13.756 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 09:29:13.757 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 09:29:13.758 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 326.0383ms
21-05-20 09:29:13.758 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 09:29:13.759 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471 - 200 515 application/json;+charset=utf-8 328.4297ms
21-05-20 09:29:13.794 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:29:13.794 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:13.794 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4798ms
21-05-20 09:29:13.798 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:29:13.798 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:13.799 +01:00 [INF] Successfully validated the token.
21-05-20 09:29:13.799 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:29:13.799 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:29:13.800 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:29:13.805 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 09:29:13.806 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:29:13.808 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 8.8917ms
21-05-20 09:29:13.808 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:29:13.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 10.8020ms
21-05-20 09:29:15.732 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 09:29:15.732 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:15.733 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.3787ms
21-05-20 09:29:15.738 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 09:29:15.738 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:15.738 +01:00 [INF] Successfully validated the token.
21-05-20 09:29:15.738 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:29:15.739 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:29:15.739 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:29:15.767 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 09:29:15.768 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 09:29:15.768 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 29.7841ms
21-05-20 09:29:15.769 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:29:15.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 31.4548ms
21-05-20 09:29:15.795 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:29:15.795 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:15.796 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3855ms
21-05-20 09:29:15.799 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:29:15.799 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:15.800 +01:00 [INF] Successfully validated the token.
21-05-20 09:29:15.800 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:29:15.800 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 09:29:15.801 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:29:15.807 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-20 09:29:15.808 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:29:15.809 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 8.4138ms
21-05-20 09:29:15.809 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:29:15.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2165 application/json;+charset=utf-8 9.9424ms
21-05-20 09:29:34.408 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=20&searchTerm=&orderBy=name - -
21-05-20 09:29:34.409 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:34.410 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=20&searchTerm=&orderBy=name - - - 204 - - 1.2502ms
21-05-20 09:29:34.431 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=20&searchTerm=&orderBy=name - -
21-05-20 09:29:34.431 +01:00 [INF] CORS policy execution successful.
21-05-20 09:29:34.431 +01:00 [INF] Successfully validated the token.
21-05-20 09:29:34.431 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:29:34.431 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 09:29:34.433 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:29:34.514 +01:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-20 09:29:34.515 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:29:34.516 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 84.6627ms
21-05-20 09:29:34.516 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:29:34.517 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=20&searchTerm=&orderBy=name - - - 200 2594 application/json;+charset=utf-8 86.2678ms
21-05-20 09:30:54.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?PageNumber=1&PageSize=10&CurrentPage=1 - -
21-05-20 09:30:54.747 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:30:54.748 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 09:30:54.798 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:30:54.855 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-20 09:30:54.860 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:30:54.862 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 113.8358ms
21-05-20 09:30:54.862 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:30:54.871 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?PageNumber=1&PageSize=10&CurrentPage=1 - - - 200 2165 application/json;+charset=utf-8 196.3343ms
21-05-20 09:31:55.922 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:31:55.922 +01:00 [INF] CORS policy execution successful.
21-05-20 09:31:55.923 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5223ms
21-05-20 09:31:55.943 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:31:55.943 +01:00 [INF] CORS policy execution successful.
21-05-20 09:31:55.945 +01:00 [INF] Successfully validated the token.
21-05-20 09:31:55.945 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:31:55.946 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:31:55.948 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:31:55.974 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 09:31:55.975 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:31:55.976 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 30.1579ms
21-05-20 09:31:55.976 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:31:55.977 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 33.5337ms
21-05-20 09:32:02.260 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=val&orderBy=name - -
21-05-20 09:32:02.260 +01:00 [INF] CORS policy execution successful.
21-05-20 09:32:02.261 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=val&orderBy=name - - - 204 - - 0.7401ms
21-05-20 09:32:02.281 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=val&orderBy=name - -
21-05-20 09:32:02.281 +01:00 [INF] CORS policy execution successful.
21-05-20 09:32:02.281 +01:00 [INF] Successfully validated the token.
21-05-20 09:32:02.282 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:32:02.282 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:32:02.284 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:32:02.384 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@__lowerCaseSearchTerm_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
WHERE (@__lowerCaseSearchTerm_0 LIKE N'') OR (CHARINDEX(@__lowerCaseSearchTerm_0, LOWER([c].[Name])) > 0)
21-05-20 09:32:02.385 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:32:02.385 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 103.1047ms
21-05-20 09:32:02.385 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:32:02.386 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=val&orderBy=name - - - 200 172 application/json;+charset=utf-8 105.0302ms
21-05-20 09:32:32.025 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:32:32.025 +01:00 [INF] CORS policy execution successful.
21-05-20 09:32:32.025 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5979ms
21-05-20 09:32:32.051 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:32:32.051 +01:00 [INF] CORS policy execution successful.
21-05-20 09:32:32.052 +01:00 [INF] Successfully validated the token.
21-05-20 09:32:32.052 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:32:32.052 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:32:32.053 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:32:32.141 +01:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 09:32:32.143 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:32:32.152 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 100.3003ms
21-05-20 09:32:32.153 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:32:32.153 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 102.0264ms
21-05-20 09:32:40.973 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 09:32:40.973 +01:00 [INF] CORS policy execution successful.
21-05-20 09:32:40.973 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4202ms
21-05-20 09:32:40.978 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 09:32:40.978 +01:00 [INF] CORS policy execution successful.
21-05-20 09:32:40.978 +01:00 [INF] Successfully validated the token.
21-05-20 09:32:40.978 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:32:40.979 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:32:40.982 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:32:40.998 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 09:32:40.999 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 09:32:41.000 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 20.6309ms
21-05-20 09:32:41.000 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:32:41.000 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 22.6714ms
21-05-20 09:32:41.031 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:32:41.032 +01:00 [INF] CORS policy execution successful.
21-05-20 09:32:41.032 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5304ms
21-05-20 09:32:41.036 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:32:41.036 +01:00 [INF] CORS policy execution successful.
21-05-20 09:32:41.036 +01:00 [INF] Successfully validated the token.
21-05-20 09:32:41.036 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:32:41.037 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 09:32:41.037 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:32:41.043 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-20 09:32:41.044 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:32:41.045 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 8.6207ms
21-05-20 09:32:41.046 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:32:41.046 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2165 application/json;+charset=utf-8 10.2348ms
21-05-20 09:33:06.725 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 09:33:06.726 +01:00 [INF] CORS policy execution successful.
21-05-20 09:33:06.726 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:33:06.726 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:33:06.727 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:33:06.742 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 09:33:06.742 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 09:33:06.743 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 16.7582ms
21-05-20 09:33:06.743 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:33:06.744 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 18.2913ms
21-05-20 09:33:07.582 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:33:07.582 +01:00 [INF] CORS policy execution successful.
21-05-20 09:33:07.583 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4061ms
21-05-20 09:33:07.600 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:33:07.603 +01:00 [INF] CORS policy execution successful.
21-05-20 09:33:07.604 +01:00 [INF] Successfully validated the token.
21-05-20 09:33:07.605 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:33:07.605 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 09:33:07.609 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:33:07.634 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-20 09:33:07.635 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:33:07.638 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 32.4826ms
21-05-20 09:33:07.638 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:33:07.721 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2165 application/json;+charset=utf-8 121.2037ms
21-05-20 09:56:01.622 +01:00 [INF] Application Is Starting
21-05-20 09:56:04.523 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 09:56:05.436 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 09:56:05.437 +01:00 [INF] Hosting environment: Development
21-05-20 09:56:05.438 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 09:56:05.570 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 09:56:06.035 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 470.3250ms
21-05-20 09:56:06.340 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 09:56:06.923 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 583.2267ms
21-05-20 09:56:46.122 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-20 09:56:46.145 +01:00 [INF] CORS policy execution successful.
21-05-20 09:56:46.147 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 26.7783ms
21-05-20 09:56:46.150 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 476
21-05-20 09:56:46.151 +01:00 [INF] CORS policy execution successful.
21-05-20 09:56:46.747 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-20 09:56:46.851 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-20 09:56:46.855 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 09:56:46.926 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-20 09:56:49.230 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:56:50.692 +01:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 09:56:51.057 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 09:56:51.096 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 09:56:51.119 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 09:56:51.336 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 09:56:51.396 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 09:56:51.470 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 4531.6046ms
21-05-20 09:56:51.472 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 09:56:51.493 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 476 - 200 515 application/json;+charset=utf-8 5342.8647ms
21-05-20 09:56:51.561 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:56:51.562 +01:00 [INF] CORS policy execution successful.
21-05-20 09:56:51.562 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.2927ms
21-05-20 09:56:51.567 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 09:56:51.568 +01:00 [INF] CORS policy execution successful.
21-05-20 09:56:51.573 +01:00 [INF] Successfully validated the token.
21-05-20 09:56:51.575 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:56:51.585 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:56:52.004 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:56:52.022 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 09:56:52.109 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:56:52.138 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 552.6279ms
21-05-20 09:56:52.138 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 09:56:52.140 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 572.9277ms
21-05-20 09:56:56.763 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 09:56:56.763 +01:00 [INF] CORS policy execution successful.
21-05-20 09:56:56.764 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.1282ms
21-05-20 09:56:56.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 09:56:56.774 +01:00 [INF] CORS policy execution successful.
21-05-20 09:56:56.778 +01:00 [INF] Successfully validated the token.
21-05-20 09:56:56.778 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:56:56.783 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 09:56:56.816 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:56:56.989 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 09:56:57.041 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 09:56:57.054 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 269.9144ms
21-05-20 09:56:57.054 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 09:56:57.054 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 280.8524ms
21-05-20 09:56:57.158 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 09:56:57.158 +01:00 [INF] CORS policy execution successful.
21-05-20 09:56:57.158 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5184ms
21-05-20 09:56:57.162 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 09:56:57.163 +01:00 [INF] CORS policy execution successful.
21-05-20 09:56:57.163 +01:00 [INF] Successfully validated the token.
21-05-20 09:56:57.163 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:56:57.170 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 09:56:57.175 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:56:57.219 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 09:56:57.285 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:56:57.288 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 117.8569ms
21-05-20 09:56:57.288 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:56:57.288 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 861 application/json;+charset=utf-8 126.0453ms
21-05-20 09:57:06.789 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=20&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 09:57:06.789 +01:00 [INF] CORS policy execution successful.
21-05-20 09:57:06.789 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=20&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5841ms
21-05-20 09:57:06.795 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=20&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 09:57:06.795 +01:00 [INF] CORS policy execution successful.
21-05-20 09:57:06.796 +01:00 [INF] Successfully validated the token.
21-05-20 09:57:06.796 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:57:06.796 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 09:57:06.799 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:57:06.814 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 09:57:06.816 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:57:06.817 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 20.2545ms
21-05-20 09:57:06.817 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:57:06.818 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=20&searchTerm=&orderBy=name&customerId=2 - - - 200 861 application/json;+charset=utf-8 22.6350ms
21-05-20 09:57:10.597 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=5&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 09:57:10.597 +01:00 [INF] CORS policy execution successful.
21-05-20 09:57:10.597 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=5&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.6640ms
21-05-20 09:57:10.606 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=5&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 09:57:10.606 +01:00 [INF] CORS policy execution successful.
21-05-20 09:57:10.606 +01:00 [INF] Successfully validated the token.
21-05-20 09:57:10.607 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:57:10.607 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 09:57:10.608 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 09:57:10.617 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 09:57:10.618 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 09:57:10.619 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 11.6899ms
21-05-20 09:57:10.619 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 09:57:10.619 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=5&searchTerm=&orderBy=name&customerId=2 - - - 200 861 application/json;+charset=utf-8 13.6810ms
21-05-20 10:04:40.004 +01:00 [INF] Application Is Starting
21-05-20 10:04:42.914 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 10:04:43.537 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 10:04:43.538 +01:00 [INF] Hosting environment: Development
21-05-20 10:04:43.538 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 10:04:43.613 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 10:04:43.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 265.1958ms
21-05-20 10:04:44.193 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 10:04:44.593 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 399.4883ms
21-05-20 10:05:02.657 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 10:05:02.669 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:02.672 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 15.3124ms
21-05-20 10:05:02.916 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 10:05:02.916 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:03.695 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:03.708 +01:00 [INF] Authorization was successful.
21-05-20 10:05:03.709 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:05:03.769 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 10:05:06.268 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:08.469 +01:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 10:05:08.581 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:08.776 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 4997.1875ms
21-05-20 10:05:08.778 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:05:08.794 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 5878.1779ms
21-05-20 10:05:12.329 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 10:05:12.330 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:12.331 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.7456ms
21-05-20 10:05:12.335 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 10:05:12.335 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:12.340 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:12.340 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 10:05:12.348 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 10:05:12.400 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:12.418 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 10:05:12.424 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:12.429 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 80.4146ms
21-05-20 10:05:12.429 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 10:05:12.431 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 95.5174ms
21-05-20 10:05:16.617 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:05:16.617 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:16.617 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5916ms
21-05-20 10:05:16.621 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:05:16.621 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:16.626 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:16.626 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:05:16.652 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:05:16.698 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:16.716 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 10:05:16.853 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:16.867 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 215.4169ms
21-05-20 10:05:16.868 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:05:16.868 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 247.0746ms
21-05-20 10:05:21.666 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:21.666 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:21.666 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4553ms
21-05-20 10:05:21.671 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:21.671 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:21.672 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:21.672 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:21.679 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:05:21.683 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:22.041 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:05:22.089 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:05:22.097 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 417.9334ms
21-05-20 10:05:22.097 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:22.097 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 426.7023ms
21-05-20 10:05:22.161 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:05:22.161 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:22.161 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.3616ms
21-05-20 10:05:22.166 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:05:22.166 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:22.167 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:22.167 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:22.173 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:05:22.177 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:22.318 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 10:05:22.402 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:22.403 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 229.8619ms
21-05-20 10:05:22.403 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:22.404 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 861 application/json;+charset=utf-8 237.6440ms
21-05-20 10:05:24.519 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/38 - -
21-05-20 10:05:24.520 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:24.520 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/38 - - - 204 - - 0.4804ms
21-05-20 10:05:24.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/38 - -
21-05-20 10:05:24.526 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:24.527 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:24.527 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-05-20 10:05:24.533 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:05:24.536 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:24.574 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-05-20 10:05:24.582 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-05-20 10:05:24.583 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 50.0445ms
21-05-20 10:05:24.583 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-05-20 10:05:24.583 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/38 - - - 200 209 application/json;+charset=utf-8 57.6240ms
21-05-20 10:05:27.191 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:27.191 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:27.191 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5101ms
21-05-20 10:05:27.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:27.205 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:27.206 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:27.206 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:27.206 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:05:27.207 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:27.230 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:05:27.231 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:05:27.232 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 25.6928ms
21-05-20 10:05:27.232 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:27.233 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 27.8736ms
21-05-20 10:05:27.257 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:05:27.257 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:27.258 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5113ms
21-05-20 10:05:27.262 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:05:27.264 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:27.264 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:27.264 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:27.265 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:05:27.266 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:27.271 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 10:05:27.272 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:27.272 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 7.5753ms
21-05-20 10:05:27.273 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:27.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 861 application/json;+charset=utf-8 10.9982ms
21-05-20 10:05:32.768 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:32.768 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:32.768 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4126ms
21-05-20 10:05:32.774 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:32.774 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:32.775 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:32.775 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:32.775 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:05:32.776 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:32.788 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:05:32.788 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:05:32.789 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 14.0842ms
21-05-20 10:05:32.789 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:32.790 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 16.1904ms
21-05-20 10:05:33.113 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 10:05:33.113 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:33.114 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.7119ms
21-05-20 10:05:33.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 10:05:33.137 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:33.138 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:33.141 +01:00 [INF] Authorization was successful.
21-05-20 10:05:33.142 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:05:33.142 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 10:05:33.143 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:33.165 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 10:05:33.182 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:33.184 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 41.7201ms
21-05-20 10:05:33.184 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:05:33.184 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 47.5255ms
21-05-20 10:05:33.210 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 10:05:33.210 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:33.211 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5256ms
21-05-20 10:05:33.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 10:05:33.214 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:33.214 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:33.214 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 10:05:33.215 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 10:05:33.215 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:33.219 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 10:05:33.220 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:33.221 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 6.2243ms
21-05-20 10:05:33.221 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 10:05:33.221 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 7.8515ms
21-05-20 10:05:35.112 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:35.112 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:35.112 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:35.113 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:35.113 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:05:35.113 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:35.131 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:05:35.134 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:05:35.134 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 21.5123ms
21-05-20 10:05:35.135 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:35.135 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 23.6182ms
21-05-20 10:05:35.178 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:05:35.178 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:35.178 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4370ms
21-05-20 10:05:35.182 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:05:35.182 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:35.183 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:35.183 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:35.183 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:05:35.184 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:35.195 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 10:05:35.196 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:35.199 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 15.8815ms
21-05-20 10:05:35.199 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:35.203 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 861 application/json;+charset=utf-8 20.6910ms
21-05-20 10:05:36.084 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:36.084 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:36.085 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:36.085 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:36.085 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:05:36.086 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:36.180 +01:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:05:36.182 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:05:36.197 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 111.5606ms
21-05-20 10:05:36.197 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:36.197 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 113.1612ms
21-05-20 10:05:36.229 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 10:05:36.229 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:36.230 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:36.232 +01:00 [INF] Authorization was successful.
21-05-20 10:05:36.232 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:05:36.233 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 10:05:36.235 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:36.247 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 10:05:36.247 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:36.248 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 14.5923ms
21-05-20 10:05:36.248 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:05:36.249 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 19.5991ms
21-05-20 10:05:38.209 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:38.209 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:38.211 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 2.1849ms
21-05-20 10:05:38.217 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:38.217 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:38.217 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:38.217 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:38.217 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:05:38.218 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:38.228 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:05:38.229 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:05:38.230 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 12.2411ms
21-05-20 10:05:38.230 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:38.245 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 24.5918ms
21-05-20 10:05:38.287 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:05:38.287 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:38.288 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:38.288 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:38.288 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:05:38.290 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:38.298 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 10:05:38.299 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:38.299 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 11.0966ms
21-05-20 10:05:38.300 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:38.300 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 861 application/json;+charset=utf-8 13.0725ms
21-05-20 10:05:56.476 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:05:56.476 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:56.478 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.7970ms
21-05-20 10:05:56.527 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:05:56.527 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:56.528 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:56.529 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:05:56.529 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:05:56.531 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:56.542 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 10:05:56.544 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:56.546 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 16.9241ms
21-05-20 10:05:56.546 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:05:56.547 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 19.8593ms
21-05-20 10:05:58.479 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:58.479 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:58.479 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4169ms
21-05-20 10:05:58.510 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:05:58.511 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:58.511 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:58.511 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:58.511 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:05:58.513 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:58.542 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:05:58.542 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:05:58.543 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 32.0137ms
21-05-20 10:05:58.544 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:05:58.544 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 33.8136ms
21-05-20 10:05:58.572 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:05:58.572 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:58.572 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5078ms
21-05-20 10:05:58.577 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:05:58.577 +01:00 [INF] CORS policy execution successful.
21-05-20 10:05:58.578 +01:00 [INF] Successfully validated the token.
21-05-20 10:05:58.578 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:58.578 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:05:58.579 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:05:58.588 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 10:05:58.590 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:05:58.593 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 14.5051ms
21-05-20 10:05:58.593 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:05:58.594 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 861 application/json;+charset=utf-8 16.7384ms
21-05-20 10:06:03.236 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:06:03.236 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:03.237 +01:00 [INF] Successfully validated the token.
21-05-20 10:06:03.237 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:06:03.237 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:06:03.238 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:06:03.302 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:06:03.303 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:06:03.304 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 66.3378ms
21-05-20 10:06:03.307 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:06:03.309 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 911 application/json;+charset=utf-8 72.6448ms
21-05-20 10:06:03.345 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 10:06:03.345 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:03.346 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4756ms
21-05-20 10:06:03.356 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 10:06:03.356 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:03.357 +01:00 [INF] Successfully validated the token.
21-05-20 10:06:03.358 +01:00 [INF] Authorization was successful.
21-05-20 10:06:03.358 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:06:03.358 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 10:06:03.359 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:06:03.367 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 10:06:03.368 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:06:03.369 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 11.2291ms
21-05-20 10:06:03.370 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:06:03.372 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 16.6554ms
21-05-20 10:06:03.418 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 10:06:03.418 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:03.419 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.8096ms
21-05-20 10:06:03.429 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 10:06:03.429 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:03.430 +01:00 [INF] Successfully validated the token.
21-05-20 10:06:03.430 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 10:06:03.431 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 10:06:03.431 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:06:03.444 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 10:06:03.445 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:06:03.446 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 15.0911ms
21-05-20 10:06:03.447 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 10:06:03.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 18.1595ms
21-05-20 10:06:20.479 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-05-20 10:06:20.479 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:20.479 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.4120ms
21-05-20 10:06:20.482 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 224
21-05-20 10:06:20.482 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:20.483 +01:00 [INF] Successfully validated the token.
21-05-20 10:06:20.483 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 10:06:20.489 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:06:20.604 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:06:20.893 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 10:06:20.991 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-05-20 10:06:21.061 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 571.4178ms
21-05-20 10:06:21.061 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 10:06:21.061 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 224 - 201 227 application/json;+charset=utf-8 578.8744ms
21-05-20 10:06:25.005 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 10:06:25.005 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:25.005 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.3657ms
21-05-20 10:06:25.009 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:06:25.009 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:25.010 +01:00 [INF] Successfully validated the token.
21-05-20 10:06:25.010 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:06:25.010 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:06:25.011 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:06:25.022 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:06:25.022 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:06:25.023 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 13.1791ms
21-05-20 10:06:25.023 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:06:25.024 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 14.7441ms
21-05-20 10:06:25.062 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:06:25.062 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:25.062 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.3025ms
21-05-20 10:06:25.065 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:06:25.065 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:25.065 +01:00 [INF] Successfully validated the token.
21-05-20 10:06:25.065 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:06:25.065 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:06:25.066 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:06:25.071 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 10:06:25.072 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:06:25.072 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.6831ms
21-05-20 10:06:25.072 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:06:25.075 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 9.9859ms
21-05-20 10:06:43.805 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:06:43.805 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:43.805 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.7255ms
21-05-20 10:06:43.810 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:06:43.810 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:43.810 +01:00 [INF] Successfully validated the token.
21-05-20 10:06:43.811 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:06:43.811 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:06:43.811 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:06:43.815 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 10:06:43.816 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:06:43.817 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.2185ms
21-05-20 10:06:43.817 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:06:43.818 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 7.5373ms
21-05-20 10:06:45.394 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 10:06:45.394 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:45.395 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4834ms
21-05-20 10:06:45.398 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 10:06:45.399 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:45.399 +01:00 [INF] Successfully validated the token.
21-05-20 10:06:45.399 +01:00 [INF] Authorization was successful.
21-05-20 10:06:45.399 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:06:45.399 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 10:06:45.400 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:06:45.408 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 10:06:45.409 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:06:45.409 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 9.7248ms
21-05-20 10:06:45.409 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 10:06:45.410 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 11.4645ms
21-05-20 10:06:46.463 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 10:06:46.463 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:46.464 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5176ms
21-05-20 10:06:46.466 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 10:06:46.467 +01:00 [INF] CORS policy execution successful.
21-05-20 10:06:46.467 +01:00 [INF] Successfully validated the token.
21-05-20 10:06:46.467 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 10:06:46.469 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 10:06:46.470 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:06:46.475 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 10:06:46.476 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:06:46.478 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 8.3036ms
21-05-20 10:06:46.478 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 10:06:46.479 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 12.4022ms
21-05-20 10:52:52.172 +01:00 [INF] Application Is Starting
21-05-20 10:52:56.186 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 10:52:57.332 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 10:52:57.343 +01:00 [INF] Hosting environment: Development
21-05-20 10:52:57.353 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 10:52:57.493 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 10:52:57.905 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 418.9965ms
21-05-20 10:53:01.056 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 10:53:01.382 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 326.1885ms
21-05-20 10:53:25.671 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-20 10:53:25.684 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:25.687 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 15.7436ms
21-05-20 10:53:25.800 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 476
21-05-20 10:53:25.801 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:26.885 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-20 10:53:28.057 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-20 10:53:28.062 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 10:53:28.205 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-20 10:53:31.002 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:33.323 +01:00 [INF] Executed DbCommand (147ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 10:53:33.715 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 10:53:33.790 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 10:53:33.829 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 10:53:34.099 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 10:53:34.143 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 10:53:34.244 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 6026.1697ms
21-05-20 10:53:34.246 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 10:53:34.265 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 476 - 200 515 application/json;+charset=utf-8 8464.5967ms
21-05-20 10:53:34.352 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:53:34.352 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:34.353 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.9846ms
21-05-20 10:53:34.356 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:53:34.356 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:34.360 +01:00 [INF] Successfully validated the token.
21-05-20 10:53:34.361 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:53:34.371 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:53:34.860 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:34.880 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 10:53:35.027 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:53:35.063 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 691.4928ms
21-05-20 10:53:35.063 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:53:35.065 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 708.8554ms
21-05-20 10:53:37.308 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-05-20 10:53:37.308 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:37.309 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.7307ms
21-05-20 10:53:37.323 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-05-20 10:53:37.323 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:37.328 +01:00 [INF] Successfully validated the token.
21-05-20 10:53:37.328 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:53:37.334 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:53:37.365 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:37.682 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:53:37.708 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:53:37.718 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 383.4557ms
21-05-20 10:53:37.718 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:53:37.719 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 921 application/json;+charset=utf-8 395.8451ms
21-05-20 10:53:37.817 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 10:53:37.817 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:37.818 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 204 - - 0.5207ms
21-05-20 10:53:37.821 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 10:53:37.822 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:37.822 +01:00 [INF] Successfully validated the token.
21-05-20 10:53:37.822 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:53:37.830 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:53:37.837 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:37.876 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 10:53:37.963 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:53:37.965 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 135.4585ms
21-05-20 10:53:37.965 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:53:37.966 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 200 865 application/json;+charset=utf-8 144.4641ms
21-05-20 10:53:48.201 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:53:48.201 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:48.202 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6102ms
21-05-20 10:53:48.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:53:48.205 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:48.205 +01:00 [INF] Successfully validated the token.
21-05-20 10:53:48.206 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:53:48.206 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:53:48.207 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:48.212 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 10:53:48.213 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:53:48.214 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 8.0257ms
21-05-20 10:53:48.215 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:53:48.220 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 15.0405ms
21-05-20 10:53:49.117 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/5 - -
21-05-20 10:53:49.118 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:49.118 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/5 - - - 204 - - 0.4498ms
21-05-20 10:53:49.129 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/5 - -
21-05-20 10:53:49.130 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:49.130 +01:00 [INF] Successfully validated the token.
21-05-20 10:53:49.131 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:53:49.131 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:53:49.140 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:49.163 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:53:49.164 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:53:49.165 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 33.8796ms
21-05-20 10:53:49.165 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:53:49.167 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/5 - - - 200 361 application/json;+charset=utf-8 38.0546ms
21-05-20 10:53:49.294 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=5 - -
21-05-20 10:53:49.294 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:49.295 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=5 - - - 204 - - 0.3853ms
21-05-20 10:53:49.311 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=5 - -
21-05-20 10:53:49.311 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:49.312 +01:00 [INF] Successfully validated the token.
21-05-20 10:53:49.312 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:53:49.312 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:53:49.313 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:49.321 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 10:53:49.323 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:53:49.324 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 12.3555ms
21-05-20 10:53:49.325 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:53:49.326 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=5 - - - 200 220 application/json;+charset=utf-8 14.9465ms
21-05-20 10:53:53.939 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:53:53.939 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:53.940 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.7918ms
21-05-20 10:53:53.943 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 10:53:53.943 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:53.943 +01:00 [INF] Successfully validated the token.
21-05-20 10:53:53.943 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:53:53.944 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:53:53.945 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:53.948 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 10:53:53.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:53:53.950 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.4202ms
21-05-20 10:53:53.950 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 10:53:53.951 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 8.2462ms
21-05-20 10:53:58.133 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 10:53:58.133 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:58.134 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4348ms
21-05-20 10:53:58.138 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 10:53:58.139 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:58.139 +01:00 [INF] Successfully validated the token.
21-05-20 10:53:58.139 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:53:58.140 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 10:53:58.143 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:58.157 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 10:53:58.158 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 10:53:58.160 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 20.3793ms
21-05-20 10:53:58.160 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 10:53:58.161 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 22.6133ms
21-05-20 10:53:58.199 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:53:58.199 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:58.199 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.9575ms
21-05-20 10:53:58.207 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 10:53:58.207 +01:00 [INF] CORS policy execution successful.
21-05-20 10:53:58.207 +01:00 [INF] Successfully validated the token.
21-05-20 10:53:58.208 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:53:58.208 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 10:53:58.209 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 10:53:58.214 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 10:53:58.215 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 10:53:58.216 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 7.6438ms
21-05-20 10:53:58.216 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 10:53:58.216 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 9.3217ms
21-05-20 11:18:10.070 +01:00 [INF] Application Is Starting
21-05-20 11:18:12.798 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 11:18:13.560 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 11:18:13.561 +01:00 [INF] Hosting environment: Development
21-05-20 11:18:13.561 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 11:18:13.706 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 11:18:14.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 422.9011ms
21-05-20 11:18:14.534 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 11:18:14.996 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 462.3448ms
21-05-20 11:18:38.489 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-20 11:18:38.511 +01:00 [INF] CORS policy execution successful.
21-05-20 11:18:38.516 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 27.4163ms
21-05-20 11:18:38.522 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471
21-05-20 11:18:38.522 +01:00 [INF] CORS policy execution successful.
21-05-20 11:18:39.297 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-20 11:18:39.508 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-20 11:18:39.513 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 11:18:39.614 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-20 11:18:42.423 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:18:45.488 +01:00 [INF] Executed DbCommand (154ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 11:18:45.932 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 11:18:45.991 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 11:18:46.019 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 11:18:46.308 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 11:18:46.364 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 11:18:46.496 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 6864.2185ms
21-05-20 11:18:46.502 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 11:18:46.519 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471 - 200 515 application/json;+charset=utf-8 7997.6421ms
21-05-20 11:18:46.647 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 11:18:46.648 +01:00 [INF] CORS policy execution successful.
21-05-20 11:18:46.649 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 2.2330ms
21-05-20 11:18:46.655 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 11:18:46.655 +01:00 [INF] CORS policy execution successful.
21-05-20 11:18:46.661 +01:00 [INF] Successfully validated the token.
21-05-20 11:18:46.664 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 11:18:46.678 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 11:18:47.188 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:18:47.207 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 11:18:47.360 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:18:47.414 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 735.7292ms
21-05-20 11:18:47.414 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 11:18:47.416 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 761.3630ms
21-05-20 11:18:57.770 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 11:18:57.770 +01:00 [INF] CORS policy execution successful.
21-05-20 11:18:57.770 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 0.8404ms
21-05-20 11:18:57.775 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 11:18:57.775 +01:00 [INF] CORS policy execution successful.
21-05-20 11:18:57.782 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 11:18:57.789 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 11:18:57.816 +01:00 [INF] Registration attempt for 123
21-05-20 11:18:57.827 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 11:18:57.829 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 11:18:57.835 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 45.928ms
21-05-20 11:18:57.835 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 11:18:57.837 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 62.0521ms
21-05-20 11:35:55.216 +01:00 [INF] Application Is Starting
21-05-20 11:35:59.487 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 11:36:00.600 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 11:36:00.601 +01:00 [INF] Hosting environment: Development
21-05-20 11:36:00.601 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 11:36:00.913 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 11:36:01.378 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 468.8792ms
21-05-20 11:36:01.969 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 11:36:02.358 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 388.9235ms
21-05-20 11:37:05.540 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 11:37:05.558 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:05.561 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 21.1854ms
21-05-20 11:37:05.578 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62
21-05-20 11:37:05.578 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:06.089 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 11:37:06.198 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 11:37:07.680 +01:00 [INF] Login attempt for jack@kudos-software.co.uk
21-05-20 11:37:10.081 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:12.957 +01:00 [INF] Executed DbCommand (178ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 11:37:13.597 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 11:37:13.967 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 11:37:13.997 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 11:37:14.346 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 11:37:14.454 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 11:37:14.569 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 8358.5865ms
21-05-20 11:37:14.571 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 11:37:14.593 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62 - 200 502 application/json;+charset=utf-8 9019.0008ms
21-05-20 11:37:17.489 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 11:37:17.492 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:17.493 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 4.4086ms
21-05-20 11:37:17.552 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 11:37:17.553 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:17.788 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:17.792 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 11:37:17.873 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 11:37:18.060 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:18.119 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 11:37:18.246 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:37:18.287 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 413.9244ms
21-05-20 11:37:18.287 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 11:37:18.289 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 736.4407ms
21-05-20 11:37:20.450 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 11:37:20.450 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:20.451 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4241ms
21-05-20 11:37:20.459 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 11:37:20.460 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:20.468 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:20.468 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 11:37:20.474 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 11:37:20.496 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:20.757 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 11:37:20.861 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 11:37:20.957 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 482.7868ms
21-05-20 11:37:20.957 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 11:37:20.958 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 498.4084ms
21-05-20 11:37:21.606 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 11:37:21.606 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:21.607 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 1.1688ms
21-05-20 11:37:21.677 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 11:37:21.677 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:21.677 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:21.677 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 11:37:21.685 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 11:37:21.692 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:21.754 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 11:37:21.868 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:37:21.882 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 197.6742ms
21-05-20 11:37:21.883 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 11:37:21.883 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 206.5494ms
21-05-20 11:37:29.565 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 11:37:29.565 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:29.566 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4553ms
21-05-20 11:37:29.624 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 11:37:29.624 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:29.625 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:29.625 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 11:37:29.625 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 11:37:29.626 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:29.936 +01:00 [INF] Executed DbCommand (309ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 11:37:29.937 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 11:37:29.940 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 315.1121ms
21-05-20 11:37:29.941 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 11:37:29.941 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 317.6758ms
21-05-20 11:37:30.000 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 11:37:30.001 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:30.001 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4340ms
21-05-20 11:37:30.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 11:37:30.020 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:30.021 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:30.037 +01:00 [INF] Authorization was successful.
21-05-20 11:37:30.038 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 11:37:30.045 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 11:37:30.049 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:30.419 +01:00 [INF] Executed DbCommand (326ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 11:37:30.430 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:37:30.434 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 388.7473ms
21-05-20 11:37:30.434 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 11:37:30.445 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 425.2694ms
21-05-20 11:37:30.580 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 11:37:30.580 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:30.580 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.7454ms
21-05-20 11:37:30.603 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 11:37:30.603 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:30.604 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:30.604 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 11:37:30.611 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 11:37:30.615 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:30.807 +01:00 [INF] Executed DbCommand (185ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 11:37:30.815 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:37:30.858 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 246.7075ms
21-05-20 11:37:30.858 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 11:37:30.859 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 255.5856ms
21-05-20 11:37:35.641 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 11:37:35.641 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:35.641 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5947ms
21-05-20 11:37:35.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 11:37:35.670 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:35.671 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:35.671 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 11:37:35.671 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 11:37:35.672 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:35.818 +01:00 [INF] Executed DbCommand (145ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 11:37:35.819 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 11:37:35.820 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 149.0917ms
21-05-20 11:37:35.820 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 11:37:35.821 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 150.9518ms
21-05-20 11:37:35.887 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 11:37:35.887 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:35.888 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 1.2454ms
21-05-20 11:37:35.920 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 11:37:35.921 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:35.921 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:35.922 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 11:37:35.922 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 11:37:35.925 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:36.058 +01:00 [INF] Executed DbCommand (132ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 11:37:36.060 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:37:36.062 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 140.0831ms
21-05-20 11:37:36.067 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 11:37:36.068 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 147.5119ms
21-05-20 11:37:39.972 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 11:37:39.972 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:39.973 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4720ms
21-05-20 11:37:39.986 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 11:37:39.987 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:39.988 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:39.988 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 11:37:39.988 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 11:37:39.989 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:39.994 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 11:37:39.996 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:37:39.999 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 10.1617ms
21-05-20 11:37:39.999 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 11:37:39.999 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 13.1659ms
21-05-20 11:37:47.236 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 11:37:47.236 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:47.236 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.8622ms
21-05-20 11:37:47.241 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 11:37:47.242 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:47.242 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:47.244 +01:00 [INF] Authorization was successful.
21-05-20 11:37:47.245 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 11:37:47.245 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 11:37:47.246 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:47.269 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 11:37:47.270 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:37:47.272 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 26.5201ms
21-05-20 11:37:47.272 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 11:37:47.272 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 31.1970ms
21-05-20 11:37:49.757 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 11:37:49.758 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:49.758 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.3562ms
21-05-20 11:37:49.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 11:37:49.782 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:49.782 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:49.782 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 11:37:49.783 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 11:37:49.784 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:49.809 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 11:37:49.810 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:37:49.813 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 30.0223ms
21-05-20 11:37:49.813 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 11:37:49.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 31.9681ms
21-05-20 11:37:52.822 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 11:37:52.822 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:52.822 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4846ms
21-05-20 11:37:52.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 11:37:52.825 +01:00 [INF] CORS policy execution successful.
21-05-20 11:37:52.826 +01:00 [INF] Successfully validated the token.
21-05-20 11:37:52.826 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 11:37:52.826 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 11:37:52.828 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 11:37:52.834 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 11:37:52.835 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 11:37:52.836 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 9.6654ms
21-05-20 11:37:52.836 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 11:37:52.837 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 11.6672ms
21-05-20 12:07:06.683 +01:00 [INF] Application Is Starting
21-05-20 12:07:10.079 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 12:07:11.131 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 12:07:11.131 +01:00 [INF] Hosting environment: Development
21-05-20 12:07:11.132 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 12:07:11.230 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 12:07:11.530 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 304.6510ms
21-05-20 12:07:12.045 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 12:07:12.614 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 570.0369ms
21-05-20 12:09:13.389 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 12:09:13.414 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:13.421 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 31.6399ms
21-05-20 12:09:13.537 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63
21-05-20 12:09:13.537 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:13.864 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 12:09:13.952 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 12:09:15.128 +01:00 [INF] Login attempt for admin@kudos-software.co.uk
21-05-20 12:09:17.071 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:19.536 +01:00 [INF] Executed DbCommand (183ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 12:09:20.085 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 12:09:20.334 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 12:09:20.356 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 12:09:20.731 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 12:09:20.846 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 12:09:20.953 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 6989.3004ms
21-05-20 12:09:20.955 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 12:09:20.974 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63 - 200 515 application/json;+charset=utf-8 7434.1929ms
21-05-20 12:09:26.682 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 12:09:26.684 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:26.685 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 2.4870ms
21-05-20 12:09:26.692 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 12:09:26.693 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:26.844 +01:00 [INF] Successfully validated the token.
21-05-20 12:09:26.854 +01:00 [INF] Authorization was successful.
21-05-20 12:09:26.855 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 12:09:26.859 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 12:09:26.904 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:26.926 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 12:09:26.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 12:09:26.967 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 107.0381ms
21-05-20 12:09:26.967 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 12:09:26.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 277.5632ms
21-05-20 12:09:32.183 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 12:09:32.183 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:32.183 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.7008ms
21-05-20 12:09:32.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 12:09:32.205 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:32.209 +01:00 [INF] Successfully validated the token.
21-05-20 12:09:32.210 +01:00 [INF] Authorization was successful.
21-05-20 12:09:32.211 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 12:09:32.211 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 12:09:32.228 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:32.253 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 12:09:32.254 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 12:09:32.256 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 44.3605ms
21-05-20 12:09:32.256 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 12:09:32.257 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 52.1647ms
21-05-20 12:09:33.843 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 12:09:33.844 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:33.844 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5055ms
21-05-20 12:09:33.856 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 12:09:33.857 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:33.857 +01:00 [INF] Successfully validated the token.
21-05-20 12:09:33.858 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 12:09:33.866 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 12:09:33.871 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:33.920 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 12:09:33.932 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 12:09:33.940 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 74.0253ms
21-05-20 12:09:33.940 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 12:09:33.941 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 84.4391ms
21-05-20 12:09:37.338 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 12:09:37.338 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:37.339 +01:00 [INF] Successfully validated the token.
21-05-20 12:09:37.339 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 12:09:37.339 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 12:09:37.340 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:37.357 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 12:09:37.358 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 12:09:37.359 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 19.5084ms
21-05-20 12:09:37.359 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 12:09:37.360 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 21.7678ms
21-05-20 12:09:38.484 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 12:09:38.485 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:38.485 +01:00 [INF] Successfully validated the token.
21-05-20 12:09:38.485 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 12:09:38.486 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 12:09:38.486 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:38.501 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 12:09:38.504 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 12:09:38.509 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 22.9389ms
21-05-20 12:09:38.509 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 12:09:38.509 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 24.8886ms
21-05-20 12:09:40.514 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 12:09:40.514 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:40.515 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4184ms
21-05-20 12:09:40.519 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 12:09:40.519 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:40.520 +01:00 [INF] Successfully validated the token.
21-05-20 12:09:40.520 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 12:09:40.537 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 12:09:40.564 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:40.583 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 12:09:40.669 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 12:09:40.682 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 144.2032ms
21-05-20 12:09:40.682 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 12:09:40.682 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 163.3322ms
21-05-20 12:09:43.541 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 12:09:43.541 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:43.542 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5028ms
21-05-20 12:09:43.550 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 12:09:43.551 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:43.553 +01:00 [INF] Successfully validated the token.
21-05-20 12:09:43.553 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 12:09:43.557 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 12:09:43.562 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:43.705 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 12:09:43.735 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 12:09:43.741 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 183.5077ms
21-05-20 12:09:43.741 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 12:09:43.741 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 191.7686ms
21-05-20 12:09:43.818 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 12:09:43.819 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:43.819 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.3711ms
21-05-20 12:09:43.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 12:09:43.826 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:43.826 +01:00 [INF] Successfully validated the token.
21-05-20 12:09:43.826 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 12:09:43.833 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 12:09:43.845 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:43.934 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 12:09:44.056 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 12:09:44.059 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 225.6238ms
21-05-20 12:09:44.059 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 12:09:44.060 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 234.2937ms
21-05-20 12:09:49.757 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 12:09:49.757 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:49.757 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5923ms
21-05-20 12:09:49.766 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 12:09:49.766 +01:00 [INF] CORS policy execution successful.
21-05-20 12:09:49.767 +01:00 [INF] Successfully validated the token.
21-05-20 12:09:49.767 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 12:09:49.767 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 12:09:49.768 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 12:09:49.781 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 12:09:49.782 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 12:09:49.783 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 15.591ms
21-05-20 12:09:49.783 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 12:09:49.784 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 18.1015ms
21-05-20 13:18:07.692 +01:00 [INF] Application Is Starting
21-05-20 13:18:11.453 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 13:18:12.175 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 13:18:12.175 +01:00 [INF] Hosting environment: Development
21-05-20 13:18:12.176 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 13:18:12.283 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 13:18:12.618 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 335.8190ms
21-05-20 13:18:13.009 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 13:18:13.405 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 396.8995ms
21-05-20 13:18:42.735 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-20 13:18:42.754 +01:00 [INF] CORS policy execution successful.
21-05-20 13:18:42.757 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 21.9043ms
21-05-20 13:18:42.766 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471
21-05-20 13:18:42.767 +01:00 [INF] CORS policy execution successful.
21-05-20 13:18:43.481 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-20 13:18:43.614 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-20 13:18:43.619 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 13:18:43.696 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-20 13:18:46.041 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 13:18:47.972 +01:00 [INF] Executed DbCommand (132ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 13:18:48.354 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 13:18:48.408 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 13:18:48.441 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 13:18:48.724 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 13:18:48.785 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 13:18:48.910 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 5195.6119ms
21-05-20 13:18:48.913 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 13:18:48.929 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471 - 200 515 application/json;+charset=utf-8 6163.3105ms
21-05-20 13:18:49.036 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 13:18:49.037 +01:00 [INF] CORS policy execution successful.
21-05-20 13:18:49.037 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.5886ms
21-05-20 13:18:49.044 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 13:18:49.044 +01:00 [INF] CORS policy execution successful.
21-05-20 13:18:49.050 +01:00 [INF] Successfully validated the token.
21-05-20 13:18:49.054 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 13:18:49.066 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 13:18:49.579 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 13:18:49.599 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 13:18:49.700 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 13:18:49.746 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 679.4619ms
21-05-20 13:18:49.746 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 13:18:49.748 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 704.6760ms
21-05-20 13:21:08.121 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 13:21:08.122 +01:00 [INF] CORS policy execution successful.
21-05-20 13:21:08.122 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 0.6879ms
21-05-20 13:21:08.135 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 13:21:08.135 +01:00 [INF] CORS policy execution successful.
21-05-20 13:21:08.142 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 13:21:08.163 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 13:21:08.188 +01:00 [INF] Registration attempt for 123
21-05-20 13:21:08.199 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 13:21:08.200 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 13:21:08.205 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 41.9582ms
21-05-20 13:21:08.205 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 13:21:08.207 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 71.8249ms
21-05-20 13:48:43.690 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 13:48:43.696 +01:00 [INF] CORS policy execution successful.
21-05-20 13:48:43.700 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 13.0485ms
21-05-20 13:48:43.707 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63
21-05-20 13:48:43.707 +01:00 [INF] CORS policy execution successful.
21-05-20 13:48:43.740 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 13:48:43.761 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 13:48:43.813 +01:00 [INF] Login attempt for admin@kudos-software.co.uk
21-05-20 13:48:43.845 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 13:48:43.894 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 13:48:43.982 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 13:48:43.992 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 13:48:43.999 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 13:48:44.025 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 13:48:44.028 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 13:48:44.029 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 267.2904ms
21-05-20 13:48:44.029 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 13:48:44.029 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63 - 200 515 application/json;+charset=utf-8 322.3664ms
21-05-20 13:49:33.078 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 13:49:33.078 +01:00 [INF] CORS policy execution successful.
21-05-20 13:49:33.079 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6492ms
21-05-20 13:49:33.085 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 13:49:33.109 +01:00 [INF] CORS policy execution successful.
21-05-20 13:49:33.110 +01:00 [INF] Successfully validated the token.
21-05-20 13:49:33.111 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 13:49:33.112 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 13:49:33.115 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 13:49:33.120 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 13:49:33.127 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 13:49:33.127 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 15.5271ms
21-05-20 13:49:33.128 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 13:49:33.128 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 42.5405ms
21-05-20 13:50:15.562 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 13:50:15.562 +01:00 [INF] CORS policy execution successful.
21-05-20 13:50:15.562 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.8472ms
21-05-20 13:50:15.602 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 13:50:15.606 +01:00 [INF] CORS policy execution successful.
21-05-20 13:50:15.624 +01:00 [INF] Successfully validated the token.
21-05-20 13:50:15.625 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 13:50:15.632 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 13:50:15.637 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 13:50:15.942 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 13:50:16.023 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 13:50:16.053 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 421.5617ms
21-05-20 13:50:16.054 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 13:50:16.054 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 451.9273ms
21-05-20 13:50:16.201 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 13:50:16.201 +01:00 [INF] CORS policy execution successful.
21-05-20 13:50:16.202 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4762ms
21-05-20 13:50:16.207 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 13:50:16.207 +01:00 [INF] CORS policy execution successful.
21-05-20 13:50:16.208 +01:00 [INF] Successfully validated the token.
21-05-20 13:50:16.208 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 13:50:16.215 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 13:50:16.221 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 13:50:16.254 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 13:50:16.320 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 13:50:16.322 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 106.3407ms
21-05-20 13:50:16.322 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 13:50:16.323 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 115.4203ms
21-05-20 13:59:56.815 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 13:59:56.815 +01:00 [INF] CORS policy execution successful.
21-05-20 13:59:56.816 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6996ms
21-05-20 13:59:56.845 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 13:59:56.845 +01:00 [INF] CORS policy execution successful.
21-05-20 13:59:56.846 +01:00 [INF] Successfully validated the token.
21-05-20 13:59:56.846 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 13:59:56.847 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 13:59:56.848 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 13:59:56.961 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 13:59:56.962 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 13:59:56.963 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 116.4243ms
21-05-20 13:59:56.963 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 13:59:56.964 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 118.5938ms
21-05-20 13:59:57.054 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 13:59:57.055 +01:00 [INF] CORS policy execution successful.
21-05-20 13:59:57.055 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.6348ms
21-05-20 13:59:57.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 13:59:57.067 +01:00 [INF] CORS policy execution successful.
21-05-20 13:59:57.067 +01:00 [INF] Successfully validated the token.
21-05-20 13:59:57.089 +01:00 [INF] Authorization was successful.
21-05-20 13:59:57.091 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 13:59:57.099 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 13:59:57.102 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 13:59:57.118 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 13:59:57.129 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 13:59:57.131 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 32.6383ms
21-05-20 13:59:57.132 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 13:59:57.134 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 67.3805ms
21-05-20 14:01:54.817 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:01:54.817 +01:00 [INF] CORS policy execution successful.
21-05-20 14:01:54.818 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.7493ms
21-05-20 14:01:54.830 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:01:54.830 +01:00 [INF] CORS policy execution successful.
21-05-20 14:01:54.833 +01:00 [INF] Successfully validated the token.
21-05-20 14:01:54.833 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:01:54.861 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:01:54.862 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:01:54.870 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:01:54.870 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:01:54.871 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 9.7955ms
21-05-20 14:01:54.872 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:01:54.873 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 42.8353ms
21-05-20 14:01:54.905 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:01:54.905 +01:00 [INF] CORS policy execution successful.
21-05-20 14:01:54.905 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5071ms
21-05-20 14:01:54.909 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:01:54.909 +01:00 [INF] CORS policy execution successful.
21-05-20 14:01:54.909 +01:00 [INF] Successfully validated the token.
21-05-20 14:01:54.910 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:01:54.910 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:01:54.911 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:01:54.916 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:01:54.917 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:01:54.918 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 8.6117ms
21-05-20 14:01:54.919 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:01:54.919 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 10.0881ms
21-05-20 14:02:06.369 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-20 14:02:06.369 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:06.370 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 0.9471ms
21-05-20 14:02:06.375 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471
21-05-20 14:02:06.375 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:06.376 +01:00 [INF] Successfully validated the token.
21-05-20 14:02:06.377 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 14:02:06.377 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-20 14:02:06.382 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:02:06.398 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 14:02:06.419 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 14:02:06.422 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 14:02:06.429 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 14:02:06.461 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 14:02:06.462 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 14:02:06.463 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 85.527ms
21-05-20 14:02:06.463 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 14:02:06.464 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471 - 200 515 application/json;+charset=utf-8 89.1172ms
21-05-20 14:02:06.495 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:02:06.495 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:06.495 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4055ms
21-05-20 14:02:06.499 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:02:06.499 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:06.499 +01:00 [INF] Successfully validated the token.
21-05-20 14:02:06.500 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:02:06.500 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:02:06.504 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:02:06.518 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 14:02:06.519 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:02:06.519 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 18.876ms
21-05-20 14:02:06.519 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:02:06.520 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 20.7045ms
21-05-20 14:02:22.551 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:02:22.551 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:22.552 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5323ms
21-05-20 14:02:22.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:02:22.559 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:22.560 +01:00 [INF] Successfully validated the token.
21-05-20 14:02:22.560 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:02:22.560 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:02:22.561 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:02:22.570 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:02:22.571 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:02:22.572 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 11.827ms
21-05-20 14:02:22.572 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:02:22.573 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 14.4879ms
21-05-20 14:02:24.450 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:02:24.450 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:24.450 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5556ms
21-05-20 14:02:24.502 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:02:24.502 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:24.503 +01:00 [INF] Successfully validated the token.
21-05-20 14:02:24.503 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:02:24.503 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:02:24.504 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:02:24.511 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 14:02:24.512 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:02:24.528 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 24.4926ms
21-05-20 14:02:24.528 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:02:24.530 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 27.8220ms
21-05-20 14:02:27.251 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 14:02:27.252 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:27.252 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.6554ms
21-05-20 14:02:27.264 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 14:02:27.265 +01:00 [INF] CORS policy execution successful.
21-05-20 14:02:27.265 +01:00 [INF] Successfully validated the token.
21-05-20 14:02:27.266 +01:00 [INF] Authorization was successful.
21-05-20 14:02:27.267 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:02:27.267 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 14:02:27.267 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:02:27.271 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 14:02:27.273 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:02:27.273 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 6.4579ms
21-05-20 14:02:27.273 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:02:27.274 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 9.6582ms
21-05-20 14:03:12.406 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 14:03:12.406 +01:00 [INF] CORS policy execution successful.
21-05-20 14:03:12.406 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.7607ms
21-05-20 14:03:12.414 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 14:03:12.415 +01:00 [INF] CORS policy execution successful.
21-05-20 14:03:12.416 +01:00 [INF] Successfully validated the token.
21-05-20 14:03:12.420 +01:00 [INF] Authorization was successful.
21-05-20 14:03:12.421 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:03:12.421 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 14:03:12.422 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:03:12.432 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 14:03:12.436 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:03:12.437 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 15.9706ms
21-05-20 14:03:12.437 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:03:12.437 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 23.2907ms
21-05-20 14:03:18.703 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 14:03:18.703 +01:00 [INF] CORS policy execution successful.
21-05-20 14:03:18.704 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.6220ms
21-05-20 14:03:18.709 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 14:03:18.709 +01:00 [INF] CORS policy execution successful.
21-05-20 14:03:18.710 +01:00 [INF] Successfully validated the token.
21-05-20 14:03:18.710 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:03:18.715 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:03:18.718 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:03:18.738 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 14:03:18.749 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:03:18.754 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 38.3924ms
21-05-20 14:03:18.754 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:03:18.754 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 45.1770ms
21-05-20 14:04:39.721 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/1 - -
21-05-20 14:04:39.721 +01:00 [INF] CORS policy execution successful.
21-05-20 14:04:39.722 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/1 - - - 204 - - 0.4455ms
21-05-20 14:04:39.728 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee/1 - -
21-05-20 14:04:39.729 +01:00 [INF] CORS policy execution successful.
21-05-20 14:04:39.753 +01:00 [INF] Successfully validated the token.
21-05-20 14:04:39.753 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-20 14:04:39.758 +01:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:04:39.760 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:04:39.768 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 14:04:39.773 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.EmployeeDTO'.
21-05-20 14:04:39.774 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI) in 15.6113ms
21-05-20 14:04:39.774 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-20 14:04:39.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee/1 - - - 200 22 application/json;+charset=utf-8 46.7823ms
21-05-20 14:04:41.253 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 14:04:41.253 +01:00 [INF] CORS policy execution successful.
21-05-20 14:04:41.253 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5270ms
21-05-20 14:04:41.259 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 14:04:41.259 +01:00 [INF] CORS policy execution successful.
21-05-20 14:04:41.260 +01:00 [INF] Successfully validated the token.
21-05-20 14:04:41.260 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:04:41.260 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:04:41.261 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:04:41.270 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 14:04:41.271 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:04:41.273 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 11.6611ms
21-05-20 14:04:41.273 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:04:41.274 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 14.6294ms
21-05-20 14:05:37.756 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 14:05:37.756 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:37.756 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.3910ms
21-05-20 14:05:37.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 14:05:37.764 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:37.765 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:37.765 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:05:37.765 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:05:37.766 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:37.781 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 14:05:37.782 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:05:37.782 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 17.0663ms
21-05-20 14:05:37.783 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:05:37.783 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 21.6479ms
21-05-20 14:05:39.646 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 14:05:39.646 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:39.649 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:39.649 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:05:39.649 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:05:39.659 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:39.669 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 14:05:39.669 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:05:39.670 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 20.2074ms
21-05-20 14:05:39.670 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:05:39.670 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 23.9365ms
21-05-20 14:05:41.293 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 14:05:41.293 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:41.293 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:41.293 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:05:41.294 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:05:41.294 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:41.301 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 14:05:41.304 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:05:41.305 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 10.9069ms
21-05-20 14:05:41.305 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:05:41.305 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 12.9579ms
21-05-20 14:05:43.700 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:05:43.700 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:43.701 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5755ms
21-05-20 14:05:43.710 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:05:43.710 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:43.711 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:43.711 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:05:43.711 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:05:43.712 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:43.716 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 14:05:43.717 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:05:43.718 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.8086ms
21-05-20 14:05:43.718 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:05:43.718 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 8.3094ms
21-05-20 14:05:44.987 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:05:44.987 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:44.988 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6500ms
21-05-20 14:05:44.994 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:05:44.994 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:44.995 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:44.995 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:05:44.995 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:05:44.996 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:45.001 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:05:45.003 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:05:45.004 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 9.1029ms
21-05-20 14:05:45.004 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:05:45.005 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 10.6428ms
21-05-20 14:05:45.029 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:05:45.029 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:45.030 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.2962ms
21-05-20 14:05:45.033 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:05:45.033 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:45.033 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:45.033 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:05:45.034 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:05:45.034 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:45.039 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:05:45.040 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:05:45.041 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 7.08ms
21-05-20 14:05:45.041 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:05:45.041 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 8.3724ms
21-05-20 14:05:46.695 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:05:46.695 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:46.695 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:46.696 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:05:46.696 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:05:46.697 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:46.708 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:05:46.709 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:05:46.709 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 13.3703ms
21-05-20 14:05:46.709 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:05:46.710 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 15.0627ms
21-05-20 14:05:46.784 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 14:05:46.784 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:46.784 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5477ms
21-05-20 14:05:46.788 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 14:05:46.788 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:46.789 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:46.789 +01:00 [INF] Authorization was successful.
21-05-20 14:05:46.789 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:05:46.789 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 14:05:46.790 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:46.792 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 14:05:46.793 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:05:46.793 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 3.7076ms
21-05-20 14:05:46.793 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:05:46.794 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 5.5053ms
21-05-20 14:05:50.798 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:05:50.798 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:50.798 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4523ms
21-05-20 14:05:50.803 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:05:50.804 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:50.804 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:50.804 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:05:50.804 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:05:50.805 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:50.807 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:05:50.811 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:05:50.811 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 6.9756ms
21-05-20 14:05:50.812 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:05:50.812 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 8.7438ms
21-05-20 14:05:50.848 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:05:50.848 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:50.848 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.3247ms
21-05-20 14:05:50.850 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:05:50.850 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:50.851 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:50.851 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:05:50.851 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:05:50.852 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:50.854 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:05:50.856 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:05:50.856 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 4.668ms
21-05-20 14:05:50.856 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:05:50.856 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 6.2349ms
21-05-20 14:05:51.898 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:05:51.899 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:51.899 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:51.899 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:05:51.899 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:05:51.900 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:51.903 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:05:51.904 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:05:51.905 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 5.4486ms
21-05-20 14:05:51.905 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:05:51.906 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 7.3500ms
21-05-20 14:05:52.009 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 14:05:52.010 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:52.010 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 1.1962ms
21-05-20 14:05:52.013 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 14:05:52.013 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:52.014 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:52.014 +01:00 [INF] Authorization was successful.
21-05-20 14:05:52.014 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:05:52.014 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 14:05:52.014 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:52.016 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 14:05:52.017 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:05:52.018 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 4.0816ms
21-05-20 14:05:52.018 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:05:52.019 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 5.4958ms
21-05-20 14:05:52.038 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 14:05:52.039 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:52.039 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5446ms
21-05-20 14:05:52.042 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 14:05:52.042 +01:00 [INF] CORS policy execution successful.
21-05-20 14:05:52.042 +01:00 [INF] Successfully validated the token.
21-05-20 14:05:52.042 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:05:52.042 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:05:52.043 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:05:52.045 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 14:05:52.046 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:05:52.046 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 3.7316ms
21-05-20 14:05:52.046 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:05:52.046 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 4.7878ms
21-05-20 14:06:13.021 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:06:13.022 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:13.022 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5883ms
21-05-20 14:06:13.037 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:06:13.037 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:13.038 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:13.038 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:13.038 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:06:13.039 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:13.089 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:06:13.115 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:06:13.116 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 78.0104ms
21-05-20 14:06:13.116 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:13.117 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 79.9670ms
21-05-20 14:06:13.155 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:06:13.155 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:13.155 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.3867ms
21-05-20 14:06:13.158 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:06:13.158 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:13.159 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:13.159 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:06:13.159 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:06:13.159 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:13.172 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:06:13.173 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:06:13.174 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 15.4276ms
21-05-20 14:06:13.175 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:06:13.175 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 16.9202ms
21-05-20 14:06:14.126 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:06:14.127 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:14.127 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:14.127 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:14.127 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:06:14.129 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:14.135 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:06:14.135 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:06:14.136 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 8.5635ms
21-05-20 14:06:14.136 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:14.136 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 9.9689ms
21-05-20 14:06:14.190 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 14:06:14.190 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:14.191 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.6216ms
21-05-20 14:06:14.193 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 14:06:14.193 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:14.193 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:14.194 +01:00 [INF] Authorization was successful.
21-05-20 14:06:14.194 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:06:14.194 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 14:06:14.194 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:14.196 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 14:06:14.197 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:06:14.198 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 3.7754ms
21-05-20 14:06:14.198 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:06:14.198 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 4.9002ms
21-05-20 14:06:19.575 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:06:19.576 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:19.576 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.9534ms
21-05-20 14:06:19.579 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:06:19.579 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:19.580 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:19.580 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:19.580 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:06:19.581 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:19.583 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:06:19.584 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:06:19.584 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 4.3096ms
21-05-20 14:06:19.584 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:19.585 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 5.6275ms
21-05-20 14:06:19.620 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:06:19.620 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:19.620 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.3624ms
21-05-20 14:06:19.622 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:06:19.623 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:19.623 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:19.623 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:06:19.623 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:06:19.623 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:19.625 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:06:19.627 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:06:19.627 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 4.0832ms
21-05-20 14:06:19.627 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:06:19.628 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 5.1458ms
21-05-20 14:06:20.437 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:06:20.437 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:20.437 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:20.437 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:20.437 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:06:20.439 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:20.447 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:06:20.448 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:06:20.448 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 11.0208ms
21-05-20 14:06:20.449 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:20.449 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 12.6213ms
21-05-20 14:06:20.517 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 14:06:20.517 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:20.517 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4387ms
21-05-20 14:06:20.520 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 14:06:20.520 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:20.520 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:20.521 +01:00 [INF] Authorization was successful.
21-05-20 14:06:20.521 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:06:20.521 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 14:06:20.522 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:20.524 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 14:06:20.526 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:06:20.526 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 5.1658ms
21-05-20 14:06:20.526 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:06:20.527 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 6.9186ms
21-05-20 14:06:20.558 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 14:06:20.558 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:20.558 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4776ms
21-05-20 14:06:20.562 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 14:06:20.562 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:20.562 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:20.562 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:06:20.563 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:06:20.563 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:20.572 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 14:06:20.572 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:06:20.573 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 10.1164ms
21-05-20 14:06:20.573 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:06:20.573 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 11.4022ms
21-05-20 14:06:25.085 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:06:25.085 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:25.086 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.7525ms
21-05-20 14:06:25.089 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:06:25.089 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:25.089 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:25.089 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:25.089 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:06:25.090 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:25.095 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:06:25.096 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:06:25.096 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 7.0259ms
21-05-20 14:06:25.097 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:06:25.097 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 8.5666ms
21-05-20 14:06:25.135 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:06:25.136 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:25.136 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4280ms
21-05-20 14:06:25.138 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:06:25.139 +01:00 [INF] CORS policy execution successful.
21-05-20 14:06:25.139 +01:00 [INF] Successfully validated the token.
21-05-20 14:06:25.139 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:06:25.139 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:06:25.140 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:06:25.144 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:06:25.145 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:06:25.146 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.7688ms
21-05-20 14:06:25.146 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:06:25.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 7.9158ms
21-05-20 14:08:07.211 +01:00 [INF] Application Is Starting
21-05-20 14:08:12.133 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 14:08:12.845 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 14:08:12.846 +01:00 [INF] Hosting environment: Development
21-05-20 14:08:12.846 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 14:08:12.948 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 14:08:13.382 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 437.7368ms
21-05-20 14:08:13.868 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 14:08:14.213 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 345.0526ms
21-05-20 14:09:05.929 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:09:05.967 +01:00 [INF] CORS policy execution successful.
21-05-20 14:09:05.971 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 43.5292ms
21-05-20 14:09:05.976 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:09:05.977 +01:00 [INF] CORS policy execution successful.
21-05-20 14:09:06.754 +01:00 [INF] Successfully validated the token.
21-05-20 14:09:06.765 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:09:06.881 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:09:09.810 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:09:11.258 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 14:09:11.563 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:09:11.856 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 4958.9066ms
21-05-20 14:09:11.858 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:09:11.880 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 5903.8495ms
21-05-20 14:22:26.211 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-20 14:22:26.212 +01:00 [INF] CORS policy execution successful.
21-05-20 14:22:26.214 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 2.6103ms
21-05-20 14:22:26.251 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 481
21-05-20 14:22:26.251 +01:00 [INF] CORS policy execution successful.
21-05-20 14:22:26.325 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-20 14:22:26.918 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-20 14:22:26.918 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 14:22:26.930 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-20 14:22:27.171 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:22:27.443 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 14:22:27.741 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 14:22:27.796 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 14:22:27.822 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 14:22:28.145 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 14:22:28.241 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 14:22:28.247 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 1316.5172ms
21-05-20 14:22:28.247 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 14:22:28.252 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 481 - 200 515 application/json;+charset=utf-8 2000.5765ms
21-05-20 14:22:28.328 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:22:28.329 +01:00 [INF] CORS policy execution successful.
21-05-20 14:22:28.329 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6033ms
21-05-20 14:22:28.333 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:22:28.333 +01:00 [INF] CORS policy execution successful.
21-05-20 14:22:28.337 +01:00 [INF] Successfully validated the token.
21-05-20 14:22:28.338 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:22:28.338 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:22:28.356 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:22:28.361 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 14:22:28.363 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:22:28.364 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 25.9947ms
21-05-20 14:22:28.364 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:22:28.365 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 32.3718ms
21-05-20 14:22:29.749 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:22:29.749 +01:00 [INF] CORS policy execution successful.
21-05-20 14:22:29.750 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5180ms
21-05-20 14:22:29.756 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:22:29.756 +01:00 [INF] CORS policy execution successful.
21-05-20 14:22:29.757 +01:00 [INF] Successfully validated the token.
21-05-20 14:22:29.757 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:22:29.767 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:22:29.775 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:22:29.959 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:22:30.007 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:22:30.019 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 251.15ms
21-05-20 14:22:30.019 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:22:30.019 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 263.0653ms
21-05-20 14:22:30.146 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:22:30.147 +01:00 [INF] CORS policy execution successful.
21-05-20 14:22:30.147 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5200ms
21-05-20 14:22:30.154 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:22:30.154 +01:00 [INF] CORS policy execution successful.
21-05-20 14:22:30.155 +01:00 [INF] Successfully validated the token.
21-05-20 14:22:30.155 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:22:30.161 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:22:30.166 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:22:30.195 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:22:30.283 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:22:30.285 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 123.1589ms
21-05-20 14:22:30.285 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:22:30.285 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 131.4727ms
21-05-20 14:36:25.517 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 14:36:25.518 +01:00 [INF] CORS policy execution successful.
21-05-20 14:36:25.521 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.8213ms
21-05-20 14:36:25.525 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 14:36:25.525 +01:00 [INF] CORS policy execution successful.
21-05-20 14:36:25.526 +01:00 [INF] Successfully validated the token.
21-05-20 14:36:25.539 +01:00 [INF] Authorization was successful.
21-05-20 14:36:25.540 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:36:25.545 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 14:36:25.549 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:36:25.586 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 14:36:25.591 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:36:25.592 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 46.8812ms
21-05-20 14:36:25.593 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:36:25.594 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 68.7081ms
21-05-20 14:37:26.569 +01:00 [INF] Application Is Starting
21-05-20 14:37:29.896 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 14:37:30.404 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 14:37:30.404 +01:00 [INF] Hosting environment: Development
21-05-20 14:37:30.404 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 14:37:30.474 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 14:37:30.701 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 229.3308ms
21-05-20 14:37:30.995 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 14:37:31.416 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 421.3352ms
21-05-20 14:39:11.200 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-20 14:39:11.218 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:11.222 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 22.2994ms
21-05-20 14:39:11.231 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471
21-05-20 14:39:11.232 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:12.311 +01:00 [INF] Successfully validated the token.
21-05-20 14:39:12.318 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 14:39:12.418 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-20 14:39:15.169 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:39:17.245 +01:00 [INF] Executed DbCommand (194ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 14:39:17.825 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 14:39:17.906 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 14:39:17.945 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 14:39:18.261 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 14:39:18.368 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 14:39:18.493 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 6054.6519ms
21-05-20 14:39:18.507 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-20 14:39:18.528 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 471 - 200 515 application/json;+charset=utf-8 7296.9133ms
21-05-20 14:39:18.646 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:39:18.647 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:18.647 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.2638ms
21-05-20 14:39:18.652 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:39:18.653 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:18.658 +01:00 [INF] Successfully validated the token.
21-05-20 14:39:18.659 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:39:18.673 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:39:19.270 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:39:19.290 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 14:39:19.427 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:39:19.487 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 813.83ms
21-05-20 14:39:19.487 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:39:19.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 837.1455ms
21-05-20 14:39:28.237 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - -
21-05-20 14:39:28.238 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:28.238 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - - - 204 - - 1.2132ms
21-05-20 14:39:28.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/4 - -
21-05-20 14:39:28.246 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:28.251 +01:00 [INF] Successfully validated the token.
21-05-20 14:39:28.251 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:39:28.257 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:39:28.279 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:39:28.426 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:39:28.458 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:39:28.466 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 208.6131ms
21-05-20 14:39:28.466 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:39:28.466 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/4 - - - 200 722 application/json;+charset=utf-8 220.1744ms
21-05-20 14:39:28.626 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=4 - -
21-05-20 14:39:28.626 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:28.627 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=4 - - - 204 - - 0.5144ms
21-05-20 14:39:28.633 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=4 - -
21-05-20 14:39:28.633 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:28.634 +01:00 [INF] Successfully validated the token.
21-05-20 14:39:28.634 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:39:28.641 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:39:28.650 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:39:28.724 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:39:28.818 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:39:28.821 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 179.9688ms
21-05-20 14:39:28.821 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:39:28.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=4 - - - 200 651 application/json;+charset=utf-8 191.4479ms
21-05-20 14:39:34.546 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:39:34.546 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:34.546 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4971ms
21-05-20 14:39:34.554 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:39:34.554 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:34.555 +01:00 [INF] Successfully validated the token.
21-05-20 14:39:34.555 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:39:34.555 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:39:34.556 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:39:34.599 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 14:39:34.603 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:39:34.603 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 48.1126ms
21-05-20 14:39:34.604 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:39:34.604 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 50.0941ms
21-05-20 14:39:36.186 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:39:36.186 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:36.191 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 4.5986ms
21-05-20 14:39:36.203 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:39:36.204 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:36.204 +01:00 [INF] Successfully validated the token.
21-05-20 14:39:36.204 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:39:36.205 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:39:36.206 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:39:36.217 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:39:36.217 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:39:36.219 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 13.6761ms
21-05-20 14:39:36.219 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:39:36.219 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 15.7423ms
21-05-20 14:39:36.262 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:39:36.262 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:36.262 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4991ms
21-05-20 14:39:36.266 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:39:36.266 +01:00 [INF] CORS policy execution successful.
21-05-20 14:39:36.267 +01:00 [INF] Successfully validated the token.
21-05-20 14:39:36.267 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:39:36.267 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:39:36.268 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:39:36.280 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:39:36.282 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:39:36.283 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 16.0627ms
21-05-20 14:39:36.283 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:39:36.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 17.7188ms
21-05-20 14:40:37.105 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:40:37.107 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:37.108 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 2.2322ms
21-05-20 14:40:37.140 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:40:37.141 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:37.142 +01:00 [INF] Successfully validated the token.
21-05-20 14:40:37.143 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:40:37.143 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:40:37.145 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:40:37.165 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 14:40:37.167 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:40:37.168 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 25.5938ms
21-05-20 14:40:37.169 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:40:37.169 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 29.3830ms
21-05-20 14:40:39.661 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 14:40:39.661 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:39.661 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3954ms
21-05-20 14:40:39.673 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 14:40:39.673 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:39.673 +01:00 [INF] Successfully validated the token.
21-05-20 14:40:39.684 +01:00 [INF] Authorization was successful.
21-05-20 14:40:39.685 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:40:39.691 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 14:40:39.694 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:40:39.710 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 14:40:39.721 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:40:39.723 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 32.0749ms
21-05-20 14:40:39.723 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:40:39.725 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 52.6315ms
21-05-20 14:40:42.484 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 14:40:42.484 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:42.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.0652ms
21-05-20 14:40:42.491 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 14:40:42.491 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:42.491 +01:00 [INF] Successfully validated the token.
21-05-20 14:40:42.491 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:40:42.508 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:40:42.512 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:40:42.523 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 14:40:42.530 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:40:42.537 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 28.0376ms
21-05-20 14:40:42.537 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:40:42.537 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 46.2870ms
21-05-20 14:40:44.285 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:40:44.285 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:44.287 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.7517ms
21-05-20 14:40:44.296 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 14:40:44.296 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:44.296 +01:00 [INF] Successfully validated the token.
21-05-20 14:40:44.296 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:40:44.297 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:40:44.298 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:40:44.323 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 14:40:44.324 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:40:44.329 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 32.4839ms
21-05-20 14:40:44.329 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 14:40:44.330 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 33.9900ms
21-05-20 14:40:46.193 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:40:46.194 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:46.194 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.2987ms
21-05-20 14:40:46.199 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:40:46.199 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:46.201 +01:00 [INF] Successfully validated the token.
21-05-20 14:40:46.201 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:40:46.201 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:40:46.202 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:40:46.208 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:40:46.209 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:40:46.209 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 7.851ms
21-05-20 14:40:46.210 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:40:46.210 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 10.7341ms
21-05-20 14:40:46.245 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:40:46.246 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:46.246 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4910ms
21-05-20 14:40:46.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 14:40:46.249 +01:00 [INF] CORS policy execution successful.
21-05-20 14:40:46.249 +01:00 [INF] Successfully validated the token.
21-05-20 14:40:46.250 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:40:46.250 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 14:40:46.250 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:40:46.257 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 14:40:46.259 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:40:46.260 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 9.7691ms
21-05-20 14:40:46.260 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 14:40:46.261 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 11.5633ms
21-05-20 14:44:30.485 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 14:44:30.486 +01:00 [INF] CORS policy execution successful.
21-05-20 14:44:30.488 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.9224ms
21-05-20 14:44:30.495 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 14:44:30.496 +01:00 [INF] CORS policy execution successful.
21-05-20 14:44:30.497 +01:00 [INF] Successfully validated the token.
21-05-20 14:44:30.497 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:44:30.497 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 14:44:30.498 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:44:30.524 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 14:44:30.525 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 14:44:30.525 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 28.0195ms
21-05-20 14:44:30.525 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 14:44:30.526 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 30.8143ms
21-05-20 14:44:30.793 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 14:44:30.793 +01:00 [INF] CORS policy execution successful.
21-05-20 14:44:30.793 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5258ms
21-05-20 14:44:30.806 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 14:44:30.807 +01:00 [INF] CORS policy execution successful.
21-05-20 14:44:30.807 +01:00 [INF] Successfully validated the token.
21-05-20 14:44:30.808 +01:00 [INF] Authorization was successful.
21-05-20 14:44:30.808 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:44:30.809 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 14:44:30.810 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:44:30.827 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 14:44:30.828 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:44:30.828 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 19.6941ms
21-05-20 14:44:30.829 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 14:44:30.829 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 22.9338ms
21-05-20 14:44:30.887 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 14:44:30.887 +01:00 [INF] CORS policy execution successful.
21-05-20 14:44:30.888 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.3943ms
21-05-20 14:44:30.893 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 14:44:30.893 +01:00 [INF] CORS policy execution successful.
21-05-20 14:44:30.893 +01:00 [INF] Successfully validated the token.
21-05-20 14:44:30.894 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:44:30.894 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 14:44:30.894 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 14:44:30.935 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 14:44:30.935 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 14:44:30.938 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 44.243ms
21-05-20 14:44:30.938 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 14:44:30.939 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 45.8774ms
21-05-20 15:04:54.590 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:04:54.591 +01:00 [INF] CORS policy execution successful.
21-05-20 15:04:54.591 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.1326ms
21-05-20 15:04:54.881 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:04:54.881 +01:00 [INF] CORS policy execution successful.
21-05-20 15:04:55.485 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-20 15:04:56.498 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-20 15:04:56.498 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:04:56.499 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:04:56.500 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:05:03.448 +01:00 [INF] Executed DbCommand (1,247ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:05:03.450 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:05:03.526 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 7026.8829ms
21-05-20 15:05:03.526 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:05:03.527 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 8645.9038ms
21-05-20 15:05:04.131 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:05:04.131 +01:00 [INF] CORS policy execution successful.
21-05-20 15:05:04.131 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4697ms
21-05-20 15:05:04.852 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:05:04.852 +01:00 [INF] CORS policy execution successful.
21-05-20 15:05:04.936 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-20 15:05:04.937 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-20 15:05:04.937 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:05:04.937 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:05:04.938 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:05:06.773 +01:00 [INF] Executed DbCommand (1,833ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:05:06.775 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:05:06.779 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 1841.2226ms
21-05-20 15:05:06.779 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:05:06.779 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 1927.7630ms
21-05-20 15:05:52.711 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 15:05:52.711 +01:00 [INF] CORS policy execution successful.
21-05-20 15:05:52.713 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 0.5169ms
21-05-20 15:05:52.717 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62
21-05-20 15:05:52.718 +01:00 [INF] CORS policy execution successful.
21-05-20 15:05:52.718 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:05:52.734 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:05:52.761 +01:00 [INF] Login attempt for jack@kudos-software.co.uk
21-05-20 15:05:52.762 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:05:52.783 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:05:52.837 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 15:05:52.842 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:05:52.845 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 15:05:52.852 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 15:05:52.854 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 15:05:52.854 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 119.9059ms
21-05-20 15:05:52.854 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:05:52.855 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62 - 200 502 application/json;+charset=utf-8 137.2608ms
21-05-20 15:05:56.751 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:05:56.751 +01:00 [INF] CORS policy execution successful.
21-05-20 15:05:56.752 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4330ms
21-05-20 15:05:56.760 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:05:56.760 +01:00 [INF] CORS policy execution successful.
21-05-20 15:05:56.762 +01:00 [INF] Successfully validated the token.
21-05-20 15:05:56.762 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:05:56.762 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:05:56.763 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:05:56.775 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:05:56.776 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:05:56.777 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 14.4824ms
21-05-20 15:05:56.777 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:05:56.777 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 17.5027ms
21-05-20 15:06:00.063 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:06:00.063 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:00.063 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4501ms
21-05-20 15:06:00.072 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:06:00.072 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:00.073 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:00.073 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:06:00.073 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:06:00.074 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:00.082 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:06:00.083 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:06:00.085 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 11.8543ms
21-05-20 15:06:00.085 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:06:00.086 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 13.4307ms
21-05-20 15:06:00.120 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:06:00.120 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:00.120 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4288ms
21-05-20 15:06:00.124 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:06:00.124 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:00.124 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:00.125 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:06:00.125 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:06:00.125 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:00.143 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:06:00.145 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:06:00.146 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 21.0095ms
21-05-20 15:06:00.146 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:06:00.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 22.7377ms
21-05-20 15:06:12.766 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:06:12.766 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:12.777 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.1173ms
21-05-20 15:06:12.786 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:06:12.786 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:12.787 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:12.787 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:06:12.787 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:06:12.788 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:12.853 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:06:12.854 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:06:12.855 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 67.5035ms
21-05-20 15:06:12.855 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:06:12.855 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 69.6921ms
21-05-20 15:06:12.889 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:06:12.889 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:12.889 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4162ms
21-05-20 15:06:12.894 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:06:12.894 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:12.895 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:12.896 +01:00 [INF] Authorization was successful.
21-05-20 15:06:12.896 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:06:12.897 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:06:12.897 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:12.902 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:06:12.902 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:06:12.903 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 6.2123ms
21-05-20 15:06:12.903 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:06:12.903 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 9.5745ms
21-05-20 15:06:12.932 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:06:12.932 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:12.933 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5135ms
21-05-20 15:06:12.936 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:06:12.936 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:12.936 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:12.936 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:06:12.936 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:06:12.937 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:12.940 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:06:12.940 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:06:12.941 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 4.6034ms
21-05-20 15:06:12.941 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:06:12.942 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 5.7914ms
21-05-20 15:06:14.874 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:06:14.878 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:14.878 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:14.879 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:06:14.879 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:06:14.881 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:14.895 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:06:14.896 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:06:14.897 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 18.1752ms
21-05-20 15:06:14.897 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:06:14.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 23.0852ms
21-05-20 15:06:14.939 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:06:14.939 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:14.939 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4015ms
21-05-20 15:06:14.942 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:06:14.942 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:14.943 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:14.943 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:06:14.944 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:06:14.944 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:14.953 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:06:14.954 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:06:14.954 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 10.8362ms
21-05-20 15:06:14.955 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:06:14.955 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 13.0547ms
21-05-20 15:06:17.732 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:06:17.732 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:17.732 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4275ms
21-05-20 15:06:17.736 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:06:17.737 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:17.737 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:17.737 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:06:17.737 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:06:17.738 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:17.776 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:06:17.776 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:06:17.777 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 39.7269ms
21-05-20 15:06:17.777 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:06:17.783 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 46.5022ms
21-05-20 15:06:19.054 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:06:19.054 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:19.061 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 7.3136ms
21-05-20 15:06:19.071 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:06:19.072 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:19.072 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:19.073 +01:00 [INF] Authorization was successful.
21-05-20 15:06:19.073 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:06:19.073 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:06:19.073 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:19.078 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:06:19.079 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:06:19.079 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 6.358ms
21-05-20 15:06:19.079 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:06:19.080 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 8.2885ms
21-05-20 15:06:23.984 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:06:23.984 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:23.984 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5388ms
21-05-20 15:06:23.988 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:06:23.989 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:23.989 +01:00 [INF] Successfully validated the token.
21-05-20 15:06:23.989 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:06:23.990 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:06:23.992 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:23.998 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:06:24.000 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:06:24.006 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 14.2575ms
21-05-20 15:06:24.006 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:06:24.006 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 17.6295ms
21-05-20 15:06:42.295 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/account/forgotpassword - -
21-05-20 15:06:42.295 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:42.296 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/account/forgotpassword - - - 204 - - 0.5533ms
21-05-20 15:06:42.299 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/account/forgotpassword application/json;+charset=utf-8 88
21-05-20 15:06:42.299 +01:00 [INF] CORS policy execution successful.
21-05-20 15:06:42.302 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.ForgotPassword (WebAPI)'
21-05-20 15:06:42.311 +01:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(WebAPI.DTOs.ForgotPasswordDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:06:42.331 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:06:42.341 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 15:06:45.451 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
21-05-20 15:06:45.451 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.ForgotPassword (WebAPI) in 3140.5513ms
21-05-20 15:06:45.452 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.ForgotPassword (WebAPI)'
21-05-20 15:06:45.469 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/account/forgotpassword application/json;+charset=utf-8 88 - 200 - - 3169.5466ms
21-05-20 15:10:40.100 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 15:10:40.257 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.0510ms
21-05-20 15:28:07.173 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 15:28:07.176 +01:00 [INF] CORS policy execution successful.
21-05-20 15:28:07.177 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 3.7399ms
21-05-20 15:28:07.186 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 70
21-05-20 15:28:07.188 +01:00 [INF] CORS policy execution successful.
21-05-20 15:28:07.188 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:28:07.198 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:28:07.217 +01:00 [INF] Registration attempt for test@tes123.co.uk
21-05-20 15:28:07.230 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 15:28:07.232 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 15:28:07.246 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 47.9409ms
21-05-20 15:28:07.247 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:28:07.279 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 70 - 400 263 application/json;+charset=utf-8 93.3832ms
21-05-20 15:28:37.529 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 15:28:37.529 +01:00 [INF] CORS policy execution successful.
21-05-20 15:28:37.530 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 0.4718ms
21-05-20 15:28:37.542 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 15:28:37.542 +01:00 [INF] CORS policy execution successful.
21-05-20 15:28:37.543 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:28:37.543 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:28:37.545 +01:00 [INF] Registration attempt for 123
21-05-20 15:28:37.545 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 15:28:37.545 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 15:28:37.546 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 3.1516ms
21-05-20 15:28:37.546 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:28:37.552 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 9.6225ms
21-05-20 15:32:32.925 +01:00 [INF] Application Is Starting
21-05-20 15:32:38.353 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 15:32:39.313 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 15:32:39.314 +01:00 [INF] Hosting environment: Development
21-05-20 15:32:39.314 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 15:32:39.441 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 15:32:40.203 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 761.0592ms
21-05-20 15:32:40.671 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 15:32:41.202 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 530.7423ms
21-05-20 15:33:11.449 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 15:33:11.465 +01:00 [INF] CORS policy execution successful.
21-05-20 15:33:11.467 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 19.2483ms
21-05-20 15:33:11.478 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 15:33:11.479 +01:00 [INF] CORS policy execution successful.
21-05-20 15:33:11.796 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:33:11.866 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:33:12.795 +01:00 [INF] Registration attempt for 123
21-05-20 15:33:12.802 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 15:33:12.815 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 15:33:12.927 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 1049.6701ms
21-05-20 15:33:12.929 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:33:12.933 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 1454.5296ms
21-05-20 15:37:13.745 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 15:37:13.746 +01:00 [INF] CORS policy execution successful.
21-05-20 15:37:13.747 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 1.9556ms
21-05-20 15:37:13.847 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 15:37:13.847 +01:00 [INF] CORS policy execution successful.
21-05-20 15:37:13.856 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:37:13.856 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:37:13.865 +01:00 [INF] Registration attempt for 123
21-05-20 15:37:13.866 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 15:37:13.867 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 15:37:13.868 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 11.9287ms
21-05-20 15:37:13.869 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:37:13.885 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 37.6782ms
21-05-20 15:37:33.261 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 15:37:33.262 +01:00 [INF] CORS policy execution successful.
21-05-20 15:37:33.262 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 1.8977ms
21-05-20 15:37:33.267 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63
21-05-20 15:37:33.267 +01:00 [INF] CORS policy execution successful.
21-05-20 15:37:33.272 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:37:33.290 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:37:33.352 +01:00 [INF] Login attempt for admin@kudos-software.co.uk
21-05-20 15:37:36.297 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:37:38.669 +01:00 [INF] Executed DbCommand (181ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:37:39.439 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 15:37:39.840 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:37:39.902 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 15:37:40.362 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 15:37:40.469 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 15:37:40.486 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 7196.1397ms
21-05-20 15:37:40.488 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:37:40.502 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63 - 200 515 application/json;+charset=utf-8 7234.6491ms
21-05-20 15:37:54.229 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:37:54.229 +01:00 [INF] CORS policy execution successful.
21-05-20 15:37:54.230 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.7234ms
21-05-20 15:37:54.242 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:37:54.243 +01:00 [INF] CORS policy execution successful.
21-05-20 15:37:54.478 +01:00 [INF] Successfully validated the token.
21-05-20 15:37:54.481 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:37:54.502 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:37:54.706 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:37:55.133 +01:00 [INF] Executed DbCommand (397ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:37:55.370 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:37:55.411 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 908.6605ms
21-05-20 15:37:55.411 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:37:55.413 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 1170.9763ms
21-05-20 15:38:07.381 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:38:07.381 +01:00 [INF] CORS policy execution successful.
21-05-20 15:38:07.381 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.7861ms
21-05-20 15:38:07.402 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:38:07.403 +01:00 [INF] CORS policy execution successful.
21-05-20 15:38:07.407 +01:00 [INF] Successfully validated the token.
21-05-20 15:38:07.407 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:38:07.417 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:38:07.454 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:38:07.761 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:38:07.867 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:38:07.884 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 467.4908ms
21-05-20 15:38:07.885 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:38:07.886 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 483.5638ms
21-05-20 15:38:08.118 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:38:08.118 +01:00 [INF] CORS policy execution successful.
21-05-20 15:38:08.118 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4640ms
21-05-20 15:38:08.149 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:38:08.150 +01:00 [INF] CORS policy execution successful.
21-05-20 15:38:08.150 +01:00 [INF] Successfully validated the token.
21-05-20 15:38:08.150 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:38:08.169 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:38:08.180 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:38:08.410 +01:00 [INF] Executed DbCommand (191ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:38:08.616 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:38:08.655 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 485.7761ms
21-05-20 15:38:08.656 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:38:08.656 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 506.5888ms
21-05-20 15:38:46.158 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:38:46.158 +01:00 [INF] CORS policy execution successful.
21-05-20 15:38:46.159 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.4203ms
21-05-20 15:38:46.174 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:38:46.174 +01:00 [INF] CORS policy execution successful.
21-05-20 15:38:46.174 +01:00 [INF] Successfully validated the token.
21-05-20 15:38:46.174 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:38:46.175 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:38:46.176 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:38:46.193 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:38:46.207 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:38:46.209 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 33.8633ms
21-05-20 15:38:46.209 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:38:46.209 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1095 application/json;+charset=utf-8 35.8042ms
21-05-20 15:38:46.311 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:38:46.311 +01:00 [INF] CORS policy execution successful.
21-05-20 15:38:46.312 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.7904ms
21-05-20 15:38:46.317 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:38:46.318 +01:00 [INF] CORS policy execution successful.
21-05-20 15:38:46.318 +01:00 [INF] Successfully validated the token.
21-05-20 15:38:46.337 +01:00 [INF] Authorization was successful.
21-05-20 15:38:46.338 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:38:46.341 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:38:46.343 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:38:46.366 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:38:46.375 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:38:46.377 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 36.0197ms
21-05-20 15:38:46.377 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:38:46.379 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 61.6145ms
21-05-20 15:39:03.120 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-05-20 15:39:03.120 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:03.121 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.7341ms
21-05-20 15:39:03.130 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 226
21-05-20 15:39:03.130 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:03.130 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:03.131 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 15:39:03.140 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:39:03.174 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:03.302 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 15:39:03.345 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-05-20 15:39:03.411 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 271.4544ms
21-05-20 15:39:03.412 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 15:39:03.412 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 226 - 201 229 application/json;+charset=utf-8 282.1279ms
21-05-20 15:39:06.710 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:39:06.710 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:06.710 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5158ms
21-05-20 15:39:06.719 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:39:06.719 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:06.720 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:06.720 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:39:06.720 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:39:06.721 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:06.776 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:39:06.777 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:39:06.778 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 57.7937ms
21-05-20 15:39:06.778 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:39:06.779 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 59.4387ms
21-05-20 15:39:06.819 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:39:06.819 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:06.819 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5214ms
21-05-20 15:39:06.830 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:39:06.830 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:06.831 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:06.831 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:39:06.831 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:39:06.832 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:06.844 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:39:06.846 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:39:06.847 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 16.0189ms
21-05-20 15:39:06.847 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:39:06.848 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1292 application/json;+charset=utf-8 17.7055ms
21-05-20 15:39:22.320 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:39:22.320 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:22.321 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3702ms
21-05-20 15:39:22.341 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:39:22.342 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:22.342 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:22.342 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:39:22.342 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:39:22.343 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:22.347 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:39:22.348 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:39:22.348 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.218ms
21-05-20 15:39:22.349 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:39:22.349 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 7.7488ms
21-05-20 15:39:23.827 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:39:23.828 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:23.829 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.5798ms
21-05-20 15:39:23.846 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:39:23.846 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:23.847 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:23.847 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:39:23.847 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:39:23.848 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:23.861 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:39:23.863 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:39:23.863 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 15.845ms
21-05-20 15:39:23.863 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:39:23.864 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 17.7388ms
21-05-20 15:39:27.804 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:39:27.805 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:27.806 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.5678ms
21-05-20 15:39:27.809 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:44323/api/Customer/2 application/json;+charset=utf-8 1495
21-05-20 15:39:27.809 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:27.810 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:27.810 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.UpdateCustomer (WebAPI)'
21-05-20 15:39:27.819 +01:00 [INF] Route matched with {action = "UpdateCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCustomer(Int32, WebAPI.DTOs.UpdateCustomerDTO) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:39:27.874 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:27.882 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
WHERE [c].[Id] = @__id_0
21-05-20 15:39:27.917 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 100), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Customer] SET [HoursPurchased] = @p0, [HoursRemaining] = @p1, [Invoiced] = @p2, [InvoicedDate] = @p3, [Name] = @p4, [Notes] = @p5, [OnsitePurchased] = @p6, [Paid] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;
21-05-20 15:39:27.928 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
21-05-20 15:39:27.928 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.UpdateCustomer (WebAPI) in 109.2953ms
21-05-20 15:39:27.928 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.UpdateCustomer (WebAPI)'
21-05-20 15:39:27.929 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:44323/api/Customer/2 application/json;+charset=utf-8 1495 - 204 - - 119.7033ms
21-05-20 15:39:31.750 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:39:31.750 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:31.753 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 3.1342ms
21-05-20 15:39:31.786 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:39:31.786 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:31.788 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:31.788 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:39:31.788 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:39:31.792 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:31.804 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:39:31.822 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:39:31.831 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 42.028ms
21-05-20 15:39:31.831 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:39:31.832 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 717 application/json;+charset=utf-8 46.1321ms
21-05-20 15:39:34.240 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:39:34.241 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:34.241 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.7995ms
21-05-20 15:39:34.273 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:39:34.274 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:34.274 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:34.276 +01:00 [INF] Authorization was successful.
21-05-20 15:39:34.276 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:39:34.276 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:39:34.280 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:34.307 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:39:34.307 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:39:34.316 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 37.3481ms
21-05-20 15:39:34.316 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:39:34.317 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 43.1459ms
21-05-20 15:39:40.082 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:39:40.082 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:40.082 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5880ms
21-05-20 15:39:40.089 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:39:40.092 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:40.096 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:40.098 +01:00 [INF] Authorization was successful.
21-05-20 15:39:40.098 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:39:40.099 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:39:40.099 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:40.112 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:39:40.112 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:39:40.113 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 13.9847ms
21-05-20 15:39:40.113 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:39:40.114 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 24.7541ms
21-05-20 15:39:41.480 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:39:41.480 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:41.480 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4327ms
21-05-20 15:39:41.486 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:39:41.487 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:41.487 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:41.488 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:39:41.502 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:39:41.506 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:41.528 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:39:41.541 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:39:41.544 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 41.8962ms
21-05-20 15:39:41.544 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:39:41.544 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 93 application/json;+charset=utf-8 57.7971ms
21-05-20 15:39:54.443 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/4 - -
21-05-20 15:39:54.443 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:54.443 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/4 - - - 204 - - 0.6683ms
21-05-20 15:39:54.471 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:44323/api/Employee/4 - -
21-05-20 15:39:54.471 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:54.472 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:54.472 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI)'
21-05-20 15:39:54.479 +01:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:39:54.489 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:54.539 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 15:39:54.570 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__p_0
21-05-20 15:39:54.594 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Employee]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
21-05-20 15:39:54.599 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
21-05-20 15:39:54.600 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI) in 120.7204ms
21-05-20 15:39:54.600 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI)'
21-05-20 15:39:54.600 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:44323/api/Employee/4 - - - 204 - - 128.8816ms
21-05-20 15:39:54.619 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:39:54.619 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:54.619 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4736ms
21-05-20 15:39:54.626 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:39:54.627 +01:00 [INF] CORS policy execution successful.
21-05-20 15:39:54.627 +01:00 [INF] Successfully validated the token.
21-05-20 15:39:54.627 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:39:54.627 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:39:54.628 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:39:54.632 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:39:54.633 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:39:54.634 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 5.9847ms
21-05-20 15:39:54.634 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:39:54.634 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 71 application/json;+charset=utf-8 7.6398ms
21-05-20 15:40:09.068 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 15:40:09.069 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:09.069 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 0.9921ms
21-05-20 15:40:09.073 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62
21-05-20 15:40:09.073 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:09.074 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:40:09.074 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:40:09.075 +01:00 [INF] Login attempt for jack@kudos-software.co.uk
21-05-20 15:40:09.076 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:09.084 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:40:09.113 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 15:40:09.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:40:09.129 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 15:40:09.139 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 15:40:09.142 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 15:40:09.142 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 68.2933ms
21-05-20 15:40:09.143 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:40:09.143 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62 - 200 502 application/json;+charset=utf-8 69.7587ms
21-05-20 15:40:13.237 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:40:13.237 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:13.238 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.8588ms
21-05-20 15:40:13.243 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:40:13.243 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:13.244 +01:00 [INF] Successfully validated the token.
21-05-20 15:40:13.244 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:40:13.245 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:40:13.246 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:13.252 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:40:13.253 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:40:13.254 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 8.4931ms
21-05-20 15:40:13.254 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:40:13.254 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 717 application/json;+charset=utf-8 10.9149ms
21-05-20 15:40:16.348 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:40:16.348 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:16.348 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4112ms
21-05-20 15:40:16.352 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:40:16.353 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:16.355 +01:00 [INF] Successfully validated the token.
21-05-20 15:40:16.355 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:40:16.355 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:40:16.356 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:16.380 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:40:16.381 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:40:16.383 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 27.659ms
21-05-20 15:40:16.383 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:40:16.383 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1282 application/json;+charset=utf-8 30.9785ms
21-05-20 15:40:16.437 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:40:16.437 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:16.438 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.8870ms
21-05-20 15:40:16.445 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:40:16.445 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:16.446 +01:00 [INF] Successfully validated the token.
21-05-20 15:40:16.446 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:40:16.446 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:40:16.447 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:16.463 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:40:16.464 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:40:16.465 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 19.1724ms
21-05-20 15:40:16.466 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:40:16.466 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1292 application/json;+charset=utf-8 21.4780ms
21-05-20 15:40:23.112 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:40:23.113 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:23.113 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.7675ms
21-05-20 15:40:23.116 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:40:23.117 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:23.117 +01:00 [INF] Successfully validated the token.
21-05-20 15:40:23.117 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:40:23.118 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:40:23.118 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:23.140 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:40:23.140 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:40:23.141 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 23.1824ms
21-05-20 15:40:23.141 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:40:23.141 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1282 application/json;+charset=utf-8 25.0291ms
21-05-20 15:40:23.268 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:40:23.269 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:23.269 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4338ms
21-05-20 15:40:23.281 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:40:23.281 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:23.282 +01:00 [INF] Successfully validated the token.
21-05-20 15:40:23.282 +01:00 [INF] Authorization was successful.
21-05-20 15:40:23.282 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:40:23.282 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:40:23.283 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:23.286 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:40:23.287 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:40:23.287 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 5.173ms
21-05-20 15:40:23.288 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:40:23.289 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 8.2374ms
21-05-20 15:40:23.327 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:40:23.328 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:23.328 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.0224ms
21-05-20 15:40:23.331 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:40:23.331 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:23.332 +01:00 [INF] Successfully validated the token.
21-05-20 15:40:23.332 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:40:23.332 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:40:23.333 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:23.338 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:40:23.338 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:40:23.339 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 6.8974ms
21-05-20 15:40:23.339 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:40:23.347 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 71 application/json;+charset=utf-8 15.6785ms
21-05-20 15:40:39.267 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-05-20 15:40:39.267 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:39.267 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.5702ms
21-05-20 15:40:39.272 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 224
21-05-20 15:40:39.272 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:39.272 +01:00 [INF] Successfully validated the token.
21-05-20 15:40:39.272 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 15:40:39.272 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:40:39.273 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:39.287 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 15:40:39.297 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-05-20 15:40:39.299 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 26.1418ms
21-05-20 15:40:39.299 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 15:40:39.299 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 224 - 201 227 application/json;+charset=utf-8 27.5110ms
21-05-20 15:40:41.808 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:40:41.810 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:41.811 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 2.3411ms
21-05-20 15:40:41.816 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:40:41.816 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:41.817 +01:00 [INF] Successfully validated the token.
21-05-20 15:40:41.817 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:40:41.817 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:40:41.818 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:41.844 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:40:41.845 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:40:41.847 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 29.6601ms
21-05-20 15:40:41.847 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:40:41.848 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1466 application/json;+charset=utf-8 31.6123ms
21-05-20 15:40:41.951 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:40:41.951 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:41.951 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5650ms
21-05-20 15:40:41.961 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:40:41.962 +01:00 [INF] CORS policy execution successful.
21-05-20 15:40:41.962 +01:00 [INF] Successfully validated the token.
21-05-20 15:40:41.962 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:40:41.963 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:40:41.964 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:40:41.991 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:40:41.992 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:40:42.001 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 37.6105ms
21-05-20 15:40:42.001 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:40:42.001 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1504 application/json;+charset=utf-8 40.0435ms
21-05-20 15:45:06.659 +01:00 [INF] Application Is Starting
21-05-20 15:45:09.940 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 15:45:10.564 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 15:45:10.564 +01:00 [INF] Hosting environment: Development
21-05-20 15:45:10.564 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 15:45:10.640 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 15:45:10.961 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 322.5942ms
21-05-20 15:45:11.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 15:45:11.649 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 290.6638ms
21-05-20 15:46:58.660 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 15:46:58.708 +01:00 [INF] CORS policy execution successful.
21-05-20 15:46:58.713 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 53.4833ms
21-05-20 15:46:58.718 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 15:46:58.719 +01:00 [INF] CORS policy execution successful.
21-05-20 15:46:59.151 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:46:59.261 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:47:00.952 +01:00 [INF] Registration attempt for 123
21-05-20 15:47:00.967 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 15:47:00.983 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 15:47:01.154 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 1877.7123ms
21-05-20 15:47:01.157 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:47:01.169 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 2450.9703ms
21-05-20 15:47:15.637 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 15:47:15.639 +01:00 [INF] CORS policy execution successful.
21-05-20 15:47:15.639 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 2.7177ms
21-05-20 15:47:15.645 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63
21-05-20 15:47:15.645 +01:00 [INF] CORS policy execution successful.
21-05-20 15:47:15.656 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:47:15.670 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:47:15.688 +01:00 [INF] Login attempt for admin@kudos-software.co.uk
21-05-20 15:47:17.175 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:47:18.334 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:47:18.709 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 15:47:18.892 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:47:18.917 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 15:47:19.129 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 15:47:19.172 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 15:47:19.180 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 3509.89ms
21-05-20 15:47:19.182 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:47:19.214 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63 - 200 515 application/json;+charset=utf-8 3568.8230ms
21-05-20 15:47:26.072 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:47:26.073 +01:00 [INF] CORS policy execution successful.
21-05-20 15:47:26.073 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.0780ms
21-05-20 15:47:26.082 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:47:26.083 +01:00 [INF] CORS policy execution successful.
21-05-20 15:47:26.253 +01:00 [INF] Successfully validated the token.
21-05-20 15:47:26.256 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:47:26.270 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:47:26.345 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:47:26.380 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:47:26.513 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:47:26.539 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 269.029ms
21-05-20 15:47:26.539 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:47:26.541 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 717 application/json;+charset=utf-8 458.6054ms
21-05-20 15:47:33.837 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:47:33.837 +01:00 [INF] CORS policy execution successful.
21-05-20 15:47:33.838 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5152ms
21-05-20 15:47:33.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:47:33.844 +01:00 [INF] CORS policy execution successful.
21-05-20 15:47:33.846 +01:00 [INF] Successfully validated the token.
21-05-20 15:47:33.847 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:47:33.854 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:47:33.881 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:47:34.056 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:47:34.105 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:47:34.115 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 260.2341ms
21-05-20 15:47:34.115 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:47:34.115 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1096 application/json;+charset=utf-8 271.1565ms
21-05-20 15:47:34.278 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:47:34.279 +01:00 [INF] CORS policy execution successful.
21-05-20 15:47:34.280 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 1.3281ms
21-05-20 15:47:34.285 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:47:34.286 +01:00 [INF] CORS policy execution successful.
21-05-20 15:47:34.286 +01:00 [INF] Successfully validated the token.
21-05-20 15:47:34.286 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:47:34.297 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:47:34.303 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:47:34.338 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:47:34.435 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:47:34.438 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 140.3295ms
21-05-20 15:47:34.438 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:47:34.443 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1073 application/json;+charset=utf-8 157.7637ms
21-05-20 15:48:11.861 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:11.861 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:11.866 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 5.1735ms
21-05-20 15:48:11.880 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:11.880 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:11.881 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:11.881 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:11.882 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:48:11.883 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:11.894 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:48:11.901 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:48:11.902 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 20.0957ms
21-05-20 15:48:11.903 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:11.903 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1096 application/json;+charset=utf-8 22.7785ms
21-05-20 15:48:12.010 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:48:12.010 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:12.011 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.7793ms
21-05-20 15:48:12.019 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:48:12.020 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:12.020 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:12.035 +01:00 [INF] Authorization was successful.
21-05-20 15:48:12.037 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:48:12.044 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:48:12.049 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:12.072 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:48:12.080 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:48:12.082 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 38.1619ms
21-05-20 15:48:12.083 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:48:12.084 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 65.0691ms
21-05-20 15:48:24.442 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-05-20 15:48:24.442 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:24.442 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.6686ms
21-05-20 15:48:24.446 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 226
21-05-20 15:48:24.446 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:24.447 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:24.447 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 15:48:24.455 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:48:24.490 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:24.612 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 15:48:24.651 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-05-20 15:48:24.711 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 255.8805ms
21-05-20 15:48:24.711 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 15:48:24.712 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 226 - 201 229 application/json;+charset=utf-8 265.7993ms
21-05-20 15:48:27.547 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:27.547 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:27.547 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5259ms
21-05-20 15:48:27.553 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:27.553 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:27.553 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:27.554 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:27.554 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:48:27.555 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:27.565 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:48:27.566 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:48:27.567 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 12.5432ms
21-05-20 15:48:27.567 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:27.568 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1282 application/json;+charset=utf-8 15.3176ms
21-05-20 15:48:27.623 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:48:27.623 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:27.623 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4846ms
21-05-20 15:48:27.631 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:48:27.631 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:27.632 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:27.632 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:48:27.632 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:48:27.633 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:27.637 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:48:27.638 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:48:27.639 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 7.1595ms
21-05-20 15:48:27.639 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:48:27.640 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1292 application/json;+charset=utf-8 9.0680ms
21-05-20 15:48:38.283 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:38.283 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:38.283 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5279ms
21-05-20 15:48:38.286 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:38.286 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:38.287 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:38.287 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:38.287 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:48:38.288 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:38.298 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:48:38.299 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:48:38.300 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 12.9584ms
21-05-20 15:48:38.300 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:38.301 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1282 application/json;+charset=utf-8 14.4379ms
21-05-20 15:48:38.374 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:48:38.374 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:38.375 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5788ms
21-05-20 15:48:38.380 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:48:38.380 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:38.381 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:38.382 +01:00 [INF] Authorization was successful.
21-05-20 15:48:38.382 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:48:38.382 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:48:38.383 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:38.385 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:48:38.387 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:48:38.390 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 7.5855ms
21-05-20 15:48:38.390 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:48:38.391 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 10.9152ms
21-05-20 15:48:40.889 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:40.893 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:40.899 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:40.899 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:40.899 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:48:40.900 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:40.910 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:48:40.911 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:48:40.914 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 14.3658ms
21-05-20 15:48:40.914 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:40.915 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1282 application/json;+charset=utf-8 25.9635ms
21-05-20 15:48:40.976 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:48:40.977 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:40.977 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.9025ms
21-05-20 15:48:40.988 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:48:40.989 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:40.989 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:40.989 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:48:40.990 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:48:40.992 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:41.006 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:48:41.009 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:48:41.010 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 20.2827ms
21-05-20 15:48:41.010 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:48:41.011 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1292 application/json;+charset=utf-8 22.1968ms
21-05-20 15:48:42.770 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:48:42.770 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:42.771 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.7287ms
21-05-20 15:48:42.784 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:48:42.784 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:42.787 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:42.787 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:48:42.788 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:48:42.790 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:42.802 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:48:42.804 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:48:42.806 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 18.1942ms
21-05-20 15:48:42.806 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:48:42.807 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 717 application/json;+charset=utf-8 22.9140ms
21-05-20 15:48:46.316 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:46.316 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:46.319 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.4440ms
21-05-20 15:48:46.326 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:46.327 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:46.332 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:46.332 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:46.332 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:48:46.333 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:46.339 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:48:46.340 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:48:46.341 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 8.8229ms
21-05-20 15:48:46.341 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:48:46.342 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1282 application/json;+charset=utf-8 15.3097ms
21-05-20 15:48:50.824 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:48:50.834 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:50.834 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 10.5216ms
21-05-20 15:48:50.846 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:44323/api/Customer/2 application/json;+charset=utf-8 1494
21-05-20 15:48:50.846 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:50.846 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:50.846 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.UpdateCustomer (WebAPI)'
21-05-20 15:48:50.876 +01:00 [INF] Route matched with {action = "UpdateCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCustomer(Int32, WebAPI.DTOs.UpdateCustomerDTO) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:48:50.931 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:50.941 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
WHERE [c].[Id] = @__id_0
21-05-20 15:48:50.972 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 100), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Customer] SET [HoursPurchased] = @p0, [HoursRemaining] = @p1, [Invoiced] = @p2, [InvoicedDate] = @p3, [Name] = @p4, [Notes] = @p5, [OnsitePurchased] = @p6, [Paid] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;
21-05-20 15:48:50.981 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
21-05-20 15:48:50.981 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.UpdateCustomer (WebAPI) in 104.4779ms
21-05-20 15:48:50.981 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.UpdateCustomer (WebAPI)'
21-05-20 15:48:50.981 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:44323/api/Customer/2 application/json;+charset=utf-8 1494 - 204 - - 135.4054ms
21-05-20 15:48:53.617 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:48:53.617 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:53.618 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6895ms
21-05-20 15:48:53.620 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:48:53.620 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:53.621 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:53.621 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:48:53.621 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:48:53.622 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:53.641 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:48:53.643 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:48:53.648 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 26.5349ms
21-05-20 15:48:53.648 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:48:53.649 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 28.4394ms
21-05-20 15:48:56.203 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:48:56.204 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:56.204 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.7087ms
21-05-20 15:48:56.206 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:48:56.207 +01:00 [INF] CORS policy execution successful.
21-05-20 15:48:56.207 +01:00 [INF] Successfully validated the token.
21-05-20 15:48:56.208 +01:00 [INF] Authorization was successful.
21-05-20 15:48:56.209 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:48:56.209 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:48:56.210 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:48:56.221 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:48:56.222 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:48:56.223 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 13.7512ms
21-05-20 15:48:56.224 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:48:56.225 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 18.6456ms
21-05-20 15:49:01.946 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:49:01.947 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:01.947 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.6512ms
21-05-20 15:49:01.955 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:49:01.956 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:01.956 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:01.956 +01:00 [INF] Authorization was successful.
21-05-20 15:49:01.956 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:49:01.956 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:49:01.957 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:01.970 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:49:01.971 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:01.971 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 15.149ms
21-05-20 15:49:01.972 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:49:01.972 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 16.7315ms
21-05-20 15:49:04.785 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:49:04.786 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:04.786 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.8898ms
21-05-20 15:49:04.817 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:49:04.817 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:04.818 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:04.818 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:49:04.833 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:49:04.838 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:04.882 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:49:04.893 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:04.899 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 66.1539ms
21-05-20 15:49:04.899 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:49:04.900 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 71 application/json;+charset=utf-8 82.7952ms
21-05-20 15:49:09.306 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/1 - -
21-05-20 15:49:09.307 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:09.308 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/1 - - - 204 - - 1.5730ms
21-05-20 15:49:09.343 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee/1 - -
21-05-20 15:49:09.343 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:09.343 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:09.343 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-20 15:49:09.360 +01:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:49:09.364 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:09.806 +01:00 [INF] Executed DbCommand (434ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 15:49:09.814 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.EmployeeDTO'.
21-05-20 15:49:09.815 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI) in 455.084ms
21-05-20 15:49:09.815 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-20 15:49:09.816 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee/1 - - - 200 22 application/json;+charset=utf-8 473.4529ms
21-05-20 15:49:14.706 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/1 - -
21-05-20 15:49:14.706 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:14.706 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/1 - - - 204 - - 0.6291ms
21-05-20 15:49:14.710 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:44323/api/Employee/1 application/json;+charset=utf-8 24
21-05-20 15:49:14.710 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:14.711 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:14.711 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.UpdateEmployee (WebAPI)'
21-05-20 15:49:14.737 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEmployee(Int32, WebAPI.DTOs.UpdateEmployeeDTO) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:49:14.751 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:14.757 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 15:49:14.881 +01:00 [INF] Executed DbCommand (101ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Employee] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
21-05-20 15:49:14.931 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
21-05-20 15:49:14.932 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.UpdateEmployee (WebAPI) in 194.005ms
21-05-20 15:49:14.932 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.UpdateEmployee (WebAPI)'
21-05-20 15:49:14.932 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:44323/api/Employee/1 application/json;+charset=utf-8 24 - 204 - - 221.9479ms
21-05-20 15:49:18.174 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:49:18.174 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:18.175 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.6643ms
21-05-20 15:49:18.185 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:49:18.186 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:18.186 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:18.186 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:49:18.186 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:49:18.187 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:18.264 +01:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:49:18.265 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:18.265 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 78.8935ms
21-05-20 15:49:18.266 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:49:18.266 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 73 application/json;+charset=utf-8 80.7676ms
21-05-20 15:49:25.166 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/3 - -
21-05-20 15:49:25.166 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:25.166 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/3 - - - 204 - - 0.4561ms
21-05-20 15:49:25.421 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:44323/api/Employee/3 - -
21-05-20 15:49:25.422 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:25.422 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:25.422 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI)'
21-05-20 15:49:25.430 +01:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:49:25.435 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:25.706 +01:00 [INF] Executed DbCommand (270ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 15:49:25.876 +01:00 [INF] Executed DbCommand (133ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__p_0
21-05-20 15:49:25.911 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Employee]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
21-05-20 15:49:25.934 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
21-05-20 15:49:25.934 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI) in 503.3303ms
21-05-20 15:49:25.934 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI)'
21-05-20 15:49:25.934 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:44323/api/Employee/3 - - - 204 - - 512.7492ms
21-05-20 15:49:26.074 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:49:26.074 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:26.074 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4120ms
21-05-20 15:49:26.169 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:49:26.169 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:26.170 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:26.170 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:49:26.170 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:49:26.171 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:26.199 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:49:26.200 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:26.201 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 30.3485ms
21-05-20 15:49:26.201 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:49:26.201 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 48 application/json;+charset=utf-8 32.0782ms
21-05-20 15:49:30.239 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:49:30.239 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:30.239 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4460ms
21-05-20 15:49:30.245 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:49:30.246 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:30.247 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:30.247 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:49:30.247 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:49:30.248 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:30.254 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:49:30.255 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:30.256 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 8.0444ms
21-05-20 15:49:30.256 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:49:30.256 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 11.2001ms
21-05-20 15:49:32.511 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:49:32.511 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:32.512 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6480ms
21-05-20 15:49:32.523 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:49:32.523 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:32.524 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:32.524 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:49:32.524 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:49:32.527 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:32.545 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:49:32.546 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:49:32.549 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 25.2568ms
21-05-20 15:49:32.550 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:49:32.550 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 27.2406ms
21-05-20 15:49:32.604 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:49:32.604 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:32.604 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.3801ms
21-05-20 15:49:32.609 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:49:32.610 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:32.610 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:32.610 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:49:32.611 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:49:32.612 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:32.620 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:49:32.621 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:32.622 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 11.0105ms
21-05-20 15:49:32.622 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:49:32.622 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1292 application/json;+charset=utf-8 12.8611ms
21-05-20 15:49:33.728 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:49:33.729 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:33.730 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:33.730 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:49:33.730 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:49:33.731 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:33.761 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:49:33.762 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:49:33.770 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 39.6691ms
21-05-20 15:49:33.770 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:49:33.770 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 42.0771ms
21-05-20 15:49:33.943 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:49:33.943 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:33.944 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4231ms
21-05-20 15:49:33.949 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:49:33.949 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:33.950 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:33.951 +01:00 [INF] Authorization was successful.
21-05-20 15:49:33.951 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:49:33.951 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:49:33.952 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:33.991 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:49:33.991 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:33.992 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 41.2036ms
21-05-20 15:49:33.992 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:49:33.994 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 44.8443ms
21-05-20 15:49:34.070 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:49:34.070 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:34.071 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4411ms
21-05-20 15:49:34.077 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:49:34.077 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:34.078 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:34.078 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:49:34.078 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:49:34.080 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:34.105 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:49:34.106 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:34.107 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 28.4382ms
21-05-20 15:49:34.107 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:49:34.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 48 application/json;+charset=utf-8 30.4400ms
21-05-20 15:49:37.378 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:49:37.408 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:37.409 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:37.410 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:49:37.410 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:49:37.412 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:37.466 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:49:37.466 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:49:37.468 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 57.5653ms
21-05-20 15:49:37.468 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:49:37.468 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 90.0308ms
21-05-20 15:49:37.571 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:49:37.571 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:37.572 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:37.572 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:49:37.572 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:49:37.573 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:37.610 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:49:37.612 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:37.639 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 67.1661ms
21-05-20 15:49:37.640 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:49:37.640 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1292 application/json;+charset=utf-8 68.8659ms
21-05-20 15:49:38.812 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:49:38.813 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:38.813 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4804ms
21-05-20 15:49:38.824 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:49:38.824 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:38.824 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:38.825 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:49:38.825 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:49:38.827 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:38.852 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:49:38.853 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:38.854 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 29.2016ms
21-05-20 15:49:38.854 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:49:38.855 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 30.9259ms
21-05-20 15:49:49.992 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 15:49:49.993 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:49.994 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 1.7072ms
21-05-20 15:49:50.024 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62
21-05-20 15:49:50.024 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:50.024 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:49:50.024 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:49:50.051 +01:00 [INF] Login attempt for jack@kudos-software.co.uk
21-05-20 15:49:50.052 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:50.075 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:49:50.137 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 15:49:50.155 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 15:49:50.184 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 15:49:50.201 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 15:49:50.204 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 15:49:50.205 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 180.562ms
21-05-20 15:49:50.205 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 15:49:50.210 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62 - 200 502 application/json;+charset=utf-8 186.6180ms
21-05-20 15:49:52.775 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:49:52.776 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:52.776 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.7698ms
21-05-20 15:49:52.779 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:49:52.780 +01:00 [INF] CORS policy execution successful.
21-05-20 15:49:52.780 +01:00 [INF] Successfully validated the token.
21-05-20 15:49:52.780 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:49:52.780 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:49:52.781 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:49:52.791 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:49:52.792 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:49:52.794 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 13.8469ms
21-05-20 15:49:52.794 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:49:52.796 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 16.3600ms
21-05-20 15:50:00.176 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=vall&orderBy=name - -
21-05-20 15:50:00.177 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:00.177 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=vall&orderBy=name - - - 204 - - 0.7245ms
21-05-20 15:50:00.183 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=vall&orderBy=name - -
21-05-20 15:50:00.183 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:00.183 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:00.183 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:50:00.183 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:50:00.184 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:00.236 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__lowerCaseSearchTerm_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
WHERE (@__lowerCaseSearchTerm_0 LIKE N'') OR (CHARINDEX(@__lowerCaseSearchTerm_0, LOWER([c].[Name])) > 0)
21-05-20 15:50:00.237 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:00.237 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 53.4698ms
21-05-20 15:50:00.237 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:50:00.237 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=vall&orderBy=name - - - 200 172 application/json;+charset=utf-8 54.7760ms
21-05-20 15:50:02.213 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:50:02.213 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:02.213 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4398ms
21-05-20 15:50:02.217 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:50:02.218 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:02.218 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:02.218 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:50:02.219 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:50:02.220 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:02.232 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:50:02.232 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:02.233 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 14.2412ms
21-05-20 15:50:02.233 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:50:02.234 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 16.1572ms
21-05-20 15:50:04.781 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=st&orderBy=name - -
21-05-20 15:50:04.781 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:04.781 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=st&orderBy=name - - - 204 - - 0.3972ms
21-05-20 15:50:04.787 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=st&orderBy=name - -
21-05-20 15:50:04.788 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:04.788 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:04.788 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:50:04.788 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:50:04.789 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:04.816 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__lowerCaseSearchTerm_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
WHERE (@__lowerCaseSearchTerm_0 LIKE N'') OR (CHARINDEX(@__lowerCaseSearchTerm_0, LOWER([c].[Name])) > 0)
21-05-20 15:50:04.817 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:04.818 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 29.7152ms
21-05-20 15:50:04.818 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:50:04.818 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=st&orderBy=name - - - 200 178 application/json;+charset=utf-8 31.2309ms
21-05-20 15:50:07.050 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 15:50:07.051 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:07.051 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:07.051 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:50:07.051 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:50:07.052 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:07.119 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 15:50:07.120 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:07.121 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 69.6957ms
21-05-20 15:50:07.121 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 15:50:07.122 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 71.3131ms
21-05-20 15:50:08.879 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:50:08.879 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:08.880 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6449ms
21-05-20 15:50:08.896 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:50:08.898 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:08.898 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:08.898 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:50:08.899 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:50:08.899 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:09.170 +01:00 [INF] Executed DbCommand (270ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:50:09.171 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:50:09.172 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 272.8187ms
21-05-20 15:50:09.172 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:50:09.172 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 275.7910ms
21-05-20 15:50:09.233 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:50:09.234 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:09.234 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4898ms
21-05-20 15:50:09.241 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:50:09.242 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:09.242 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:09.242 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:50:09.242 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:50:09.243 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:09.567 +01:00 [INF] Executed DbCommand (323ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:50:09.569 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:09.570 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 327.8377ms
21-05-20 15:50:09.570 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:50:09.571 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1292 application/json;+charset=utf-8 329.3802ms
21-05-20 15:50:12.335 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:50:12.336 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:12.336 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:12.336 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:50:12.336 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:50:12.337 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:12.369 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:50:12.369 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:50:12.372 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 36.2038ms
21-05-20 15:50:12.373 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:50:12.373 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 37.8733ms
21-05-20 15:50:12.437 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:50:12.438 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:12.438 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5723ms
21-05-20 15:50:12.448 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:50:12.449 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:12.449 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:12.449 +01:00 [INF] Authorization was successful.
21-05-20 15:50:12.450 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:50:12.450 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:50:12.450 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:12.473 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:50:12.473 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:12.474 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 24.3531ms
21-05-20 15:50:12.474 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:50:12.476 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 27.4893ms
21-05-20 15:50:12.514 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:50:12.514 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:12.514 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.6744ms
21-05-20 15:50:12.518 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:50:12.518 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:12.518 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:12.518 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:50:12.518 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:50:12.519 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:12.523 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:50:12.524 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:12.525 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 6.059ms
21-05-20 15:50:12.525 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:50:12.525 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 48 application/json;+charset=utf-8 7.3009ms
21-05-20 15:50:17.922 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 15:50:17.925 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:17.925 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 3.0290ms
21-05-20 15:50:17.934 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 15:50:17.934 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:17.934 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:17.934 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:50:17.935 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 15:50:17.935 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:17.945 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 15:50:17.946 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 15:50:17.948 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 13.321ms
21-05-20 15:50:17.948 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 15:50:17.948 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 14.6372ms
21-05-20 15:50:18.006 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:50:18.006 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:18.006 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5326ms
21-05-20 15:50:18.012 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 15:50:18.012 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:18.012 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:18.012 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:50:18.013 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 15:50:18.013 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:18.022 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 15:50:18.022 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:18.023 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 10.6055ms
21-05-20 15:50:18.023 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 15:50:18.024 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1292 application/json;+charset=utf-8 12.0080ms
21-05-20 15:50:26.274 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 15:50:26.274 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:26.274 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3959ms
21-05-20 15:50:26.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 15:50:26.278 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:26.278 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:26.278 +01:00 [INF] Authorization was successful.
21-05-20 15:50:26.278 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:50:26.278 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 15:50:26.279 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:26.283 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 15:50:26.283 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:26.284 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 5.0198ms
21-05-20 15:50:26.284 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 15:50:26.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 6.5630ms
21-05-20 15:50:29.656 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 15:50:29.656 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:29.657 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4155ms
21-05-20 15:50:29.668 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 15:50:29.668 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:29.669 +01:00 [INF] Successfully validated the token.
21-05-20 15:50:29.669 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:50:29.669 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 15:50:29.669 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:29.680 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 15:50:29.681 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 15:50:29.682 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 12.8319ms
21-05-20 15:50:29.682 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 15:50:29.682 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 48 application/json;+charset=utf-8 14.0746ms
21-05-20 15:50:44.667 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/account/forgotpassword - -
21-05-20 15:50:44.667 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:44.669 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/account/forgotpassword - - - 204 - - 1.3837ms
21-05-20 15:50:44.679 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/account/forgotpassword application/json;+charset=utf-8 88
21-05-20 15:50:44.679 +01:00 [INF] CORS policy execution successful.
21-05-20 15:50:44.679 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.ForgotPassword (WebAPI)'
21-05-20 15:50:44.691 +01:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(WebAPI.DTOs.ForgotPasswordDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:50:44.707 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 15:50:44.715 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 15:50:47.432 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
21-05-20 15:50:47.432 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.ForgotPassword (WebAPI) in 2740.8417ms
21-05-20 15:50:47.432 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.ForgotPassword (WebAPI)'
21-05-20 15:50:47.433 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/account/forgotpassword application/json;+charset=utf-8 88 - 200 - - 2753.6786ms
21-05-20 15:58:27.244 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 15:58:27.244 +01:00 [INF] CORS policy execution successful.
21-05-20 15:58:27.247 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 1.0250ms
21-05-20 15:58:27.252 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 15:58:27.252 +01:00 [INF] CORS policy execution successful.
21-05-20 15:58:27.252 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:58:27.253 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 15:58:27.254 +01:00 [INF] Registration attempt for 123
21-05-20 15:58:27.255 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 15:58:27.256 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 15:58:27.257 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 4.3091ms
21-05-20 15:58:27.257 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 15:58:27.258 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 6.3455ms
21-05-20 16:12:18.108 +01:00 [INF] Application Is Starting
21-05-20 16:12:23.159 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 16:12:24.169 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 16:12:24.169 +01:00 [INF] Hosting environment: Development
21-05-20 16:12:24.169 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 16:12:24.362 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 16:12:24.819 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 461.2162ms
21-05-20 16:12:25.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 16:12:25.751 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 503.9683ms
21-05-20 16:13:08.971 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 16:13:08.986 +01:00 [INF] CORS policy execution successful.
21-05-20 16:13:08.991 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 21.5318ms
21-05-20 16:13:09.330 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 16:13:09.331 +01:00 [INF] CORS policy execution successful.
21-05-20 16:13:10.195 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:13:10.313 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:13:12.043 +01:00 [INF] Registration attempt for 123
21-05-20 16:13:12.068 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 16:13:12.089 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 16:13:12.271 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 1945.9706ms
21-05-20 16:13:12.274 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:13:12.285 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 2955.0760ms
21-05-20 16:18:29.921 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 16:18:29.923 +01:00 [INF] CORS policy execution successful.
21-05-20 16:18:29.924 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 2.4129ms
21-05-20 16:18:29.948 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 16:18:29.975 +01:00 [INF] CORS policy execution successful.
21-05-20 16:18:29.985 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:18:29.991 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:18:29.994 +01:00 [INF] Registration attempt for 123
21-05-20 16:18:29.994 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 16:18:29.995 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 16:18:29.996 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 5.3462ms
21-05-20 16:18:29.997 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:18:30.001 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 53.0178ms
21-05-20 16:18:42.533 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 16:18:42.533 +01:00 [INF] CORS policy execution successful.
21-05-20 16:18:42.533 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 0.5028ms
21-05-20 16:18:42.548 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63
21-05-20 16:18:42.548 +01:00 [INF] CORS policy execution successful.
21-05-20 16:18:42.554 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:18:42.567 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:18:42.612 +01:00 [INF] Login attempt for admin@kudos-software.co.uk
21-05-20 16:18:44.813 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:18:46.981 +01:00 [INF] Executed DbCommand (168ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:18:47.894 +01:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 16:18:48.490 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:18:48.582 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 16:18:49.195 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 16:18:49.321 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 16:18:49.346 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 6779.6655ms
21-05-20 16:18:49.349 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:18:49.375 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63 - 200 515 application/json;+charset=utf-8 6827.4285ms
21-05-20 16:18:54.334 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:18:54.335 +01:00 [INF] CORS policy execution successful.
21-05-20 16:18:54.335 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6891ms
21-05-20 16:18:54.351 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:18:54.351 +01:00 [INF] CORS policy execution successful.
21-05-20 16:18:54.560 +01:00 [INF] Successfully validated the token.
21-05-20 16:18:54.562 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:18:54.576 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:18:54.661 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:18:54.682 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 16:18:54.790 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:18:54.823 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 246.666ms
21-05-20 16:18:54.823 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:18:54.827 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 476.0127ms
21-05-20 16:19:01.489 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 16:19:01.489 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:01.489 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5919ms
21-05-20 16:19:01.515 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 16:19:01.517 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:01.518 +01:00 [INF] Successfully validated the token.
21-05-20 16:19:01.519 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:19:01.528 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:19:01.551 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:19:02.121 +01:00 [INF] Executed DbCommand (250ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:19:02.215 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:19:02.272 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 744.1974ms
21-05-20 16:19:02.272 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:19:02.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 757.2257ms
21-05-20 16:19:02.726 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:19:02.726 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:02.726 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4928ms
21-05-20 16:19:02.808 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:19:02.811 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:02.812 +01:00 [INF] Successfully validated the token.
21-05-20 16:19:02.812 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:19:02.823 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:19:02.836 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:19:02.953 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:19:03.096 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:19:03.120 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 296.5338ms
21-05-20 16:19:03.120 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:19:03.121 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1292 application/json;+charset=utf-8 313.2985ms
21-05-20 16:19:48.435 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 16:19:48.435 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:48.436 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5222ms
21-05-20 16:19:48.447 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 16:19:48.447 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:48.447 +01:00 [INF] Successfully validated the token.
21-05-20 16:19:48.448 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:19:48.448 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:19:48.450 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:19:48.475 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:19:48.485 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:19:48.486 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 38.145ms
21-05-20 16:19:48.487 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:19:48.488 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1281 application/json;+charset=utf-8 41.0298ms
21-05-20 16:19:48.800 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 16:19:48.800 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:48.801 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.6160ms
21-05-20 16:19:48.812 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 16:19:48.814 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:48.815 +01:00 [INF] Successfully validated the token.
21-05-20 16:19:48.833 +01:00 [INF] Authorization was successful.
21-05-20 16:19:48.835 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:19:48.846 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 16:19:48.850 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:19:48.867 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 16:19:48.883 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:19:48.902 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 55.5859ms
21-05-20 16:19:48.902 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:19:48.939 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 127.1417ms
21-05-20 16:19:57.359 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-05-20 16:19:57.359 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:57.359 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.6190ms
21-05-20 16:19:57.388 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 221
21-05-20 16:19:57.388 +01:00 [INF] CORS policy execution successful.
21-05-20 16:19:57.388 +01:00 [INF] Successfully validated the token.
21-05-20 16:19:57.389 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 16:19:57.397 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:19:57.509 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:19:57.857 +01:00 [INF] Executed DbCommand (121ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 16:19:58.159 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-05-20 16:19:58.459 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 1062.0103ms
21-05-20 16:19:58.459 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 16:19:58.460 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 221 - 201 224 application/json;+charset=utf-8 1072.1469ms
21-05-20 16:20:01.802 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 16:20:01.802 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:01.854 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 52.1122ms
21-05-20 16:20:01.942 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 16:20:01.942 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:01.943 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:01.943 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:20:01.943 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:20:01.948 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:01.963 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:20:01.964 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:20:01.966 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 22.1107ms
21-05-20 16:20:01.966 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:20:01.967 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1462 application/json;+charset=utf-8 24.0113ms
21-05-20 16:20:02.015 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:20:02.015 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:02.015 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5025ms
21-05-20 16:20:02.079 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:20:02.079 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:02.080 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:02.080 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:20:02.080 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:20:02.081 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:02.098 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:20:02.099 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:20:02.101 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 21.1303ms
21-05-20 16:20:02.102 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:20:02.102 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1509 application/json;+charset=utf-8 23.0059ms
21-05-20 16:20:15.739 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 16:20:15.739 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:15.739 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4973ms
21-05-20 16:20:15.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 16:20:15.763 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:15.763 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:15.765 +01:00 [INF] Authorization was successful.
21-05-20 16:20:15.765 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:20:15.765 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 16:20:15.766 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:15.791 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 16:20:15.798 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:20:15.799 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 33.7851ms
21-05-20 16:20:15.799 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:20:15.800 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 37.1469ms
21-05-20 16:20:22.087 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:20:22.087 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:22.088 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4891ms
21-05-20 16:20:22.122 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:20:22.122 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:22.123 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:22.125 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:22.134 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:20:22.139 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:22.153 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:20:22.162 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:20:22.167 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 33.2881ms
21-05-20 16:20:22.168 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:22.168 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 48 application/json;+charset=utf-8 45.9471ms
21-05-20 16:20:25.983 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:20:25.983 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:25.984 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:25.984 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:25.984 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:20:25.985 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:26.006 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:20:26.008 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:20:26.009 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 24.8849ms
21-05-20 16:20:26.009 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:26.010 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 48 application/json;+charset=utf-8 26.9279ms
21-05-20 16:20:29.210 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:20:29.211 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:29.211 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.0973ms
21-05-20 16:20:29.216 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Employee application/json;+charset=utf-8 23
21-05-20 16:20:29.216 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:29.217 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:29.217 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.CreateEmployee (WebAPI)'
21-05-20 16:20:29.226 +01:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(WebAPI.DTOs.CreateEmployeeDTO) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:20:29.235 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:29.268 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Employee] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Employee]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 16:20:29.280 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Employee'.
21-05-20 16:20:29.293 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.CreateEmployee (WebAPI) in 66.3116ms
21-05-20 16:20:29.293 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.CreateEmployee (WebAPI)'
21-05-20 16:20:29.293 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Employee application/json;+charset=utf-8 23 - 201 36 application/json;+charset=utf-8 77.1813ms
21-05-20 16:20:31.827 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:20:31.828 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:31.829 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:31.830 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:31.830 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:20:31.832 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:31.841 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:20:31.843 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:20:31.844 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 13.5113ms
21-05-20 16:20:31.844 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:31.845 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 72 application/json;+charset=utf-8 17.2956ms
21-05-20 16:20:35.320 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/2 - -
21-05-20 16:20:35.320 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:35.321 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/2 - - - 204 - - 0.5806ms
21-05-20 16:20:35.329 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee/2 - -
21-05-20 16:20:35.330 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:35.330 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:35.330 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-20 16:20:35.339 +01:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:20:35.344 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:35.390 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 16:20:35.394 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.EmployeeDTO'.
21-05-20 16:20:35.394 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI) in 55.2295ms
21-05-20 16:20:35.395 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-20 16:20:35.395 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee/2 - - - 200 21 application/json;+charset=utf-8 65.6769ms
21-05-20 16:20:40.593 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/2 - -
21-05-20 16:20:40.596 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:40.596 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/2 - - - 204 - - 2.8260ms
21-05-20 16:20:40.600 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:44323/api/Employee/2 application/json;+charset=utf-8 23
21-05-20 16:20:40.600 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:40.600 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:40.600 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.UpdateEmployee (WebAPI)'
21-05-20 16:20:40.608 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEmployee(Int32, WebAPI.DTOs.UpdateEmployeeDTO) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:20:40.623 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:40.671 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 16:20:40.737 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Employee] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
21-05-20 16:20:40.762 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
21-05-20 16:20:40.762 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.UpdateEmployee (WebAPI) in 154.3123ms
21-05-20 16:20:40.762 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.UpdateEmployee (WebAPI)'
21-05-20 16:20:40.763 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:44323/api/Employee/2 application/json;+charset=utf-8 23 - 204 - - 162.9241ms
21-05-20 16:20:43.615 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:20:43.615 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:43.616 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4409ms
21-05-20 16:20:43.619 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:20:43.619 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:43.620 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:43.620 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:43.620 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:20:43.620 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:43.625 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:20:43.625 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:20:43.626 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 5.985ms
21-05-20 16:20:43.626 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:43.626 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 74 application/json;+charset=utf-8 7.4699ms
21-05-20 16:20:49.079 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/2 - -
21-05-20 16:20:49.079 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:49.080 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/2 - - - 204 - - 0.9837ms
21-05-20 16:20:49.085 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:44323/api/Employee/2 - -
21-05-20 16:20:49.086 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:49.086 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:49.086 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI)'
21-05-20 16:20:49.098 +01:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:20:49.107 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:49.128 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 16:20:49.182 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__p_0
21-05-20 16:20:49.211 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Employee]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
21-05-20 16:20:49.221 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
21-05-20 16:20:49.221 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI) in 123.2003ms
21-05-20 16:20:49.221 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI)'
21-05-20 16:20:49.221 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:44323/api/Employee/2 - - - 204 - - 135.7813ms
21-05-20 16:20:49.278 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:20:49.278 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:49.278 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.7148ms
21-05-20 16:20:49.282 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:20:49.282 +01:00 [INF] CORS policy execution successful.
21-05-20 16:20:49.282 +01:00 [INF] Successfully validated the token.
21-05-20 16:20:49.283 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:49.283 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:20:49.283 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:20:49.294 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:20:49.294 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:20:49.295 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 11.7695ms
21-05-20 16:20:49.295 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:20:49.295 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 50 application/json;+charset=utf-8 13.4379ms
21-05-20 16:21:07.422 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 16:21:07.422 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:07.423 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 0.4671ms
21-05-20 16:21:07.426 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62
21-05-20 16:21:07.427 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:07.427 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:21:07.427 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:21:07.429 +01:00 [INF] Login attempt for jack@kudos-software.co.uk
21-05-20 16:21:07.429 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:07.439 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:21:07.479 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 16:21:07.482 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:21:07.493 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 16:21:07.510 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 16:21:07.513 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 16:21:07.514 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 86.6761ms
21-05-20 16:21:07.514 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:21:07.515 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62 - 200 502 application/json;+charset=utf-8 88.4061ms
21-05-20 16:21:09.552 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:21:09.552 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:09.553 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4401ms
21-05-20 16:21:09.561 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:21:09.561 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:09.562 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:09.562 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:21:09.562 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:21:09.563 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:09.580 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 16:21:09.581 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:21:09.583 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 20.7115ms
21-05-20 16:21:09.586 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:21:09.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 25.9194ms
21-05-20 16:21:15.809 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 16:21:15.824 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:15.826 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 16.1479ms
21-05-20 16:21:15.847 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 16:21:15.847 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:15.848 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:15.848 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:21:15.848 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:21:15.850 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:15.867 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:21:15.868 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:21:15.869 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 20.2346ms
21-05-20 16:21:15.869 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:21:15.869 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1462 application/json;+charset=utf-8 22.2674ms
21-05-20 16:21:15.962 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:21:15.962 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:15.963 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.4861ms
21-05-20 16:21:15.971 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:21:15.971 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:15.972 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:15.972 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:21:15.972 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:21:15.973 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:16.035 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:21:16.036 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:21:16.045 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 72.6143ms
21-05-20 16:21:16.045 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:21:16.046 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1509 application/json;+charset=utf-8 74.9545ms
21-05-20 16:21:23.725 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 16:21:23.725 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:23.726 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6266ms
21-05-20 16:21:23.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 16:21:23.763 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:23.764 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:23.764 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:21:23.764 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:21:23.765 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:23.792 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:21:23.793 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:21:23.795 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 30.1138ms
21-05-20 16:21:23.795 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:21:23.795 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1462 application/json;+charset=utf-8 32.8590ms
21-05-20 16:21:23.849 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 16:21:23.850 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:23.850 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4779ms
21-05-20 16:21:23.855 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 16:21:23.855 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:23.856 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:23.858 +01:00 [INF] Authorization was successful.
21-05-20 16:21:23.858 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:21:23.859 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 16:21:23.859 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:23.869 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 16:21:23.870 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:21:23.873 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 14.0781ms
21-05-20 16:21:23.873 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:21:23.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 19.0469ms
21-05-20 16:21:23.899 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:21:23.899 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:23.899 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.6385ms
21-05-20 16:21:23.903 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:21:23.903 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:23.904 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:23.905 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:21:23.905 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:21:23.907 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:23.912 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:21:23.914 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:21:23.916 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 10.2661ms
21-05-20 16:21:23.916 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:21:23.917 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 50 application/json;+charset=utf-8 14.3899ms
21-05-20 16:21:39.915 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-05-20 16:21:39.915 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:39.916 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 1.0064ms
21-05-20 16:21:39.924 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 218
21-05-20 16:21:39.924 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:39.925 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:39.925 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 16:21:39.925 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:21:39.929 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:39.955 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 16:21:39.962 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-05-20 16:21:39.963 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 37.8094ms
21-05-20 16:21:39.963 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 16:21:39.964 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 218 - 201 221 application/json;+charset=utf-8 39.7828ms
21-05-20 16:21:43.200 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 16:21:43.200 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:43.200 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5952ms
21-05-20 16:21:43.210 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 16:21:43.210 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:43.211 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:43.212 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:21:43.212 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:21:43.213 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:43.221 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:21:43.223 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:21:43.225 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 13.2084ms
21-05-20 16:21:43.225 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:21:43.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1640 application/json;+charset=utf-8 15.9405ms
21-05-20 16:21:43.275 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:21:43.275 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:43.275 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.3781ms
21-05-20 16:21:43.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:21:43.291 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:43.292 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:43.292 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:21:43.292 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:21:43.293 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:43.302 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:21:43.303 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:21:43.306 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 14.2279ms
21-05-20 16:21:43.307 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:21:43.307 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1718 application/json;+charset=utf-8 16.3779ms
21-05-20 16:21:50.494 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 16:21:50.494 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:50.494 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4335ms
21-05-20 16:21:50.521 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 16:21:50.522 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:50.522 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:50.522 +01:00 [INF] Authorization was successful.
21-05-20 16:21:50.522 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:21:50.523 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 16:21:50.534 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:50.557 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 16:21:50.558 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:21:50.566 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 43.111ms
21-05-20 16:21:50.569 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:21:50.634 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 112.1557ms
21-05-20 16:21:53.858 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:21:53.859 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:53.859 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.1083ms
21-05-20 16:21:53.874 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:21:53.874 +01:00 [INF] CORS policy execution successful.
21-05-20 16:21:53.875 +01:00 [INF] Successfully validated the token.
21-05-20 16:21:53.875 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:21:53.875 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:21:53.876 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:21:53.881 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:21:53.881 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:21:53.884 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 9.0882ms
21-05-20 16:21:53.884 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:21:53.885 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 50 application/json;+charset=utf-8 10.6473ms
21-05-20 16:22:07.210 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/account/forgotpassword - -
21-05-20 16:22:07.211 +01:00 [INF] CORS policy execution successful.
21-05-20 16:22:07.212 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/account/forgotpassword - - - 204 - - 1.3059ms
21-05-20 16:22:07.222 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/account/forgotpassword application/json;+charset=utf-8 88
21-05-20 16:22:07.222 +01:00 [INF] CORS policy execution successful.
21-05-20 16:22:07.222 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.ForgotPassword (WebAPI)'
21-05-20 16:22:07.228 +01:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(WebAPI.DTOs.ForgotPasswordDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:22:07.238 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:22:07.264 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 16:22:11.150 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
21-05-20 16:22:11.150 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.ForgotPassword (WebAPI) in 3921.6188ms
21-05-20 16:22:11.150 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.ForgotPassword (WebAPI)'
21-05-20 16:22:11.151 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/account/forgotpassword application/json;+charset=utf-8 88 - 200 - - 3929.6241ms
21-05-20 16:35:05.216 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 16:35:05.216 +01:00 [INF] CORS policy execution successful.
21-05-20 16:35:05.216 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 0.6874ms
21-05-20 16:35:05.221 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 16:35:05.221 +01:00 [INF] CORS policy execution successful.
21-05-20 16:35:05.222 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:35:05.222 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:35:05.223 +01:00 [INF] Registration attempt for 123
21-05-20 16:35:05.223 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 16:35:05.224 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 16:35:05.224 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 2.2484ms
21-05-20 16:35:05.224 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:35:05.225 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 3.8195ms
21-05-20 16:35:10.491 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 16:35:10.492 +01:00 [INF] CORS policy execution successful.
21-05-20 16:35:10.492 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 0.5200ms
21-05-20 16:35:10.494 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 16:35:10.494 +01:00 [INF] CORS policy execution successful.
21-05-20 16:35:10.494 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:35:10.494 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:35:10.495 +01:00 [INF] Registration attempt for 123
21-05-20 16:35:10.495 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 16:35:10.495 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 16:35:10.495 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 1.089ms
21-05-20 16:35:10.496 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:35:10.504 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 2.6564ms
21-05-20 16:36:26.767 +01:00 [INF] Application Is Starting
21-05-20 16:36:29.867 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-20 16:36:30.499 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-20 16:36:30.499 +01:00 [INF] Hosting environment: Development
21-05-20 16:36:30.500 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-20 16:36:30.576 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-20 16:36:30.896 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 323.3091ms
21-05-20 16:36:31.221 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-20 16:36:31.601 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 380.1521ms
21-05-20 16:39:37.817 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 16:39:37.832 +01:00 [INF] CORS policy execution successful.
21-05-20 16:39:37.834 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 17.5113ms
21-05-20 16:39:37.845 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 16:39:37.845 +01:00 [INF] CORS policy execution successful.
21-05-20 16:39:38.035 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:39:38.092 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:39:38.937 +01:00 [INF] Registration attempt for 123
21-05-20 16:39:38.961 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 16:39:38.995 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 16:39:39.087 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 987.6141ms
21-05-20 16:39:39.088 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:39:39.091 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 1245.5977ms
21-05-20 16:39:51.197 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 16:39:51.198 +01:00 [INF] CORS policy execution successful.
21-05-20 16:39:51.198 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 1.5796ms
21-05-20 16:39:51.216 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63
21-05-20 16:39:51.217 +01:00 [INF] CORS policy execution successful.
21-05-20 16:39:51.225 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:39:51.234 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:39:51.247 +01:00 [INF] Login attempt for admin@kudos-software.co.uk
21-05-20 16:39:52.632 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:39:53.977 +01:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:39:54.324 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 16:39:54.491 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:39:54.515 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 16:39:54.788 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 16:39:54.861 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 16:39:54.870 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 3635.6325ms
21-05-20 16:39:54.874 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:39:54.898 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63 - 200 515 application/json;+charset=utf-8 3680.9126ms
21-05-20 16:39:57.099 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:39:57.099 +01:00 [INF] CORS policy execution successful.
21-05-20 16:39:57.099 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4781ms
21-05-20 16:39:57.103 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:39:57.104 +01:00 [INF] CORS policy execution successful.
21-05-20 16:39:57.230 +01:00 [INF] Successfully validated the token.
21-05-20 16:39:57.231 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:39:57.244 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:39:57.298 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:39:57.320 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 16:39:57.404 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:39:57.427 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 183.044ms
21-05-20 16:39:57.428 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:39:57.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 325.5627ms
21-05-20 16:40:06.923 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 16:40:06.924 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:06.924 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4938ms
21-05-20 16:40:06.929 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 16:40:06.930 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:06.931 +01:00 [INF] Successfully validated the token.
21-05-20 16:40:06.932 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:40:06.937 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:40:06.962 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:40:07.110 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:40:07.136 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:40:07.145 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 208.1219ms
21-05-20 16:40:07.146 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:40:07.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1640 application/json;+charset=utf-8 216.5817ms
21-05-20 16:40:07.235 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:40:07.235 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:07.235 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.5033ms
21-05-20 16:40:07.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:40:07.246 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:07.247 +01:00 [INF] Successfully validated the token.
21-05-20 16:40:07.247 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:40:07.258 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:40:07.266 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:40:07.304 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:40:07.405 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:40:07.415 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 156.6875ms
21-05-20 16:40:07.415 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:40:07.415 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1718 application/json;+charset=utf-8 169.1181ms
21-05-20 16:40:14.202 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:40:14.202 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:14.203 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.1380ms
21-05-20 16:40:14.221 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:40:14.221 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:14.222 +01:00 [INF] Successfully validated the token.
21-05-20 16:40:14.222 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:40:14.222 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:40:14.223 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:40:14.227 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 16:40:14.228 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:40:14.229 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.464ms
21-05-20 16:40:14.229 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:40:14.238 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 17.0117ms
21-05-20 16:40:15.501 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-05-20 16:40:15.501 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:15.501 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.5413ms
21-05-20 16:40:15.514 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-05-20 16:40:15.515 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:15.516 +01:00 [INF] Successfully validated the token.
21-05-20 16:40:15.516 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:40:15.517 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:40:15.518 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:40:15.522 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:40:15.524 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:40:15.525 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 7.8612ms
21-05-20 16:40:15.525 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:40:15.525 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 921 application/json;+charset=utf-8 11.0686ms
21-05-20 16:40:15.563 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:40:15.563 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:15.564 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 204 - - 0.4911ms
21-05-20 16:40:15.567 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:40:15.567 +01:00 [INF] CORS policy execution successful.
21-05-20 16:40:15.568 +01:00 [INF] Successfully validated the token.
21-05-20 16:40:15.568 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:40:15.568 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:40:15.569 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:40:15.577 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:40:15.578 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:40:15.579 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 10.4207ms
21-05-20 16:40:15.579 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:40:15.580 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 200 865 application/json;+charset=utf-8 12.4635ms
21-05-20 16:41:11.796 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:41:11.796 +01:00 [INF] CORS policy execution successful.
21-05-20 16:41:11.797 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.5815ms
21-05-20 16:41:11.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:41:11.826 +01:00 [INF] CORS policy execution successful.
21-05-20 16:41:11.826 +01:00 [INF] Successfully validated the token.
21-05-20 16:41:11.826 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:41:11.827 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:41:11.828 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:41:11.831 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 16:41:11.832 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:41:11.834 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.8672ms
21-05-20 16:41:11.834 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:41:11.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 9.4982ms
21-05-20 16:41:24.931 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 16:41:24.931 +01:00 [INF] CORS policy execution successful.
21-05-20 16:41:24.932 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 0.4292ms
21-05-20 16:41:24.947 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 16:41:24.947 +01:00 [INF] CORS policy execution successful.
21-05-20 16:41:24.947 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:41:24.947 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:41:24.963 +01:00 [INF] Registration attempt for 123
21-05-20 16:41:24.964 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 16:41:24.964 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 16:41:24.965 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 17.1983ms
21-05-20 16:41:24.965 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:41:24.970 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 23.1027ms
21-05-20 16:42:48.792 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/register - -
21-05-20 16:42:48.792 +01:00 [INF] CORS policy execution successful.
21-05-20 16:42:48.793 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/register - - - 204 - - 1.0322ms
21-05-20 16:42:48.801 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56
21-05-20 16:42:48.801 +01:00 [INF] CORS policy execution successful.
21-05-20 16:42:48.807 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:42:48.807 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(WebAPI.DTOs.UserForRegistrationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:42:48.814 +01:00 [INF] Registration attempt for 123
21-05-20 16:42:48.814 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
21-05-20 16:42:48.815 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WebAPI.DTOs.ResponseDTO'.
21-05-20 16:42:48.827 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.RegisterUser (WebAPI) in 19.4872ms
21-05-20 16:42:48.827 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.RegisterUser (WebAPI)'
21-05-20 16:42:48.828 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/register application/json;+charset=utf-8 56 - 400 263 application/json;+charset=utf-8 27.3047ms
21-05-20 16:43:06.029 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 16:43:06.029 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:06.029 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 0.4205ms
21-05-20 16:43:06.041 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63
21-05-20 16:43:06.042 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:06.042 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:43:06.042 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:43:06.043 +01:00 [INF] Login attempt for admin@kudos-software.co.uk
21-05-20 16:43:06.044 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:43:06.253 +01:00 [INF] Executed DbCommand (209ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:43:06.289 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 16:43:06.292 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:43:06.297 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 16:43:06.310 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 16:43:06.313 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 16:43:06.314 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 271.4289ms
21-05-20 16:43:06.314 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:43:06.314 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 63 - 200 515 application/json;+charset=utf-8 272.5994ms
21-05-20 16:43:10.919 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:43:10.919 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:10.920 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.1023ms
21-05-20 16:43:10.952 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:43:10.952 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:10.953 +01:00 [INF] Successfully validated the token.
21-05-20 16:43:10.954 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:43:10.954 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:43:10.955 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:43:10.959 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 16:43:10.960 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:43:10.961 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 7.2445ms
21-05-20 16:43:10.961 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:43:10.962 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 9.5116ms
21-05-20 16:43:20.887 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 16:43:20.887 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:20.887 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5130ms
21-05-20 16:43:20.906 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 16:43:20.906 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:20.907 +01:00 [INF] Successfully validated the token.
21-05-20 16:43:20.907 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:43:20.907 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:43:20.908 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:43:20.925 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:43:20.926 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:43:20.928 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 20.9109ms
21-05-20 16:43:20.928 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:43:20.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1640 application/json;+charset=utf-8 23.9816ms
21-05-20 16:43:20.993 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:43:20.993 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:20.993 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.6083ms
21-05-20 16:43:20.998 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:43:20.999 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:20.999 +01:00 [INF] Successfully validated the token.
21-05-20 16:43:20.999 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:43:20.999 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:43:21.000 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:43:21.030 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:43:21.032 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:43:21.034 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 34.5679ms
21-05-20 16:43:21.034 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:43:21.035 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1718 application/json;+charset=utf-8 36.1828ms
21-05-20 16:43:23.158 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:43:23.158 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:23.160 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.7225ms
21-05-20 16:43:23.166 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:43:23.166 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:23.168 +01:00 [INF] Successfully validated the token.
21-05-20 16:43:23.168 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:43:23.169 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:43:23.171 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:43:23.194 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 16:43:23.195 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:43:23.197 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 28.3058ms
21-05-20 16:43:23.197 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:43:23.198 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 32.3920ms
21-05-20 16:43:24.630 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-05-20 16:43:24.631 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:24.631 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 1.0381ms
21-05-20 16:43:24.639 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-05-20 16:43:24.639 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:24.641 +01:00 [INF] Successfully validated the token.
21-05-20 16:43:24.641 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:43:24.642 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:43:24.643 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:43:24.666 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:43:24.667 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:43:24.668 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 26.1589ms
21-05-20 16:43:24.668 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:43:24.668 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 921 application/json;+charset=utf-8 29.3285ms
21-05-20 16:43:24.705 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:43:24.705 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:24.705 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 204 - - 0.4049ms
21-05-20 16:43:24.712 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:43:24.713 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:24.713 +01:00 [INF] Successfully validated the token.
21-05-20 16:43:24.713 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:43:24.714 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:43:24.715 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:43:24.719 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:43:24.720 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:43:24.721 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.9709ms
21-05-20 16:43:24.721 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:43:24.721 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 200 865 application/json;+charset=utf-8 9.1241ms
21-05-20 16:43:47.733 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-05-20 16:43:47.733 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:47.733 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.6004ms
21-05-20 16:43:47.751 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-05-20 16:43:47.751 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:47.751 +01:00 [INF] Successfully validated the token.
21-05-20 16:43:47.752 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:43:47.752 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:43:47.752 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:43:47.766 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:43:47.767 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:43:47.769 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 16.9411ms
21-05-20 16:43:47.769 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:43:47.770 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 921 application/json;+charset=utf-8 18.9547ms
21-05-20 16:43:47.988 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 16:43:47.989 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:47.989 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5809ms
21-05-20 16:43:48.000 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 16:43:48.000 +01:00 [INF] CORS policy execution successful.
21-05-20 16:43:48.020 +01:00 [INF] Successfully validated the token.
21-05-20 16:43:48.046 +01:00 [INF] Authorization was successful.
21-05-20 16:43:48.047 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:43:48.057 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 16:43:48.061 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:43:48.086 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 16:43:48.095 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:43:48.097 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 40.0271ms
21-05-20 16:43:48.098 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:43:48.099 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 99.1342ms
21-05-20 16:44:00.095 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-05-20 16:44:00.095 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:00.095 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.4203ms
21-05-20 16:44:00.098 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 221
21-05-20 16:44:00.098 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:00.098 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:00.099 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 16:44:00.113 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:44:00.163 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:00.324 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 16:44:00.371 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-05-20 16:44:00.454 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 339.6579ms
21-05-20 16:44:00.454 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 16:44:00.454 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 221 - 201 224 application/json;+charset=utf-8 356.3400ms
21-05-20 16:44:04.407 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-05-20 16:44:04.407 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:04.414 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 8.4925ms
21-05-20 16:44:04.418 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-05-20 16:44:04.418 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:04.419 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:04.419 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:44:04.419 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:44:04.420 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:04.426 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:44:04.427 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:44:04.427 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 8.2768ms
21-05-20 16:44:04.427 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:44:04.428 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 1102 application/json;+charset=utf-8 9.7498ms
21-05-20 16:44:04.485 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:44:04.485 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:04.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 204 - - 0.3870ms
21-05-20 16:44:04.487 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:44:04.488 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:04.488 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:04.488 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:44:04.488 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:44:04.489 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:04.494 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:44:04.499 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:44:04.499 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 11.1756ms
21-05-20 16:44:04.500 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:44:04.500 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 200 1082 application/json;+charset=utf-8 12.5858ms
21-05-20 16:44:19.359 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 16:44:19.359 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:19.360 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3599ms
21-05-20 16:44:19.364 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 16:44:19.365 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:19.365 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:19.366 +01:00 [INF] Authorization was successful.
21-05-20 16:44:19.366 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:44:19.366 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 16:44:19.367 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:19.398 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 16:44:19.399 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:44:19.399 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 32.8741ms
21-05-20 16:44:19.399 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:44:19.400 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 35.2239ms
21-05-20 16:44:27.521 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 16:44:27.521 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:27.522 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4757ms
21-05-20 16:44:27.532 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 16:44:27.532 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:27.533 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:27.534 +01:00 [INF] Authorization was successful.
21-05-20 16:44:27.534 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:44:27.536 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 16:44:27.538 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:27.549 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 16:44:27.549 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:44:27.550 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 14.2596ms
21-05-20 16:44:27.550 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:44:27.555 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 22.8657ms
21-05-20 16:44:30.936 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:44:30.937 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:30.937 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5885ms
21-05-20 16:44:30.948 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:44:30.948 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:30.948 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:30.949 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:44:30.953 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:44:30.957 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:30.978 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:44:30.987 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:44:30.992 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 38.0154ms
21-05-20 16:44:30.992 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:44:30.992 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 50 application/json;+charset=utf-8 44.3187ms
21-05-20 16:44:36.720 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:44:36.720 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:36.720 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.6287ms
21-05-20 16:44:36.723 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:44:36.723 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:36.724 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:36.724 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:44:36.724 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:44:36.724 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:36.726 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:44:36.733 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:44:36.733 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 9.5702ms
21-05-20 16:44:36.734 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:44:36.734 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 50 application/json;+charset=utf-8 11.0548ms
21-05-20 16:44:41.917 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:44:41.917 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:41.924 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 6.7944ms
21-05-20 16:44:41.928 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Employee application/json;+charset=utf-8 23
21-05-20 16:44:41.928 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:41.928 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:41.928 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.CreateEmployee (WebAPI)'
21-05-20 16:44:41.933 +01:00 [INF] Route matched with {action = "CreateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEmployee(WebAPI.DTOs.CreateEmployeeDTO) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:44:41.945 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:41.981 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Employee] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Employee]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 16:44:41.992 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Employee'.
21-05-20 16:44:41.996 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.CreateEmployee (WebAPI) in 62.7032ms
21-05-20 16:44:41.996 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.CreateEmployee (WebAPI)'
21-05-20 16:44:41.997 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Employee application/json;+charset=utf-8 23 - 201 36 application/json;+charset=utf-8 68.8603ms
21-05-20 16:44:44.585 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:44:44.585 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:44.586 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:44.586 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:44:44.586 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:44:44.587 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:44.593 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:44:44.594 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:44:44.594 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 7.7015ms
21-05-20 16:44:44.594 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:44:44.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 74 application/json;+charset=utf-8 9.6335ms
21-05-20 16:44:52.682 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/7 - -
21-05-20 16:44:52.682 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:52.682 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/7 - - - 204 - - 0.5754ms
21-05-20 16:44:52.708 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:44323/api/Employee/7 - -
21-05-20 16:44:52.708 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:52.709 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:52.709 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI)'
21-05-20 16:44:52.726 +01:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:44:52.732 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:52.754 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 16:44:52.786 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__p_0
21-05-20 16:44:52.803 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Employee]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
21-05-20 16:44:52.819 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
21-05-20 16:44:52.819 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI) in 93.0648ms
21-05-20 16:44:52.820 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.DeleteEmployee (WebAPI)'
21-05-20 16:44:52.820 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:44323/api/Employee/7 - - - 204 - - 111.7150ms
21-05-20 16:44:52.935 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:44:52.936 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:52.936 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.3630ms
21-05-20 16:44:52.947 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:44:52.948 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:52.948 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:52.948 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:44:52.948 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:44:52.949 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:52.957 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:44:52.957 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:44:52.958 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 10.1029ms
21-05-20 16:44:52.958 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:44:52.959 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 50 application/json;+charset=utf-8 11.4917ms
21-05-20 16:44:57.425 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/6 - -
21-05-20 16:44:57.426 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:57.426 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/6 - - - 204 - - 0.6209ms
21-05-20 16:44:57.430 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee/6 - -
21-05-20 16:44:57.430 +01:00 [INF] CORS policy execution successful.
21-05-20 16:44:57.430 +01:00 [INF] Successfully validated the token.
21-05-20 16:44:57.430 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-20 16:44:57.437 +01:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:44:57.443 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:44:57.459 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 16:44:57.468 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.EmployeeDTO'.
21-05-20 16:44:57.468 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI) in 31.5161ms
21-05-20 16:44:57.468 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-20 16:44:57.469 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee/6 - - - 200 23 application/json;+charset=utf-8 39.3035ms
21-05-20 16:45:02.828 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/6 - -
21-05-20 16:45:02.829 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:02.829 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/6 - - - 204 - - 0.5036ms
21-05-20 16:45:02.832 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:44323/api/Employee/6 application/json;+charset=utf-8 25
21-05-20 16:45:02.832 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:02.833 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:02.833 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.UpdateEmployee (WebAPI)'
21-05-20 16:45:02.843 +01:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEmployee(Int32, WebAPI.DTOs.UpdateEmployeeDTO) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:45:02.849 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:02.854 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-20 16:45:02.879 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Employee] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
21-05-20 16:45:02.882 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
21-05-20 16:45:02.882 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.UpdateEmployee (WebAPI) in 39.1168ms
21-05-20 16:45:02.882 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.UpdateEmployee (WebAPI)'
21-05-20 16:45:02.883 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:44323/api/Employee/6 application/json;+charset=utf-8 25 - 204 - - 50.3828ms
21-05-20 16:45:05.664 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:45:05.664 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:05.664 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4846ms
21-05-20 16:45:05.669 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:45:05.670 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:05.672 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:05.672 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:45:05.673 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:45:05.676 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:05.682 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:45:05.683 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:45:05.683 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 10.0616ms
21-05-20 16:45:05.683 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:45:05.684 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 52 application/json;+charset=utf-8 14.3748ms
21-05-20 16:45:26.727 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-20 16:45:26.727 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:26.727 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 0.4625ms
21-05-20 16:45:26.731 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62
21-05-20 16:45:26.731 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:26.731 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:45:26.731 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:45:26.732 +01:00 [INF] Login attempt for jack@kudos-software.co.uk
21-05-20 16:45:26.733 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:26.750 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:45:26.789 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-20 16:45:26.793 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-20 16:45:26.800 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 16:45:26.818 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-20 16:45:26.821 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-20 16:45:26.822 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 90.122ms
21-05-20 16:45:26.822 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-20 16:45:26.822 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62 - 200 502 application/json;+charset=utf-8 91.1779ms
21-05-20 16:45:28.719 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:45:28.719 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:28.720 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4557ms
21-05-20 16:45:28.724 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:45:28.724 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:28.725 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:28.725 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:45:28.725 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:45:28.726 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:28.728 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 16:45:28.729 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:45:28.729 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 4.1539ms
21-05-20 16:45:28.730 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:45:28.730 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 5.7009ms
21-05-20 16:45:33.130 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-20 16:45:33.131 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:33.131 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5414ms
21-05-20 16:45:33.136 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-20 16:45:33.137 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:33.137 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:33.137 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:45:33.137 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:45:33.138 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:33.148 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:45:33.149 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:45:33.149 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 11.9954ms
21-05-20 16:45:33.150 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:45:33.150 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1640 application/json;+charset=utf-8 13.7603ms
21-05-20 16:45:33.181 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:45:33.181 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:33.181 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 204 - - 0.2656ms
21-05-20 16:45:33.184 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - -
21-05-20 16:45:33.184 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:33.184 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:33.184 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:45:33.184 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:45:33.185 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:33.189 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:45:33.190 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:45:33.190 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 5.8349ms
21-05-20 16:45:33.191 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:45:33.191 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=2 - - - 200 1718 application/json;+charset=utf-8 6.9356ms
21-05-20 16:45:45.957 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:45:45.957 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:45.958 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5040ms
21-05-20 16:45:45.961 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-20 16:45:45.961 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:45.961 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:45.961 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:45:45.961 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:45:45.962 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:45.966 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-20 16:45:45.968 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:45:45.968 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.7524ms
21-05-20 16:45:45.968 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-20 16:45:45.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 716 application/json;+charset=utf-8 9.3165ms
21-05-20 16:45:47.902 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-05-20 16:45:47.902 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:47.903 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.6302ms
21-05-20 16:45:47.912 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-05-20 16:45:47.913 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:47.913 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:47.913 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:45:47.913 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:45:47.914 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:47.918 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:45:47.920 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:45:47.921 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 7.0073ms
21-05-20 16:45:47.921 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:45:47.921 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 1102 application/json;+charset=utf-8 8.6028ms
21-05-20 16:45:47.950 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:45:47.950 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:47.951 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 204 - - 0.3736ms
21-05-20 16:45:47.953 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:45:47.953 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:47.954 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:47.954 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:45:47.954 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:45:47.955 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:47.957 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:45:47.958 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:45:47.959 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 4.8145ms
21-05-20 16:45:47.959 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:45:47.959 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 200 1082 application/json;+charset=utf-8 5.9480ms
21-05-20 16:45:50.780 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-05-20 16:45:50.780 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:50.781 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:50.781 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:45:50.782 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:45:50.782 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:50.795 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:45:50.796 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:45:50.797 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 15.3559ms
21-05-20 16:45:50.797 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:45:50.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 1102 application/json;+charset=utf-8 21.0205ms
21-05-20 16:45:50.962 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 16:45:50.962 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:50.962 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3941ms
21-05-20 16:45:50.967 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 16:45:50.967 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:50.968 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:50.969 +01:00 [INF] Authorization was successful.
21-05-20 16:45:50.969 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:45:50.969 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 16:45:50.970 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:50.983 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 16:45:50.983 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:45:50.984 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 14.7263ms
21-05-20 16:45:50.984 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:45:50.984 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 17.8655ms
21-05-20 16:45:51.011 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:45:51.011 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:51.011 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4616ms
21-05-20 16:45:51.015 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:45:51.015 +01:00 [INF] CORS policy execution successful.
21-05-20 16:45:51.016 +01:00 [INF] Successfully validated the token.
21-05-20 16:45:51.016 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:45:51.016 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:45:51.016 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:45:51.020 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:45:51.020 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:45:51.020 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 4.4484ms
21-05-20 16:45:51.021 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:45:51.021 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 52 application/json;+charset=utf-8 5.7643ms
21-05-20 16:46:03.634 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-05-20 16:46:03.635 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:03.635 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.6082ms
21-05-20 16:46:03.637 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 219
21-05-20 16:46:03.637 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:03.638 +01:00 [INF] Successfully validated the token.
21-05-20 16:46:03.638 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 16:46:03.638 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:46:03.644 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:46:03.679 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-05-20 16:46:03.686 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-05-20 16:46:03.687 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 48.8674ms
21-05-20 16:46:03.687 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-05-20 16:46:03.688 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 219 - 201 222 application/json;+charset=utf-8 50.2549ms
21-05-20 16:46:06.462 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-05-20 16:46:06.464 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:06.520 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 58.1477ms
21-05-20 16:46:06.537 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-05-20 16:46:06.538 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:06.538 +01:00 [INF] Successfully validated the token.
21-05-20 16:46:06.538 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:46:06.538 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-20 16:46:06.540 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:46:06.613 +01:00 [INF] Executed DbCommand (72ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-20 16:46:06.613 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-20 16:46:06.614 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 75.3205ms
21-05-20 16:46:06.614 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-20 16:46:06.615 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 1281 application/json;+charset=utf-8 77.4972ms
21-05-20 16:46:06.665 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:46:06.665 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:06.665 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 204 - - 0.3533ms
21-05-20 16:46:06.723 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - -
21-05-20 16:46:06.723 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:06.724 +01:00 [INF] Successfully validated the token.
21-05-20 16:46:06.724 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:46:06.724 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams, Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-20 16:46:06.724 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:46:06.883 +01:00 [INF] Executed DbCommand (158ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
WHERE [a].[CustomerId] = @__customerId_0
21-05-20 16:46:06.884 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:46:06.885 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 160.8651ms
21-05-20 16:46:06.885 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-20 16:46:06.886 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name&customerId=3 - - - 200 1292 application/json;+charset=utf-8 163.1945ms
21-05-20 16:46:17.527 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-20 16:46:17.527 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:17.527 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3931ms
21-05-20 16:46:17.534 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-20 16:46:17.535 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:17.535 +01:00 [INF] Successfully validated the token.
21-05-20 16:46:17.535 +01:00 [INF] Authorization was successful.
21-05-20 16:46:17.535 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:46:17.535 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-20 16:46:17.536 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:46:17.546 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-20 16:46:17.547 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:46:17.547 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 11.8547ms
21-05-20 16:46:17.547 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-20 16:46:17.548 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 13.7296ms
21-05-20 16:46:23.261 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-20 16:46:23.261 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:23.261 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4047ms
21-05-20 16:46:23.264 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-20 16:46:23.264 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:23.264 +01:00 [INF] Successfully validated the token.
21-05-20 16:46:23.264 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:46:23.264 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-20 16:46:23.265 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:46:23.271 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-20 16:46:23.272 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-20 16:46:23.272 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 7.9114ms
21-05-20 16:46:23.273 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-20 16:46:23.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 52 application/json;+charset=utf-8 9.3806ms
21-05-20 16:46:35.302 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/account/forgotpassword - -
21-05-20 16:46:35.302 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:35.302 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/account/forgotpassword - - - 204 - - 0.5474ms
21-05-20 16:46:35.310 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/account/forgotpassword application/json;+charset=utf-8 88
21-05-20 16:46:35.310 +01:00 [INF] CORS policy execution successful.
21-05-20 16:46:35.311 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.ForgotPassword (WebAPI)'
21-05-20 16:46:35.319 +01:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(WebAPI.DTOs.ForgotPasswordDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-20 16:46:35.326 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-20 16:46:35.329 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-20 16:46:37.180 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
21-05-20 16:46:37.180 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.ForgotPassword (WebAPI) in 1860.4255ms
21-05-20 16:46:37.180 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.ForgotPassword (WebAPI)'
21-05-20 16:46:37.180 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/account/forgotpassword application/json;+charset=utf-8 88 - 200 - - 1871.0101ms
