21-04-16 09:03:01.946 +01:00 [INF] Application Is Starting
21-04-16 09:03:10.003 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-04-16 09:03:11.487 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-04-16 09:03:11.487 +01:00 [INF] Hosting environment: Development
21-04-16 09:03:11.487 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-04-16 09:03:11.765 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger - -
21-04-16 09:03:11.946 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-04-16 09:03:11.987 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger - - - 301 - - 226.9089ms
21-04-16 09:03:12.296 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 350.0907ms
21-04-16 09:03:12.412 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/swagger-ui.css - -
21-04-16 09:03:12.418 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/swagger-ui-bundle.js - -
21-04-16 09:03:12.419 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/swagger-ui-standalone-preset.js - -
21-04-16 09:03:12.780 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
21-04-16 09:03:12.780 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
21-04-16 09:03:12.821 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
21-04-16 09:03:12.847 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/swagger-ui.css - - - 200 142933 text/css 434.8852ms
21-04-16 09:03:12.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 454.3366ms
21-04-16 09:03:12.928 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 509.8070ms
21-04-16 09:03:13.977 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 09:03:14.676 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 699.1799ms
21-04-16 09:06:29.309 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 09:06:29.344 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:29.348 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 38.9062ms
21-04-16 09:06:29.352 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370
21-04-16 09:06:29.353 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:30.342 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 09:06:30.512 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 09:06:30.519 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 09:06:30.645 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 09:06:34.316 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:39.462 +01:00 [INF] Executed DbCommand (577ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 09:06:40.247 +01:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 09:06:40.399 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 09:06:40.482 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 09:06:40.965 +01:00 [INF] Executed DbCommand (146ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 09:06:41.029 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 09:06:41.230 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 10569.9373ms
21-04-16 09:06:41.232 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 09:06:41.245 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370 - 200 409 application/json;+charset=utf-8 11892.5492ms
21-04-16 09:06:41.311 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:06:41.312 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:41.313 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.4378ms
21-04-16 09:06:41.323 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:06:41.323 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:41.332 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:41.335 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:06:41.362 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:06:42.157 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:42.299 +01:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:06:42.449 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:06:42.504 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 1142.0622ms
21-04-16 09:06:42.504 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:06:42.507 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 1183.4944ms
21-04-16 09:06:46.323 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:06:46.324 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:46.324 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.0725ms
21-04-16 09:06:46.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:06:46.339 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:46.345 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:46.345 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:06:46.354 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:06:46.374 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:46.632 +01:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:06:46.693 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:06:46.705 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 351.388ms
21-04-16 09:06:46.705 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:06:46.706 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 366.6540ms
21-04-16 09:06:46.806 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:06:46.806 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:46.807 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4711ms
21-04-16 09:06:46.810 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:06:46.810 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:46.810 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:46.811 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:06:46.819 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:06:46.828 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:46.844 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:06:46.906 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:06:46.908 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 88.0455ms
21-04-16 09:06:46.908 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:06:46.908 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 98.4922ms
21-04-16 09:06:49.824 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:06:49.824 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:49.825 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:49.826 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:06:49.833 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:06:49.835 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:49.918 +01:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:06:49.919 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:06:49.926 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 92.1123ms
21-04-16 09:06:49.926 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:06:49.926 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 102.1709ms
21-04-16 09:06:50.104 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 09:06:50.105 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:50.105 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4096ms
21-04-16 09:06:50.116 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:06:50.116 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:50.117 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:50.117 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:06:50.124 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:06:50.127 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:50.242 +01:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:06:50.252 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:06:50.259 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 134.9587ms
21-04-16 09:06:50.259 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:06:50.259 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 143.2100ms
21-04-16 09:06:50.310 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-04-16 09:06:50.310 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:50.310 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5454ms
21-04-16 09:06:50.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-04-16 09:06:50.321 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:50.321 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:50.331 +01:00 [INF] Authorization was successful.
21-04-16 09:06:50.332 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 09:06:50.340 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-04-16 09:06:50.346 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:50.464 +01:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-04-16 09:06:50.476 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:06:50.483 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 142.027ms
21-04-16 09:06:50.483 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 09:06:50.487 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 24 application/json;+charset=utf-8 166.5066ms
21-04-16 09:06:53.038 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:06:53.038 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:53.039 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 11.8741ms
21-04-16 09:06:53.049 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:06:53.050 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:53.051 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:53.051 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:06:53.051 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:06:53.052 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:53.064 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:06:53.064 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:06:53.065 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 13.8582ms
21-04-16 09:06:53.065 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:06:53.066 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 16.8441ms
21-04-16 09:06:53.083 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:06:53.084 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:53.084 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4213ms
21-04-16 09:06:53.088 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:06:53.088 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:53.088 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:53.089 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:06:53.089 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:06:53.090 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:53.093 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:06:53.094 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:06:53.095 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.0441ms
21-04-16 09:06:53.095 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:06:53.095 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 7.5445ms
21-04-16 09:06:54.141 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:06:54.141 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:54.141 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:54.142 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:06:54.142 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:06:54.143 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:54.185 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:06:54.186 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:06:54.190 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 47.988ms
21-04-16 09:06:54.190 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:06:54.192 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 49.4479ms
21-04-16 09:06:54.247 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:06:54.247 +01:00 [INF] CORS policy execution successful.
21-04-16 09:06:54.248 +01:00 [INF] Successfully validated the token.
21-04-16 09:06:54.248 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:06:54.248 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:06:54.249 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:06:54.263 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:06:54.263 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:06:54.266 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 17.4058ms
21-04-16 09:06:54.266 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:06:54.266 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 19.1158ms
21-04-16 09:19:23.244 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 09:19:23.316 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 72.0720ms
21-04-16 09:19:37.102 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:19:37.102 +01:00 [INF] CORS policy execution successful.
21-04-16 09:19:37.103 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.8591ms
21-04-16 09:19:37.108 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:19:37.108 +01:00 [INF] CORS policy execution successful.
21-04-16 09:19:37.111 +01:00 [INF] Successfully validated the token.
21-04-16 09:19:37.111 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:19:37.111 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:19:37.114 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:19:37.371 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:19:37.374 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:19:37.375 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 263.97ms
21-04-16 09:19:37.376 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:19:37.376 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 268.1656ms
21-04-16 09:19:38.698 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:19:38.699 +01:00 [INF] CORS policy execution successful.
21-04-16 09:19:38.699 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5502ms
21-04-16 09:19:38.704 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:19:38.704 +01:00 [INF] CORS policy execution successful.
21-04-16 09:19:38.705 +01:00 [INF] Successfully validated the token.
21-04-16 09:19:38.705 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:19:38.705 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:19:38.706 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:19:38.716 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:19:38.717 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:19:38.720 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 14.7183ms
21-04-16 09:19:38.720 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:19:38.721 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 16.9664ms
21-04-16 09:19:38.780 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:19:38.780 +01:00 [INF] CORS policy execution successful.
21-04-16 09:19:38.780 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.2806ms
21-04-16 09:19:38.783 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:19:38.783 +01:00 [INF] CORS policy execution successful.
21-04-16 09:19:38.784 +01:00 [INF] Successfully validated the token.
21-04-16 09:19:38.784 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:19:38.784 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:19:38.785 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:19:38.788 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:19:38.788 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:19:38.789 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 5.0745ms
21-04-16 09:19:38.789 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:19:38.789 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 6.2775ms
21-04-16 09:19:41.028 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:19:41.028 +01:00 [INF] CORS policy execution successful.
21-04-16 09:19:41.028 +01:00 [INF] Successfully validated the token.
21-04-16 09:19:41.030 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:19:41.030 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:19:41.031 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:19:41.040 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:19:41.040 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:19:41.042 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 11.8391ms
21-04-16 09:19:41.042 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:19:41.042 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 14.7286ms
21-04-16 09:19:41.312 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 09:19:41.312 +01:00 [INF] CORS policy execution successful.
21-04-16 09:19:41.312 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4430ms
21-04-16 09:19:41.357 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:19:41.358 +01:00 [INF] CORS policy execution successful.
21-04-16 09:19:41.358 +01:00 [INF] Successfully validated the token.
21-04-16 09:19:41.358 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:19:41.358 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:19:41.359 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:19:41.402 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:19:41.402 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:19:41.404 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 45.3489ms
21-04-16 09:19:41.404 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:19:41.405 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 47.2875ms
21-04-16 09:21:08.698 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 09:21:08.698 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:08.699 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 0.6553ms
21-04-16 09:21:08.718 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-04-16 09:21:08.719 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:08.719 +01:00 [INF] Successfully validated the token.
21-04-16 09:21:08.719 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 09:21:08.719 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 09:21:08.723 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:21:08.735 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 09:21:08.744 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 09:21:08.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 09:21:08.751 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 09:21:08.760 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 09:21:08.762 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 09:21:08.762 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 42.7978ms
21-04-16 09:21:08.762 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 09:21:08.763 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 44.8379ms
21-04-16 09:21:08.847 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:21:08.847 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:08.848 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5759ms
21-04-16 09:21:08.853 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:21:08.853 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:08.853 +01:00 [INF] Successfully validated the token.
21-04-16 09:21:08.853 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:21:08.854 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:21:08.854 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:21:08.859 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:21:08.862 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:21:08.863 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 9.3973ms
21-04-16 09:21:08.863 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:21:08.864 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 10.8504ms
21-04-16 09:21:10.041 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:21:10.041 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:10.041 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4068ms
21-04-16 09:21:10.047 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:21:10.047 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:10.049 +01:00 [INF] Successfully validated the token.
21-04-16 09:21:10.049 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:21:10.049 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:21:10.050 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:21:10.061 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:21:10.062 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:21:10.064 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 14.5912ms
21-04-16 09:21:10.065 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:21:10.068 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 18.3903ms
21-04-16 09:21:10.149 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:21:10.149 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:10.149 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3891ms
21-04-16 09:21:10.153 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:21:10.153 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:10.154 +01:00 [INF] Successfully validated the token.
21-04-16 09:21:10.154 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:21:10.154 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:21:10.154 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:21:10.157 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:21:10.158 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:21:10.159 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 4.6792ms
21-04-16 09:21:10.159 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:21:10.159 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 5.8635ms
21-04-16 09:21:11.171 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:21:11.171 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:11.172 +01:00 [INF] Successfully validated the token.
21-04-16 09:21:11.172 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:21:11.172 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:21:11.173 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:21:11.183 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:21:11.184 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:21:11.184 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 12.2544ms
21-04-16 09:21:11.185 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:21:11.185 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 18.7129ms
21-04-16 09:21:11.326 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 09:21:11.326 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:11.326 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3145ms
21-04-16 09:21:11.332 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:21:11.333 +01:00 [INF] CORS policy execution successful.
21-04-16 09:21:11.333 +01:00 [INF] Successfully validated the token.
21-04-16 09:21:11.333 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:21:11.333 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:21:11.333 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:21:11.336 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:21:11.336 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:21:11.337 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 3.9232ms
21-04-16 09:21:11.337 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:21:11.337 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 4.9715ms
21-04-16 09:22:10.337 +01:00 [INF] Application Is Starting
21-04-16 09:22:13.941 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-04-16 09:22:14.647 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-04-16 09:22:14.648 +01:00 [INF] Hosting environment: Development
21-04-16 09:22:14.648 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-04-16 09:22:14.746 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-04-16 09:22:15.098 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 334.5062ms
21-04-16 09:22:15.337 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 09:22:15.681 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 344.5206ms
21-04-16 09:24:06.559 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:24:06.579 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:06.582 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 22.4562ms
21-04-16 09:24:06.584 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:24:06.585 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:07.146 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:07.151 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:24:07.239 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:24:09.524 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:11.695 +01:00 [INF] Executed DbCommand (134ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:24:11.946 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:24:12.192 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 4942.8864ms
21-04-16 09:24:12.195 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:24:12.210 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 5625.4673ms
21-04-16 09:24:13.941 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:24:13.941 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:13.942 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.2294ms
21-04-16 09:24:13.961 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:24:13.961 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:13.968 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:13.968 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:24:13.977 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:24:14.075 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:14.650 +01:00 [INF] Executed DbCommand (146ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:24:14.726 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:24:14.740 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 763.3807ms
21-04-16 09:24:14.741 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:24:14.741 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 780.5939ms
21-04-16 09:24:14.856 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:24:14.857 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:14.857 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.5389ms
21-04-16 09:24:14.886 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:24:14.886 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:14.895 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:14.895 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:24:14.902 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:24:14.938 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:14.961 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:24:15.033 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:24:15.049 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 146.6822ms
21-04-16 09:24:15.049 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:24:15.050 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 163.6590ms
21-04-16 09:24:15.431 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:24:15.433 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:15.434 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:15.434 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:24:15.434 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:24:15.436 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:15.494 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:24:15.496 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:24:15.496 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 61.9005ms
21-04-16 09:24:15.497 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:24:15.497 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 66.2555ms
21-04-16 09:24:15.639 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 09:24:15.639 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:15.640 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.6284ms
21-04-16 09:24:15.654 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:24:15.654 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:15.655 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:15.656 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:24:15.665 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:24:15.668 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:15.710 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:24:15.718 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:24:15.723 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 58.3545ms
21-04-16 09:24:15.723 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:24:15.724 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 69.9535ms
21-04-16 09:24:15.766 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-04-16 09:24:15.766 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:15.767 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4498ms
21-04-16 09:24:15.774 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-04-16 09:24:15.775 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:15.775 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:15.787 +01:00 [INF] Authorization was successful.
21-04-16 09:24:15.788 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 09:24:15.793 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-04-16 09:24:15.799 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:15.870 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-04-16 09:24:15.880 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:24:15.886 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 92.904ms
21-04-16 09:24:15.887 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 09:24:15.889 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 24 application/json;+charset=utf-8 114.2720ms
21-04-16 09:24:17.436 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:24:17.436 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:17.437 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:17.437 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:24:17.439 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:24:17.440 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:17.460 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:24:17.460 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:24:17.461 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 22.0559ms
21-04-16 09:24:17.461 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:24:17.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 25.6823ms
21-04-16 09:24:17.519 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:24:17.519 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:17.519 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:17.519 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:24:17.520 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:24:17.521 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:17.527 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:24:17.528 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:24:17.529 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 9.0613ms
21-04-16 09:24:17.529 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:24:17.532 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 13.0984ms
21-04-16 09:24:18.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:24:18.305 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:18.305 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:18.305 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:24:18.305 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:24:18.306 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:18.324 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:24:18.324 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:24:18.332 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 26.1305ms
21-04-16 09:24:18.332 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:24:18.332 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 27.9325ms
21-04-16 09:24:18.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:24:18.358 +01:00 [INF] CORS policy execution successful.
21-04-16 09:24:18.358 +01:00 [INF] Successfully validated the token.
21-04-16 09:24:18.358 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:24:18.358 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:24:18.359 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:24:18.365 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:24:18.366 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:24:18.367 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 8.0367ms
21-04-16 09:24:18.367 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:24:18.367 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 9.7327ms
21-04-16 09:26:30.171 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:26:30.172 +01:00 [INF] CORS policy execution successful.
21-04-16 09:26:30.172 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5979ms
21-04-16 09:26:30.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:26:30.214 +01:00 [INF] CORS policy execution successful.
21-04-16 09:26:30.215 +01:00 [INF] Successfully validated the token.
21-04-16 09:26:30.215 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:26:30.215 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:26:30.217 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:26:30.237 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:26:30.238 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:26:30.239 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 24.1266ms
21-04-16 09:26:30.239 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:26:30.240 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 26.1214ms
21-04-16 09:26:31.210 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:26:31.210 +01:00 [INF] CORS policy execution successful.
21-04-16 09:26:31.211 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5971ms
21-04-16 09:26:31.232 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:26:31.232 +01:00 [INF] CORS policy execution successful.
21-04-16 09:26:31.233 +01:00 [INF] Successfully validated the token.
21-04-16 09:26:31.242 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:26:31.242 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:26:31.244 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:26:31.258 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:26:31.258 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:26:31.259 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 16.8844ms
21-04-16 09:26:31.259 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:26:31.260 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 28.0694ms
21-04-16 09:26:31.354 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:26:31.354 +01:00 [INF] CORS policy execution successful.
21-04-16 09:26:31.354 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3915ms
21-04-16 09:26:31.359 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:26:31.359 +01:00 [INF] CORS policy execution successful.
21-04-16 09:26:31.360 +01:00 [INF] Successfully validated the token.
21-04-16 09:26:31.360 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:26:31.360 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:26:31.363 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:26:31.375 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:26:31.376 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:26:31.377 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 15.626ms
21-04-16 09:26:31.377 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:26:31.378 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 18.9497ms
21-04-16 09:26:32.562 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:26:32.562 +01:00 [INF] CORS policy execution successful.
21-04-16 09:26:32.567 +01:00 [INF] Successfully validated the token.
21-04-16 09:26:32.568 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:26:32.568 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:26:32.569 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:26:32.601 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:26:32.601 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:26:32.605 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 37.2656ms
21-04-16 09:26:32.605 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:26:32.606 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 43.8268ms
21-04-16 09:26:32.808 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 09:26:32.808 +01:00 [INF] CORS policy execution successful.
21-04-16 09:26:32.808 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4890ms
21-04-16 09:26:32.814 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:26:32.814 +01:00 [INF] CORS policy execution successful.
21-04-16 09:26:32.814 +01:00 [INF] Successfully validated the token.
21-04-16 09:26:32.814 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:26:32.814 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:26:32.816 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:26:32.841 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:26:32.842 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:26:32.843 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 28.1296ms
21-04-16 09:26:32.843 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:26:32.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 29.4781ms
21-04-16 09:34:54.830 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 09:34:54.830 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:54.831 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 0.9107ms
21-04-16 09:34:54.841 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-04-16 09:34:54.841 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:54.842 +01:00 [INF] Successfully validated the token.
21-04-16 09:34:54.842 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 09:34:54.848 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 09:34:54.971 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:34:55.302 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 09:34:55.509 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 09:34:55.562 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 09:34:55.596 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 09:34:55.978 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 09:34:56.020 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 09:34:56.023 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 1174.8292ms
21-04-16 09:34:56.023 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 09:34:56.026 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 1185.3160ms
21-04-16 09:34:56.107 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:34:56.108 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:56.108 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.8502ms
21-04-16 09:34:56.111 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:34:56.112 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:56.112 +01:00 [INF] Successfully validated the token.
21-04-16 09:34:56.112 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:34:56.112 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:34:56.113 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:34:56.119 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:34:56.120 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:34:56.120 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 7.8819ms
21-04-16 09:34:56.120 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:34:56.121 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 9.3180ms
21-04-16 09:34:57.761 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:34:57.761 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:57.762 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6951ms
21-04-16 09:34:57.769 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:34:57.769 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:57.771 +01:00 [INF] Successfully validated the token.
21-04-16 09:34:57.772 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:34:57.772 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:34:57.774 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:34:57.789 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:34:57.791 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:34:57.792 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 19.7506ms
21-04-16 09:34:57.792 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:34:57.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 23.6472ms
21-04-16 09:34:57.890 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:34:57.891 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:57.891 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4534ms
21-04-16 09:34:57.899 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:34:57.899 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:57.900 +01:00 [INF] Successfully validated the token.
21-04-16 09:34:57.900 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:34:57.900 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:34:57.901 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:34:57.907 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:34:57.909 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:34:57.910 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 9.5582ms
21-04-16 09:34:57.910 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:34:57.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 11.0298ms
21-04-16 09:34:58.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:34:58.885 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:58.885 +01:00 [INF] Successfully validated the token.
21-04-16 09:34:58.885 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:34:58.885 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:34:58.886 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:34:58.897 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:34:58.898 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:34:58.899 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 13.2658ms
21-04-16 09:34:58.899 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:34:58.899 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 14.5463ms
21-04-16 09:34:59.078 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 09:34:59.078 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:59.078 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3383ms
21-04-16 09:34:59.083 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:34:59.083 +01:00 [INF] CORS policy execution successful.
21-04-16 09:34:59.083 +01:00 [INF] Successfully validated the token.
21-04-16 09:34:59.083 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:34:59.083 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:34:59.084 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:34:59.095 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:34:59.095 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:34:59.096 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 12.4741ms
21-04-16 09:34:59.096 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:34:59.096 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 13.7090ms
21-04-16 09:35:08.484 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:35:08.484 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:08.488 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 4.4064ms
21-04-16 09:35:08.495 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:35:08.495 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:08.496 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:08.496 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:35:08.496 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:35:08.497 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:08.509 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:35:08.509 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:35:08.510 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 14.0196ms
21-04-16 09:35:08.510 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:35:08.511 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 15.4555ms
21-04-16 09:35:08.541 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:35:08.541 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:08.542 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4711ms
21-04-16 09:35:08.545 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:35:08.545 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:08.546 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:08.546 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:35:08.546 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:35:08.547 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:08.563 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:35:08.563 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:35:08.565 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 18.9269ms
21-04-16 09:35:08.565 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:35:08.566 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 21.0893ms
21-04-16 09:35:14.756 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:35:14.757 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:14.757 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6269ms
21-04-16 09:35:14.760 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:35:14.760 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:14.761 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:14.761 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:35:14.761 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:35:14.762 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:14.775 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:35:14.776 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:35:14.777 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 15.2704ms
21-04-16 09:35:14.777 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:35:14.777 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 16.8039ms
21-04-16 09:35:14.797 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 09:35:14.797 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:14.798 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 1.0826ms
21-04-16 09:35:14.807 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:35:14.808 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:14.808 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:14.808 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:35:14.808 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:35:14.809 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:14.812 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:35:14.812 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:35:14.812 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 4.1671ms
21-04-16 09:35:14.813 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:35:14.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 5.6301ms
21-04-16 09:35:16.326 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:35:16.328 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:16.329 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:16.329 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:35:16.329 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:35:16.330 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:16.409 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:35:16.409 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:35:16.410 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 80.8384ms
21-04-16 09:35:16.410 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:35:16.411 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 84.7490ms
21-04-16 09:35:16.429 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:35:16.429 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:16.429 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3583ms
21-04-16 09:35:16.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:35:16.433 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:16.433 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:16.433 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:35:16.433 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:35:16.434 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:16.438 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:35:16.439 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:35:16.440 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.6251ms
21-04-16 09:35:16.440 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:35:16.443 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 10.7365ms
21-04-16 09:35:17.925 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:35:17.925 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:17.928 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 3.0463ms
21-04-16 09:35:17.930 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:35:17.931 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:17.932 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:17.933 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:35:17.933 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:35:17.934 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:17.938 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:35:17.938 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:35:17.939 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.1136ms
21-04-16 09:35:17.939 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:35:17.940 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 9.5442ms
21-04-16 09:35:20.482 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-04-16 09:35:20.485 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:20.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 3.5414ms
21-04-16 09:35:20.529 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-04-16 09:35:20.529 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:20.569 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:20.569 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:35:20.570 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:35:20.571 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:20.992 +01:00 [INF] Executed DbCommand (421ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:35:20.993 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:35:20.995 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 425.2408ms
21-04-16 09:35:20.995 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:35:20.996 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 345 application/json;+charset=utf-8 466.6485ms
21-04-16 09:35:21.017 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:35:21.017 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:21.017 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:21.018 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:35:21.018 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:35:21.019 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:21.026 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:35:21.026 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:35:21.027 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 9.2618ms
21-04-16 09:35:21.027 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:35:21.028 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 11.3734ms
21-04-16 09:35:27.646 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:35:27.650 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:27.651 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 4.9839ms
21-04-16 09:35:27.666 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:35:27.667 +01:00 [INF] CORS policy execution successful.
21-04-16 09:35:27.667 +01:00 [INF] Successfully validated the token.
21-04-16 09:35:27.668 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:35:27.668 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:35:27.669 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:35:27.685 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:35:27.686 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:35:27.686 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 17.9725ms
21-04-16 09:35:27.687 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:35:27.687 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 21.1972ms
21-04-16 09:42:21.373 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:42:21.374 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:21.374 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5589ms
21-04-16 09:42:21.383 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:42:21.383 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:21.383 +01:00 [INF] Successfully validated the token.
21-04-16 09:42:21.384 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:42:21.384 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:42:21.385 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:42:22.198 +01:00 [INF] Executed DbCommand (175ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:42:22.199 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:42:22.200 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 815.5191ms
21-04-16 09:42:22.200 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:42:22.200 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 817.8519ms
21-04-16 09:42:22.232 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:42:22.232 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:22.232 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3178ms
21-04-16 09:42:22.237 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:42:22.239 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:22.239 +01:00 [INF] Successfully validated the token.
21-04-16 09:42:22.239 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:42:22.239 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:42:22.240 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:42:22.245 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:42:22.246 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:42:22.247 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 7.1665ms
21-04-16 09:42:22.247 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:42:22.247 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 10.0393ms
21-04-16 09:42:23.863 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:42:23.864 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:23.864 +01:00 [INF] Successfully validated the token.
21-04-16 09:42:23.864 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:42:23.864 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:42:23.865 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:42:23.885 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:42:23.885 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:42:23.886 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 21.7011ms
21-04-16 09:42:23.886 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:42:23.887 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 23.5880ms
21-04-16 09:42:23.906 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 09:42:23.907 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:23.907 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3120ms
21-04-16 09:42:23.912 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:42:23.912 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:23.912 +01:00 [INF] Successfully validated the token.
21-04-16 09:42:23.912 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:42:23.913 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:42:23.913 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:42:23.931 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:42:23.931 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:42:23.934 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 21.5786ms
21-04-16 09:42:23.934 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:42:23.935 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 23.0636ms
21-04-16 09:42:51.713 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:42:51.714 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:51.714 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:42:51.717 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:42:51.718 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:42:51.775 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:42:51.775 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:42:51.776 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 58.33ms
21-04-16 09:42:51.776 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:42:51.777 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 63.0500ms
21-04-16 09:42:52.818 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 09:42:52.818 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:52.818 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4692ms
21-04-16 09:42:52.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 09:42:52.900 +01:00 [INF] CORS policy execution successful.
21-04-16 09:42:52.901 +01:00 [INF] Successfully validated the token.
21-04-16 09:42:52.901 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:42:52.901 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 09:42:52.932 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:42:52.946 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 09:42:52.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:42:52.950 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 48.9103ms
21-04-16 09:42:52.950 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 09:42:52.951 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 50.7118ms
21-04-16 09:46:40.793 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:40.794 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:40.794 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.1410ms
21-04-16 09:46:40.809 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:40.810 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:40.810 +01:00 [INF] Successfully validated the token.
21-04-16 09:46:40.810 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:46:40.810 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:46:40.811 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:46:40.842 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:46:40.842 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:46:40.843 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 32.7801ms
21-04-16 09:46:40.843 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:46:40.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 34.1728ms
21-04-16 09:46:42.621 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:46:42.621 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:42.621 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.3932ms
21-04-16 09:46:42.660 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:46:42.661 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:42.661 +01:00 [INF] Successfully validated the token.
21-04-16 09:46:42.661 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:46:42.661 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:46:42.662 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:46:42.695 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:46:42.695 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:46:42.696 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 34.3399ms
21-04-16 09:46:42.696 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:46:42.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 35.8283ms
21-04-16 09:46:42.775 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:42.775 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:42.776 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3686ms
21-04-16 09:46:42.780 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:42.781 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:42.781 +01:00 [INF] Successfully validated the token.
21-04-16 09:46:42.781 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:46:42.781 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:46:42.782 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:46:42.785 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:46:42.786 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:46:42.787 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 5.406ms
21-04-16 09:46:42.787 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:46:42.787 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 6.9022ms
21-04-16 09:46:48.850 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:48.851 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:48.851 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6002ms
21-04-16 09:46:48.856 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:48.856 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:48.856 +01:00 [INF] Successfully validated the token.
21-04-16 09:46:48.856 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:46:48.856 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:46:48.857 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:46:48.861 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:46:48.862 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:46:48.862 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 5.9098ms
21-04-16 09:46:48.862 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:46:48.863 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 7.0714ms
21-04-16 09:46:49.778 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-04-16 09:46:49.778 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:49.778 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.2832ms
21-04-16 09:46:49.785 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-04-16 09:46:49.785 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:49.786 +01:00 [INF] Successfully validated the token.
21-04-16 09:46:49.787 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:46:49.787 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:46:49.787 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:46:49.791 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:46:49.791 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:46:49.792 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 5.0589ms
21-04-16 09:46:49.792 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:46:49.792 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 345 application/json;+charset=utf-8 7.1402ms
21-04-16 09:46:49.803 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:49.804 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:49.804 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.2440ms
21-04-16 09:46:49.805 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:49.806 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:49.806 +01:00 [INF] Successfully validated the token.
21-04-16 09:46:49.806 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:46:49.806 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:46:49.806 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:46:49.809 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:46:49.809 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:46:49.810 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 3.5486ms
21-04-16 09:46:49.810 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:46:49.810 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 4.4121ms
21-04-16 09:46:55.434 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - -
21-04-16 09:46:55.435 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:55.435 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - - - 204 - - 0.7534ms
21-04-16 09:46:55.441 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/2 - -
21-04-16 09:46:55.441 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:55.441 +01:00 [INF] Successfully validated the token.
21-04-16 09:46:55.441 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 09:46:55.448 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:46:55.451 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:46:55.589 +01:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-04-16 09:46:55.597 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-04-16 09:46:55.597 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 149.403ms
21-04-16 09:46:55.598 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 09:46:55.598 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/2 - - - 200 166 application/json;+charset=utf-8 157.3732ms
21-04-16 09:46:57.876 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:57.876 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:57.876 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3679ms
21-04-16 09:46:57.883 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:46:57.883 +01:00 [INF] CORS policy execution successful.
21-04-16 09:46:57.883 +01:00 [INF] Successfully validated the token.
21-04-16 09:46:57.883 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:46:57.884 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:46:57.884 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:46:57.900 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:46:57.901 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:46:57.902 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 17.9616ms
21-04-16 09:46:57.902 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:46:57.902 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 19.4665ms
21-04-16 09:47:11.549 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:47:11.549 +01:00 [INF] CORS policy execution successful.
21-04-16 09:47:11.549 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3408ms
21-04-16 09:47:11.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:47:11.556 +01:00 [INF] CORS policy execution successful.
21-04-16 09:47:11.556 +01:00 [INF] Successfully validated the token.
21-04-16 09:47:11.556 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:47:11.556 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:47:11.557 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:47:11.595 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:47:11.595 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:47:11.598 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 41.4945ms
21-04-16 09:47:11.598 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:47:11.599 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 43.5509ms
21-04-16 09:47:12.391 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:47:12.391 +01:00 [INF] CORS policy execution successful.
21-04-16 09:47:12.391 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4714ms
21-04-16 09:47:12.399 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:47:12.399 +01:00 [INF] CORS policy execution successful.
21-04-16 09:47:12.400 +01:00 [INF] Successfully validated the token.
21-04-16 09:47:12.400 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:47:12.400 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:47:12.400 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:47:12.410 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:47:12.411 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:47:12.411 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 11.2985ms
21-04-16 09:47:12.411 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:47:12.412 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 12.5573ms
21-04-16 09:47:12.428 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:47:12.428 +01:00 [INF] CORS policy execution successful.
21-04-16 09:47:12.428 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3618ms
21-04-16 09:47:12.431 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:47:12.431 +01:00 [INF] CORS policy execution successful.
21-04-16 09:47:12.431 +01:00 [INF] Successfully validated the token.
21-04-16 09:47:12.431 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:47:12.432 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:47:12.432 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:47:12.437 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:47:12.437 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:47:12.438 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.1559ms
21-04-16 09:47:12.438 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:47:12.439 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 7.6149ms
21-04-16 09:47:37.683 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:47:37.683 +01:00 [INF] CORS policy execution successful.
21-04-16 09:47:37.684 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.9044ms
21-04-16 09:47:37.693 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:47:37.694 +01:00 [INF] CORS policy execution successful.
21-04-16 09:47:37.694 +01:00 [INF] Successfully validated the token.
21-04-16 09:47:37.694 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:47:37.694 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:47:37.695 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:47:37.708 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:47:37.709 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:47:37.710 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 15.4258ms
21-04-16 09:47:37.710 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:47:37.710 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 16.7800ms
21-04-16 09:55:36.062 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 09:55:36.062 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:36.065 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 3.1330ms
21-04-16 09:55:36.079 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 375
21-04-16 09:55:36.079 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:36.082 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 09:55:36.207 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 09:55:36.207 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 09:55:36.207 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 09:55:36.220 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:36.394 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 09:55:36.400 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 09:55:36.403 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 09:55:36.406 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 09:55:36.415 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 09:55:36.416 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 09:55:36.417 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 209.858ms
21-04-16 09:55:36.417 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 09:55:36.417 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 375 - 200 409 application/json;+charset=utf-8 338.9947ms
21-04-16 09:55:36.471 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:36.471 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:36.471 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3498ms
21-04-16 09:55:36.476 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:36.476 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:36.476 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:36.476 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:36.476 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:55:36.477 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:36.481 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:55:36.482 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:55:36.482 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 5.8062ms
21-04-16 09:55:36.482 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:36.482 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 6.6079ms
21-04-16 09:55:37.697 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:55:37.697 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:37.698 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6482ms
21-04-16 09:55:37.704 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:55:37.705 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:37.705 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:37.705 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:55:37.705 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:55:37.705 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:37.714 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:55:37.714 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:55:37.715 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 9.7589ms
21-04-16 09:55:37.715 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:55:37.715 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 10.9592ms
21-04-16 09:55:37.775 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:37.775 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:37.775 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.2984ms
21-04-16 09:55:37.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:37.781 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:37.781 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:37.782 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:55:37.782 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:55:37.782 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:37.791 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:55:37.792 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:55:37.792 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 10.3801ms
21-04-16 09:55:37.792 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:55:37.795 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 14.6397ms
21-04-16 09:55:41.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:41.249 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:41.250 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:41.250 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:41.250 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:55:41.251 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:41.254 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:55:41.256 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:55:41.256 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.5261ms
21-04-16 09:55:41.257 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:41.259 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 9.0616ms
21-04-16 09:55:42.073 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-04-16 09:55:42.073 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:42.073 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.2873ms
21-04-16 09:55:42.079 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-04-16 09:55:42.079 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:42.081 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:42.082 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:55:42.082 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:55:42.082 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:42.085 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:55:42.086 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:55:42.086 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 4.5298ms
21-04-16 09:55:42.087 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:55:42.088 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 345 application/json;+charset=utf-8 9.3644ms
21-04-16 09:55:42.104 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:42.104 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:42.104 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:42.104 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:55:42.104 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:55:42.105 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:42.106 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:55:42.107 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:55:42.107 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 3.0255ms
21-04-16 09:55:42.107 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:55:42.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 4.6609ms
21-04-16 09:55:43.384 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:43.384 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:43.384 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4751ms
21-04-16 09:55:43.387 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:43.388 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:43.390 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:43.391 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:43.391 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:55:43.391 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:43.398 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:55:43.399 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:55:43.400 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 9.207ms
21-04-16 09:55:43.400 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:43.400 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 13.1085ms
21-04-16 09:55:44.163 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - -
21-04-16 09:55:44.163 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:44.164 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - - - 204 - - 0.2840ms
21-04-16 09:55:44.170 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/4 - -
21-04-16 09:55:44.170 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:44.171 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:44.171 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:55:44.171 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:55:44.172 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:44.174 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:55:44.176 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:55:44.176 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 4.8814ms
21-04-16 09:55:44.177 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:55:44.179 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/4 - - - 200 170 application/json;+charset=utf-8 8.7837ms
21-04-16 09:55:44.188 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:44.189 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:44.189 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.2614ms
21-04-16 09:55:44.191 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:44.191 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:44.191 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:44.191 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:55:44.191 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:55:44.192 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:44.195 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:55:44.197 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:55:44.197 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 5.8395ms
21-04-16 09:55:44.197 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:55:44.198 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 6.7816ms
21-04-16 09:55:45.203 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:45.203 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:45.203 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:45.204 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:45.204 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:55:45.204 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:45.213 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:55:45.214 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:55:45.214 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 10.2161ms
21-04-16 09:55:45.214 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:45.215 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 11.8858ms
21-04-16 09:55:46.231 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:55:46.231 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:46.231 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.2833ms
21-04-16 09:55:46.233 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:55:46.234 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:46.234 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:46.234 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:55:46.234 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:55:46.234 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:46.239 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:55:46.241 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:55:46.241 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 7.0845ms
21-04-16 09:55:46.241 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:55:46.242 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 8.2291ms
21-04-16 09:55:46.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:46.260 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:46.261 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:46.261 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:55:46.261 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:55:46.261 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:46.265 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:55:46.266 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:55:46.266 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 5.6883ms
21-04-16 09:55:46.267 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:55:46.267 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 6.6983ms
21-04-16 09:55:51.355 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:51.355 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:51.355 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.9559ms
21-04-16 09:55:51.370 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:55:51.371 +01:00 [INF] CORS policy execution successful.
21-04-16 09:55:51.371 +01:00 [INF] Successfully validated the token.
21-04-16 09:55:51.371 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:51.371 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:55:51.372 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:55:51.386 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:55:51.386 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:55:51.387 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 15.2848ms
21-04-16 09:55:51.387 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:55:51.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 16.8180ms
21-04-16 09:57:57.665 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:57:57.665 +01:00 [INF] CORS policy execution successful.
21-04-16 09:57:57.671 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 5.9484ms
21-04-16 09:57:57.671 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:57:57.671 +01:00 [INF] CORS policy execution successful.
21-04-16 09:57:57.671 +01:00 [INF] Successfully validated the token.
21-04-16 09:57:57.671 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:57:57.672 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:57:57.675 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:57:57.685 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:57:57.691 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:57:57.692 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 19.9382ms
21-04-16 09:57:57.692 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:57:57.692 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 21.0706ms
21-04-16 09:57:58.593 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 09:57:58.594 +01:00 [INF] CORS policy execution successful.
21-04-16 09:57:58.595 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.1404ms
21-04-16 09:57:58.607 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 09:57:58.607 +01:00 [INF] CORS policy execution successful.
21-04-16 09:57:58.607 +01:00 [INF] Successfully validated the token.
21-04-16 09:57:58.608 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:57:58.608 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:57:58.608 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:57:58.627 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 09:57:58.628 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 09:57:58.630 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 22.0457ms
21-04-16 09:57:58.630 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 09:57:58.630 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 23.3731ms
21-04-16 09:57:58.682 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:57:58.682 +01:00 [INF] CORS policy execution successful.
21-04-16 09:57:58.683 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4008ms
21-04-16 09:57:58.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:57:58.686 +01:00 [INF] CORS policy execution successful.
21-04-16 09:57:58.686 +01:00 [INF] Successfully validated the token.
21-04-16 09:57:58.686 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:57:58.686 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:57:58.687 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:57:58.689 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:57:58.691 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:57:58.691 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 5.1085ms
21-04-16 09:57:58.691 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:57:58.692 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 5.9705ms
21-04-16 09:58:04.527 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - -
21-04-16 09:58:04.527 +01:00 [INF] CORS policy execution successful.
21-04-16 09:58:04.527 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - - - 204 - - 0.5063ms
21-04-16 09:58:04.533 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/2 - -
21-04-16 09:58:04.533 +01:00 [INF] CORS policy execution successful.
21-04-16 09:58:04.533 +01:00 [INF] Successfully validated the token.
21-04-16 09:58:04.533 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 09:58:04.533 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:58:04.537 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:58:04.548 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-04-16 09:58:04.548 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-04-16 09:58:04.548 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 15.2108ms
21-04-16 09:58:04.548 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 09:58:04.549 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/2 - - - 200 166 application/json;+charset=utf-8 16.2094ms
21-04-16 09:58:08.023 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:58:08.023 +01:00 [INF] CORS policy execution successful.
21-04-16 09:58:08.023 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5313ms
21-04-16 09:58:08.025 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:58:08.026 +01:00 [INF] CORS policy execution successful.
21-04-16 09:58:08.026 +01:00 [INF] Successfully validated the token.
21-04-16 09:58:08.026 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:58:08.026 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 09:58:08.027 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:58:08.028 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 09:58:08.030 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:58:08.030 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 4.1949ms
21-04-16 09:58:08.030 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 09:58:08.031 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 5.3810ms
21-04-16 09:58:10.166 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:58:10.166 +01:00 [INF] CORS policy execution successful.
21-04-16 09:58:10.166 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4728ms
21-04-16 09:58:10.170 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 09:58:10.170 +01:00 [INF] CORS policy execution successful.
21-04-16 09:58:10.171 +01:00 [INF] Successfully validated the token.
21-04-16 09:58:10.171 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:58:10.171 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 09:58:10.171 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 09:58:10.177 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 09:58:10.178 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 09:58:10.179 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 7.8682ms
21-04-16 09:58:10.179 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 09:58:10.179 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 9.2247ms
21-04-16 10:07:41.723 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 10:07:41.724 +01:00 [INF] CORS policy execution successful.
21-04-16 10:07:41.724 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.0669ms
21-04-16 10:07:41.736 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 10:07:41.738 +01:00 [INF] CORS policy execution successful.
21-04-16 10:07:41.738 +01:00 [INF] Successfully validated the token.
21-04-16 10:07:41.739 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 10:07:41.739 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 10:07:41.741 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 10:07:41.949 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 10:07:41.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 10:07:41.950 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 211.0263ms
21-04-16 10:07:41.950 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 10:07:41.951 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 214.4266ms
21-04-16 10:07:41.971 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 10:07:41.972 +01:00 [INF] CORS policy execution successful.
21-04-16 10:07:41.973 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 2.2092ms
21-04-16 10:07:41.981 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 10:07:41.981 +01:00 [INF] CORS policy execution successful.
21-04-16 10:07:41.981 +01:00 [INF] Successfully validated the token.
21-04-16 10:07:41.982 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 10:07:41.982 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 10:07:41.982 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 10:07:42.000 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 10:07:42.001 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 10:07:42.002 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 20.0103ms
21-04-16 10:07:42.002 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 10:07:42.002 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 21.2265ms
21-04-16 10:07:49.084 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 10:07:49.084 +01:00 [INF] CORS policy execution successful.
21-04-16 10:07:49.086 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.9545ms
21-04-16 10:07:49.092 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 10:07:49.093 +01:00 [INF] CORS policy execution successful.
21-04-16 10:07:49.093 +01:00 [INF] Successfully validated the token.
21-04-16 10:07:49.093 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 10:07:49.093 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 10:07:49.094 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 10:07:49.121 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 10:07:49.121 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 10:07:49.122 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 28.5248ms
21-04-16 10:07:49.122 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 10:07:49.122 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 29.9407ms
21-04-16 10:07:55.994 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 10:07:55.994 +01:00 [INF] CORS policy execution successful.
21-04-16 10:07:55.995 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4222ms
21-04-16 10:07:55.997 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 10:07:55.997 +01:00 [INF] CORS policy execution successful.
21-04-16 10:07:55.998 +01:00 [INF] Successfully validated the token.
21-04-16 10:07:55.998 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 10:07:55.998 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 10:07:55.998 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 10:07:56.001 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 10:07:56.001 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 10:07:56.002 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 3.9455ms
21-04-16 10:07:56.002 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 10:07:56.002 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 5.0471ms
21-04-16 11:20:12.644 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 11:20:12.650 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:12.664 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 11.7312ms
21-04-16 11:20:12.711 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-04-16 11:20:12.711 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:12.731 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 11:20:12.737 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 11:20:12.738 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 11:20:12.739 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 11:20:12.798 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:13.464 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 11:20:13.494 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 11:20:13.502 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 11:20:13.512 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 11:20:13.536 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 11:20:13.538 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 11:20:13.540 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 800.9004ms
21-04-16 11:20:13.541 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 11:20:13.541 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 829.9353ms
21-04-16 11:20:13.646 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:13.646 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:13.646 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3343ms
21-04-16 11:20:13.655 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:13.656 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:13.656 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:13.656 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:13.656 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:20:13.658 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:13.678 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 11:20:13.680 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:20:13.681 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 24.1231ms
21-04-16 11:20:13.681 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:13.681 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 26.0049ms
21-04-16 11:20:20.494 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 11:20:20.494 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:20.494 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5289ms
21-04-16 11:20:20.498 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:20:20.498 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:20.499 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:20.499 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:20:20.499 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:20:20.499 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:20.520 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:20:20.521 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:20:20.533 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 34.3262ms
21-04-16 11:20:20.533 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:20:20.536 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 37.4024ms
21-04-16 11:20:20.604 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:20.604 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:20.604 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3469ms
21-04-16 11:20:20.608 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:20.609 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:20.609 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:20.609 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:20:20.609 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:20:20.611 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:20.616 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:20:20.616 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:20:20.617 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 7.4418ms
21-04-16 11:20:20.617 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:20:20.617 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 8.8900ms
21-04-16 11:20:22.840 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:22.841 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:22.841 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3634ms
21-04-16 11:20:22.846 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:22.849 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:22.849 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:22.849 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:22.850 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:20:22.851 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:22.855 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 11:20:22.855 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:20:22.856 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 5.527ms
21-04-16 11:20:22.856 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:22.856 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 10.1471ms
21-04-16 11:20:23.701 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-04-16 11:20:23.701 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:23.702 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 1.2168ms
21-04-16 11:20:23.708 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-04-16 11:20:23.711 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:23.711 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:23.711 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:20:23.711 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:20:23.712 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:23.720 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:20:23.720 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:20:23.721 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 9.4489ms
21-04-16 11:20:23.721 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:20:23.721 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 345 application/json;+charset=utf-8 12.9156ms
21-04-16 11:20:23.736 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:23.737 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:23.738 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:23.738 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:20:23.738 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:20:23.738 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:23.742 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:20:23.743 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:20:23.743 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 5.574ms
21-04-16 11:20:23.744 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:20:23.744 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 7.3920ms
21-04-16 11:20:27.554 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:27.556 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:27.557 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:27.557 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:27.557 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:20:27.559 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:27.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 11:20:27.562 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:20:27.563 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 5.5992ms
21-04-16 11:20:27.563 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:27.563 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 8.8649ms
21-04-16 11:20:52.754 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - -
21-04-16 11:20:52.755 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:52.764 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - - - 204 - - 1.7681ms
21-04-16 11:20:52.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/4 - -
21-04-16 11:20:52.781 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:52.781 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:52.782 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:20:52.782 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:20:52.791 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:52.802 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:20:52.803 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:20:52.806 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 22.6ms
21-04-16 11:20:52.806 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:20:52.810 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/4 - - - 200 170 application/json;+charset=utf-8 29.2810ms
21-04-16 11:20:52.828 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:52.829 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:52.829 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5189ms
21-04-16 11:20:52.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:52.834 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:52.834 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:52.834 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:20:52.835 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:20:52.836 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:52.838 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:20:52.840 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:20:52.841 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.1209ms
21-04-16 11:20:52.841 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:20:52.847 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 7.8066ms
21-04-16 11:20:54.208 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:54.209 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:54.215 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 4.4041ms
21-04-16 11:20:54.217 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:54.217 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:54.218 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:54.218 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:54.218 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:20:54.219 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:54.223 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 11:20:54.225 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:20:54.226 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 7.768ms
21-04-16 11:20:54.226 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:54.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 9.5398ms
21-04-16 11:20:55.442 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-04-16 11:20:55.442 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:55.442 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.7852ms
21-04-16 11:20:55.449 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-04-16 11:20:55.449 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:55.449 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:55.450 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:20:55.450 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:20:55.452 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:55.454 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:20:55.462 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:20:55.463 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 12.6466ms
21-04-16 11:20:55.463 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:20:55.463 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 345 application/json;+charset=utf-8 14.8281ms
21-04-16 11:20:55.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:55.483 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:55.483 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:55.483 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:20:55.483 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:20:55.484 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:55.485 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:20:55.486 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:20:55.487 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 3.7336ms
21-04-16 11:20:55.487 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:20:55.488 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 5.5204ms
21-04-16 11:20:57.143 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:20:57.144 +01:00 [INF] CORS policy execution successful.
21-04-16 11:20:57.144 +01:00 [INF] Successfully validated the token.
21-04-16 11:20:57.144 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:57.144 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:20:57.146 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:20:57.153 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 11:20:57.154 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:20:57.158 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 13.0737ms
21-04-16 11:20:57.158 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:20:57.158 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 15.2224ms
21-04-16 11:21:30.703 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-04-16 11:21:30.703 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:30.704 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.5244ms
21-04-16 11:21:30.710 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-04-16 11:21:30.712 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:30.719 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:30.720 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:30.720 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:21:30.721 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:30.729 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:21:30.730 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:21:30.731 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 11.4885ms
21-04-16 11:21:30.731 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:30.732 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 345 application/json;+charset=utf-8 21.4564ms
21-04-16 11:21:30.756 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:30.756 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:30.756 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4017ms
21-04-16 11:21:30.759 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:30.759 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:30.760 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:30.760 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:21:30.760 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:21:30.762 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:30.765 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:21:30.766 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:21:30.766 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.2403ms
21-04-16 11:21:30.767 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:21:30.767 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 8.1657ms
21-04-16 11:21:32.638 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/4 - -
21-04-16 11:21:32.638 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:32.638 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/4 - - - 204 - - 0.7440ms
21-04-16 11:21:32.644 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/4 - -
21-04-16 11:21:32.644 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:32.646 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:32.646 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 11:21:32.646 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:21:32.647 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:32.658 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-04-16 11:21:32.659 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-04-16 11:21:32.659 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 13.1381ms
21-04-16 11:21:32.660 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 11:21:32.664 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/4 - - - 200 165 application/json;+charset=utf-8 20.6513ms
21-04-16 11:21:35.093 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:35.093 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:35.094 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.7186ms
21-04-16 11:21:35.106 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:35.106 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:35.107 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:35.107 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:21:35.107 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:21:35.108 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:35.110 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 11:21:35.112 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:21:35.112 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 5.1638ms
21-04-16 11:21:35.112 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:21:35.113 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 6.7172ms
21-04-16 11:21:37.967 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - -
21-04-16 11:21:37.967 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:37.968 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - - - 204 - - 1.3896ms
21-04-16 11:21:37.972 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/4 - -
21-04-16 11:21:37.972 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:37.973 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:37.973 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:37.973 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:21:37.974 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:37.978 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:21:37.980 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:21:37.982 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 8.8142ms
21-04-16 11:21:37.982 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:37.983 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/4 - - - 200 170 application/json;+charset=utf-8 10.4360ms
21-04-16 11:21:38.011 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:38.013 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:38.013 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 2.6139ms
21-04-16 11:21:38.023 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:38.023 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:38.024 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:38.024 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:21:38.024 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:21:38.025 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:38.031 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:21:38.032 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:21:38.034 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 9.5916ms
21-04-16 11:21:38.034 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:21:38.035 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 11.8365ms
21-04-16 11:21:40.723 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:40.723 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:40.724 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5067ms
21-04-16 11:21:40.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:40.730 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:40.731 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:40.732 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:21:40.732 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:21:40.733 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:40.735 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 11:21:40.737 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:21:40.737 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 4.8004ms
21-04-16 11:21:40.737 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:21:40.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 7.7606ms
21-04-16 11:21:41.732 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 11:21:41.732 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:41.732 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4808ms
21-04-16 11:21:41.741 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:21:41.741 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:41.742 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:41.742 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:41.742 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:21:41.744 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:41.747 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:21:41.749 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:21:41.749 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 7.4079ms
21-04-16 11:21:41.750 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:41.750 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 8.8136ms
21-04-16 11:21:41.768 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:41.768 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:41.768 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:41.769 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:21:41.769 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:21:41.770 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:41.778 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:21:41.779 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:21:41.779 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 10.1915ms
21-04-16 11:21:41.779 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:21:41.780 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 12.1439ms
21-04-16 11:21:46.012 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:21:46.013 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:46.013 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:46.013 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:46.014 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:21:46.014 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:46.037 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:21:46.039 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:21:46.042 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 28.4252ms
21-04-16 11:21:46.042 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:46.044 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 31.9370ms
21-04-16 11:21:46.165 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 11:21:46.166 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:46.167 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 2.4090ms
21-04-16 11:21:46.179 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 11:21:46.179 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:46.181 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:46.182 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 11:21:46.183 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 11:21:46.184 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:46.189 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 11:21:46.190 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:21:46.190 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 7.565ms
21-04-16 11:21:46.191 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 11:21:46.191 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 12.1183ms
21-04-16 11:21:51.268 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 11:21:51.268 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:51.271 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 3.2888ms
21-04-16 11:21:51.276 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:21:51.277 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:51.277 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:51.277 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:51.277 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:21:51.278 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:51.282 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:21:51.283 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:21:51.283 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 5.942ms
21-04-16 11:21:51.284 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:21:51.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 7.3914ms
21-04-16 11:21:51.312 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:51.312 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:51.312 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3362ms
21-04-16 11:21:51.316 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:21:51.316 +01:00 [INF] CORS policy execution successful.
21-04-16 11:21:51.317 +01:00 [INF] Successfully validated the token.
21-04-16 11:21:51.317 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:21:51.318 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:21:51.320 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:21:51.330 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:21:51.331 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:21:51.331 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 13.3144ms
21-04-16 11:21:51.331 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:21:51.332 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 16.1568ms
21-04-16 11:50:27.402 +01:00 [INF] Application Is Starting
21-04-16 11:50:30.717 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-04-16 11:50:31.388 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-04-16 11:50:31.388 +01:00 [INF] Hosting environment: Development
21-04-16 11:50:31.391 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-04-16 11:50:31.458 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-04-16 11:50:31.827 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 370.7247ms
21-04-16 11:50:32.868 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 11:50:33.234 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 366.2669ms
21-04-16 11:51:29.614 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 11:51:29.636 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:29.639 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 25.1166ms
21-04-16 11:51:29.643 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370
21-04-16 11:51:29.644 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:30.330 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 11:51:30.474 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 11:51:30.490 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 11:51:30.584 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 11:51:33.202 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:35.390 +01:00 [INF] Executed DbCommand (192ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 11:51:35.984 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 11:51:36.151 +01:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 11:51:36.243 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 11:51:36.562 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 11:51:36.621 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 11:51:36.751 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 6155.7178ms
21-04-16 11:51:36.767 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 11:51:36.786 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370 - 200 409 application/json;+charset=utf-8 7142.5419ms
21-04-16 11:51:36.829 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:36.830 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:36.830 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.9724ms
21-04-16 11:51:36.833 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:36.834 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:36.837 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:36.840 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:51:36.860 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:51:37.559 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:37.603 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 11:51:37.753 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:51:37.791 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 931.2162ms
21-04-16 11:51:37.791 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:51:37.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 959.7817ms
21-04-16 11:51:39.224 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 11:51:39.224 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:39.225 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6495ms
21-04-16 11:51:39.245 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:51:39.246 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:39.253 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:39.254 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:39.263 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:51:39.279 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:39.533 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:51:39.592 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:51:39.598 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 335.3613ms
21-04-16 11:51:39.598 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:39.599 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 353.3295ms
21-04-16 11:51:39.723 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:39.723 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:39.723 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6616ms
21-04-16 11:51:39.740 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:39.740 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:39.741 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:39.742 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:51:39.748 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:51:39.755 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:39.773 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:51:39.824 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:51:39.825 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 76.3549ms
21-04-16 11:51:39.825 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:51:39.825 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 85.1764ms
21-04-16 11:51:46.830 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - -
21-04-16 11:51:46.831 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:46.831 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - - - 204 - - 0.4964ms
21-04-16 11:51:46.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/2 - -
21-04-16 11:51:46.834 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:46.835 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:46.835 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 11:51:46.846 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:51:46.849 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:46.960 +01:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-04-16 11:51:46.967 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-04-16 11:51:46.968 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 121.999ms
21-04-16 11:51:46.969 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 11:51:46.969 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/2 - - - 200 166 application/json;+charset=utf-8 134.8481ms
21-04-16 11:51:51.561 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:51.561 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:51.561 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5438ms
21-04-16 11:51:51.566 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:51.566 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:51.566 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:51.567 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:51:51.567 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:51:51.568 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:51.572 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 11:51:51.573 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:51:51.575 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 7.8745ms
21-04-16 11:51:51.576 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 11:51:51.577 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 11.4584ms
21-04-16 11:51:53.238 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 11:51:53.238 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:53.238 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4201ms
21-04-16 11:51:53.243 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:51:53.243 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:53.243 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:53.243 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:53.244 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:51:53.245 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:53.251 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:51:53.252 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:51:53.253 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 8.5584ms
21-04-16 11:51:53.253 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:53.253 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 10.5053ms
21-04-16 11:51:53.269 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:53.269 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:53.269 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4294ms
21-04-16 11:51:53.272 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:53.272 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:53.272 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:53.273 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:51:53.273 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:51:53.274 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:53.281 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:51:53.283 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:51:53.284 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 10.8546ms
21-04-16 11:51:53.284 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:51:53.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 12.4546ms
21-04-16 11:51:56.567 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:51:56.567 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:56.567 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:56.568 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:56.568 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:51:56.568 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:56.577 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:51:56.578 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:51:56.579 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 10.7142ms
21-04-16 11:51:56.579 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:56.588 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 21.4486ms
21-04-16 11:51:56.842 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 11:51:56.842 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:56.843 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 1.8642ms
21-04-16 11:51:56.863 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 11:51:56.863 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:56.863 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:56.863 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 11:51:56.870 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 11:51:56.873 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:56.912 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 11:51:56.922 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:51:56.927 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 56.318ms
21-04-16 11:51:56.927 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 11:51:56.927 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 64.5150ms
21-04-16 11:51:56.986 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-04-16 11:51:56.986 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:56.986 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5241ms
21-04-16 11:51:56.990 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-04-16 11:51:56.991 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:56.991 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:57.003 +01:00 [INF] Authorization was successful.
21-04-16 11:51:57.005 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 11:51:57.012 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-04-16 11:51:57.015 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:57.024 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-04-16 11:51:57.034 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:51:57.039 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 26.8681ms
21-04-16 11:51:57.039 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 11:51:57.040 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 24 application/json;+charset=utf-8 49.9414ms
21-04-16 11:51:58.510 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 11:51:58.511 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:58.511 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4503ms
21-04-16 11:51:58.518 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:51:58.519 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:58.519 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:58.519 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:58.519 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:51:58.520 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:58.526 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:51:58.527 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:51:58.529 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 9.3389ms
21-04-16 11:51:58.529 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:58.529 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 10.9165ms
21-04-16 11:51:58.548 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:58.548 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:58.548 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.2549ms
21-04-16 11:51:58.552 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:51:58.552 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:58.552 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:58.552 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:51:58.552 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:51:58.553 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:58.555 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:51:58.556 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:51:58.556 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 4.2279ms
21-04-16 11:51:58.557 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:51:58.557 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 5.6334ms
21-04-16 11:51:59.344 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:51:59.345 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:59.345 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:59.345 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:59.345 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:51:59.346 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:59.371 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:51:59.372 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:51:59.374 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 28.2974ms
21-04-16 11:51:59.374 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:51:59.375 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 30.3173ms
21-04-16 11:51:59.402 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 11:51:59.403 +01:00 [INF] CORS policy execution successful.
21-04-16 11:51:59.403 +01:00 [INF] Successfully validated the token.
21-04-16 11:51:59.404 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 11:51:59.404 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 11:51:59.405 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:51:59.444 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 11:51:59.445 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:51:59.450 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 45.2161ms
21-04-16 11:51:59.451 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 11:51:59.452 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 49.2899ms
21-04-16 11:52:00.888 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 11:52:00.888 +01:00 [INF] CORS policy execution successful.
21-04-16 11:52:00.889 +01:00 [INF] Successfully validated the token.
21-04-16 11:52:00.889 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:52:00.889 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 11:52:00.890 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:52:01.241 +01:00 [INF] Executed DbCommand (351ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 11:52:01.242 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 11:52:01.273 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 384.0986ms
21-04-16 11:52:01.273 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 11:52:01.274 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 385.8573ms
21-04-16 11:52:01.369 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 11:52:01.370 +01:00 [INF] CORS policy execution successful.
21-04-16 11:52:01.370 +01:00 [INF] Successfully validated the token.
21-04-16 11:52:01.370 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:52:01.370 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 11:52:01.372 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 11:52:01.449 +01:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 11:52:01.450 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 11:52:01.458 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 86.5563ms
21-04-16 11:52:01.458 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 11:52:01.459 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 89.4982ms
21-04-16 12:15:36.527 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - -
21-04-16 12:15:36.538 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:36.539 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - - - 204 - - 16.2552ms
21-04-16 12:15:36.561 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/2 - -
21-04-16 12:15:36.561 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:36.565 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 12:15:36.566 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 12:15:36.566 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 12:15:36.567 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 12:15:36.582 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:15:37.923 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 12:15:37.923 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:37.923 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 0.4579ms
21-04-16 12:15:37.941 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-04-16 12:15:37.941 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:37.969 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 12:15:37.970 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 12:15:37.971 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 12:15:37.971 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 12:15:37.976 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:15:37.997 +01:00 [INF] Executed DbCommand (194ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-04-16 12:15:38.004 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-04-16 12:15:38.014 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 1446.8065ms
21-04-16 12:15:38.014 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 12:15:38.017 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/2 - - - 200 166 application/json;+charset=utf-8 1455.6245ms
21-04-16 12:15:38.084 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 12:15:38.173 +01:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 12:15:38.244 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 12:15:38.263 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 12:15:38.303 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 12:15:38.313 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 12:15:38.314 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 342.8226ms
21-04-16 12:15:38.314 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 12:15:38.314 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 373.4292ms
21-04-16 12:15:38.364 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:15:38.364 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:38.364 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4876ms
21-04-16 12:15:38.373 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:15:38.373 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:38.374 +01:00 [INF] Successfully validated the token.
21-04-16 12:15:38.374 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 12:15:38.374 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 12:15:38.375 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:15:38.382 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 12:15:38.383 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 12:15:38.386 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 11.9659ms
21-04-16 12:15:38.386 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 12:15:38.388 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 14.7199ms
21-04-16 12:15:40.164 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-04-16 12:15:40.164 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:40.178 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 13.9966ms
21-04-16 12:15:40.203 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-04-16 12:15:40.203 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:40.204 +01:00 [INF] Successfully validated the token.
21-04-16 12:15:40.204 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 12:15:40.204 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 12:15:40.205 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:15:40.226 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 12:15:40.227 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 12:15:40.228 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 24.0443ms
21-04-16 12:15:40.228 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 12:15:40.229 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 345 application/json;+charset=utf-8 25.8089ms
21-04-16 12:15:40.258 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:15:40.258 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:40.259 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3353ms
21-04-16 12:15:40.263 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:15:40.264 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:40.264 +01:00 [INF] Successfully validated the token.
21-04-16 12:15:40.264 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 12:15:40.264 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 12:15:40.265 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:15:40.270 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 12:15:40.271 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 12:15:40.272 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 7.4756ms
21-04-16 12:15:40.272 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 12:15:40.274 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 10.4692ms
21-04-16 12:15:53.607 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:15:53.608 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:53.609 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.9185ms
21-04-16 12:15:53.615 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:15:53.615 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:53.616 +01:00 [INF] Successfully validated the token.
21-04-16 12:15:53.616 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 12:15:53.616 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 12:15:53.618 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:15:53.628 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 12:15:53.629 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 12:15:53.630 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 13.7725ms
21-04-16 12:15:53.630 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 12:15:53.631 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 15.6421ms
21-04-16 12:15:55.733 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - -
21-04-16 12:15:55.733 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:55.733 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/4 - - - 204 - - 0.3453ms
21-04-16 12:15:55.759 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/4 - -
21-04-16 12:15:55.759 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:55.760 +01:00 [INF] Successfully validated the token.
21-04-16 12:15:55.760 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 12:15:55.760 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 12:15:55.761 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:15:55.788 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 12:15:55.789 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 12:15:55.790 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 29.7387ms
21-04-16 12:15:55.790 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 12:15:55.791 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/4 - - - 200 170 application/json;+charset=utf-8 31.3033ms
21-04-16 12:15:55.815 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:15:55.815 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:55.815 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4628ms
21-04-16 12:15:55.819 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:15:55.819 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:55.820 +01:00 [INF] Successfully validated the token.
21-04-16 12:15:55.820 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 12:15:55.820 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 12:15:55.821 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:15:55.840 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 12:15:55.841 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 12:15:55.842 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 21.9848ms
21-04-16 12:15:55.844 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 12:15:55.845 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 25.3460ms
21-04-16 12:15:57.440 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:15:57.441 +01:00 [INF] CORS policy execution successful.
21-04-16 12:15:57.441 +01:00 [INF] Successfully validated the token.
21-04-16 12:15:57.442 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 12:15:57.442 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 12:15:57.443 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:15:57.450 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 12:15:57.451 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 12:15:57.452 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 9.8921ms
21-04-16 12:15:57.452 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 12:15:57.452 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 11.9921ms
21-04-16 12:22:26.932 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 12:22:26.932 +01:00 [INF] CORS policy execution successful.
21-04-16 12:22:26.933 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.2037ms
21-04-16 12:22:26.941 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 12:22:26.942 +01:00 [INF] CORS policy execution successful.
21-04-16 12:22:26.942 +01:00 [INF] Successfully validated the token.
21-04-16 12:22:26.943 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 12:22:26.943 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 12:22:26.944 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:22:26.974 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 12:22:26.975 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 12:22:26.980 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 37.191ms
21-04-16 12:22:26.981 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 12:22:26.982 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 40.9448ms
21-04-16 12:22:27.001 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:22:27.002 +01:00 [INF] CORS policy execution successful.
21-04-16 12:22:27.002 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4250ms
21-04-16 12:22:27.006 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:22:27.006 +01:00 [INF] CORS policy execution successful.
21-04-16 12:22:27.007 +01:00 [INF] Successfully validated the token.
21-04-16 12:22:27.007 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 12:22:27.007 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 12:22:27.008 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:22:27.012 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 12:22:27.014 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 12:22:27.014 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 7.3696ms
21-04-16 12:22:27.014 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 12:22:27.015 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 8.6897ms
21-04-16 12:24:05.613 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-04-16 12:24:05.620 +01:00 [INF] CORS policy execution successful.
21-04-16 12:24:05.620 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 7.4241ms
21-04-16 12:24:05.640 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-04-16 12:24:05.640 +01:00 [INF] CORS policy execution successful.
21-04-16 12:24:05.641 +01:00 [INF] Successfully validated the token.
21-04-16 12:24:05.642 +01:00 [INF] Authorization was successful.
21-04-16 12:24:05.643 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 12:24:05.643 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-04-16 12:24:05.643 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:24:05.664 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-04-16 12:24:05.666 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 12:24:05.674 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 31.6005ms
21-04-16 12:24:05.675 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 12:24:05.675 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 24 application/json;+charset=utf-8 35.5607ms
21-04-16 12:24:13.532 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:24:13.532 +01:00 [INF] CORS policy execution successful.
21-04-16 12:24:13.533 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5980ms
21-04-16 12:24:13.543 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 12:24:13.543 +01:00 [INF] CORS policy execution successful.
21-04-16 12:24:13.544 +01:00 [INF] Successfully validated the token.
21-04-16 12:24:13.544 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 12:24:13.544 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 12:24:13.545 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 12:24:13.549 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 12:24:13.555 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 12:24:13.556 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 12.4517ms
21-04-16 12:24:13.557 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 12:24:13.557 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 13.9522ms
21-04-16 12:24:16.212 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 12:24:16.270 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 58.5094ms
21-04-16 13:10:43.278 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 13:10:43.282 +01:00 [INF] CORS policy execution successful.
21-04-16 13:10:43.284 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 30.1360ms
21-04-16 13:10:43.288 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370
21-04-16 13:10:43.288 +01:00 [INF] CORS policy execution successful.
21-04-16 13:10:43.296 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 13:10:43.298 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 13:10:43.299 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 13:10:43.300 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 13:10:43.333 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 13:10:43.552 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 13:10:43.562 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 13:10:43.564 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 13:10:43.575 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 13:10:43.591 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 13:10:43.594 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 13:10:43.596 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 294.9808ms
21-04-16 13:10:43.596 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 13:10:43.599 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370 - 200 409 application/json;+charset=utf-8 311.2317ms
21-04-16 13:10:43.620 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-04-16 13:10:43.620 +01:00 [INF] CORS policy execution successful.
21-04-16 13:10:43.621 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.3854ms
21-04-16 13:10:43.626 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-04-16 13:10:43.627 +01:00 [INF] CORS policy execution successful.
21-04-16 13:10:43.627 +01:00 [INF] Successfully validated the token.
21-04-16 13:10:43.628 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 13:10:43.628 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 13:10:43.629 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 13:10:43.643 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 13:10:43.644 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 13:10:43.645 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 16.9208ms
21-04-16 13:10:43.645 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 13:10:43.645 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 345 application/json;+charset=utf-8 19.3740ms
21-04-16 13:10:43.664 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 13:10:43.664 +01:00 [INF] CORS policy execution successful.
21-04-16 13:10:43.664 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3421ms
21-04-16 13:10:43.668 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 13:10:43.669 +01:00 [INF] CORS policy execution successful.
21-04-16 13:10:43.669 +01:00 [INF] Successfully validated the token.
21-04-16 13:10:43.669 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 13:10:43.670 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 13:10:43.670 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 13:10:43.675 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 13:10:43.678 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 13:10:43.678 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 8.7426ms
21-04-16 13:10:43.678 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 13:10:43.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 10.6914ms
21-04-16 13:10:46.410 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 13:10:46.410 +01:00 [INF] CORS policy execution successful.
21-04-16 13:10:46.411 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.1645ms
21-04-16 13:10:46.417 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 13:10:46.417 +01:00 [INF] CORS policy execution successful.
21-04-16 13:10:46.417 +01:00 [INF] Successfully validated the token.
21-04-16 13:10:46.417 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 13:10:46.418 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 13:10:46.419 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 13:10:46.426 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 13:10:46.426 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 13:10:46.429 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 10.9678ms
21-04-16 13:10:46.429 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 13:10:46.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 12.7119ms
21-04-16 14:33:41.128 +01:00 [INF] Application Is Starting
21-04-16 14:33:44.817 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-04-16 14:33:45.428 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-04-16 14:33:45.429 +01:00 [INF] Hosting environment: Development
21-04-16 14:33:45.429 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-04-16 14:33:45.580 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-04-16 14:33:45.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 364.3783ms
21-04-16 14:33:46.299 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 14:33:46.707 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 408.9245ms
21-04-16 14:35:29.157 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 14:35:29.183 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:29.188 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 31.0439ms
21-04-16 14:35:29.195 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370
21-04-16 14:35:29.195 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:30.288 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 14:35:30.727 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 14:35:30.743 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 14:35:30.852 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 14:35:34.597 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:35:38.501 +01:00 [INF] Executed DbCommand (379ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 14:35:39.235 +01:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 14:35:39.340 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 14:35:39.386 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 14:35:40.129 +01:00 [INF] Executed DbCommand (338ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 14:35:40.214 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 14:35:40.402 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 9539.2313ms
21-04-16 14:35:40.404 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 14:35:40.431 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370 - 200 409 application/json;+charset=utf-8 11236.3636ms
21-04-16 14:35:40.498 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:35:40.501 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:40.502 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 3.9844ms
21-04-16 14:35:40.507 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:35:40.508 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:40.521 +01:00 [INF] Successfully validated the token.
21-04-16 14:35:40.524 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:35:40.555 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:35:41.297 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:35:41.348 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 14:35:41.569 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:35:41.617 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 1062.0217ms
21-04-16 14:35:41.619 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:35:41.626 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 1118.1572ms
21-04-16 14:35:44.871 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 14:35:44.887 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:44.888 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 17.4719ms
21-04-16 14:35:44.934 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:35:44.935 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:44.944 +01:00 [INF] Successfully validated the token.
21-04-16 14:35:44.945 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:35:44.952 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:35:44.981 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:35:45.282 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:35:45.346 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:35:45.354 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 401.7032ms
21-04-16 14:35:45.354 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:35:45.355 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 420.0938ms
21-04-16 14:35:45.457 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:35:45.458 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:45.458 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6631ms
21-04-16 14:35:45.463 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:35:45.463 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:45.464 +01:00 [INF] Successfully validated the token.
21-04-16 14:35:45.464 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:35:45.474 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:35:45.482 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:35:45.534 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 14:35:45.594 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:35:45.594 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 120.1441ms
21-04-16 14:35:45.595 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:35:45.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 131.8121ms
21-04-16 14:35:54.867 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:35:54.868 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:54.868 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6915ms
21-04-16 14:35:54.871 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:35:54.871 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:54.872 +01:00 [INF] Successfully validated the token.
21-04-16 14:35:54.872 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:35:54.872 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:35:54.873 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:35:54.891 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 14:35:54.894 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:35:54.897 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 25.0027ms
21-04-16 14:35:54.898 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:35:54.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 27.1009ms
21-04-16 14:35:55.784 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-04-16 14:35:55.785 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:55.785 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 0.6493ms
21-04-16 14:35:55.802 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-04-16 14:35:55.803 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:55.803 +01:00 [INF] Successfully validated the token.
21-04-16 14:35:55.804 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:35:55.804 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:35:55.805 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:35:55.861 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:35:55.862 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:35:55.865 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 61.3928ms
21-04-16 14:35:55.867 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:35:55.869 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 345 application/json;+charset=utf-8 67.0526ms
21-04-16 14:35:55.895 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:35:55.895 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:55.895 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6365ms
21-04-16 14:35:55.904 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:35:55.905 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:55.905 +01:00 [INF] Successfully validated the token.
21-04-16 14:35:55.906 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:35:55.906 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:35:55.908 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:35:55.922 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 14:35:55.924 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:35:55.924 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 17.5896ms
21-04-16 14:35:55.924 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:35:55.925 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 20.3499ms
21-04-16 14:35:57.400 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:35:57.400 +01:00 [INF] CORS policy execution successful.
21-04-16 14:35:57.402 +01:00 [INF] Successfully validated the token.
21-04-16 14:35:57.402 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:35:57.403 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:35:57.406 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:35:57.416 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 14:35:57.419 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:35:57.424 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 19.9188ms
21-04-16 14:35:57.427 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:35:57.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 29.3841ms
21-04-16 14:36:03.642 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 14:36:03.642 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:03.642 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6753ms
21-04-16 14:36:03.662 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:36:03.662 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:03.663 +01:00 [INF] Successfully validated the token.
21-04-16 14:36:03.663 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:36:03.663 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:36:03.664 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:36:03.673 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:36:03.673 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:36:03.674 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 10.5856ms
21-04-16 14:36:03.674 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:36:03.674 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 12.4978ms
21-04-16 14:36:03.694 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:36:03.694 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:03.695 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4081ms
21-04-16 14:36:03.699 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:36:03.699 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:03.699 +01:00 [INF] Successfully validated the token.
21-04-16 14:36:03.699 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:36:03.700 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:36:03.700 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:36:03.703 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 14:36:03.705 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:36:03.706 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.0486ms
21-04-16 14:36:03.706 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:36:03.711 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 7.6201ms
21-04-16 14:36:05.293 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:36:05.293 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:05.293 +01:00 [INF] Successfully validated the token.
21-04-16 14:36:05.293 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:36:05.294 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:36:05.294 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:36:05.394 +01:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:36:05.395 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:36:05.428 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 134.6309ms
21-04-16 14:36:05.429 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:36:05.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 136.2328ms
21-04-16 14:36:05.751 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 14:36:05.751 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:05.752 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3605ms
21-04-16 14:36:05.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 14:36:05.825 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:05.826 +01:00 [INF] Successfully validated the token.
21-04-16 14:36:05.827 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:36:05.849 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 14:36:05.853 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:36:05.932 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 14:36:05.946 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:36:05.951 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 101.2582ms
21-04-16 14:36:05.951 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:36:05.951 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 126.8766ms
21-04-16 14:36:10.089 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 14:36:10.089 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:10.089 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4372ms
21-04-16 14:36:10.092 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:36:10.092 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:10.093 +01:00 [INF] Successfully validated the token.
21-04-16 14:36:10.093 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:36:10.093 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:36:10.093 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:36:10.117 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:36:10.118 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:36:10.120 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 27.0814ms
21-04-16 14:36:10.120 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:36:10.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 28.5183ms
21-04-16 14:36:10.177 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:36:10.177 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:10.177 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3960ms
21-04-16 14:36:10.185 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:36:10.185 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:10.185 +01:00 [INF] Successfully validated the token.
21-04-16 14:36:10.186 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:36:10.186 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:36:10.187 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:36:10.204 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 14:36:10.205 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:36:10.206 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 19.853ms
21-04-16 14:36:10.206 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:36:10.207 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 21.7981ms
21-04-16 14:36:11.369 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:36:11.371 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:11.371 +01:00 [INF] Successfully validated the token.
21-04-16 14:36:11.372 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:36:11.372 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:36:11.373 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:36:11.513 +01:00 [INF] Executed DbCommand (137ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:36:11.515 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:36:11.516 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 144.6528ms
21-04-16 14:36:11.517 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:36:11.518 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 149.3485ms
21-04-16 14:36:11.558 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 14:36:11.558 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:11.559 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4137ms
21-04-16 14:36:11.574 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 14:36:11.574 +01:00 [INF] CORS policy execution successful.
21-04-16 14:36:11.575 +01:00 [INF] Successfully validated the token.
21-04-16 14:36:11.576 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:36:11.576 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 14:36:11.578 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:36:11.598 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 14:36:11.598 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:36:11.599 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 22.8878ms
21-04-16 14:36:11.599 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:36:11.600 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 26.0001ms
21-04-16 14:42:14.491 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:42:14.499 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:14.499 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 8.1939ms
21-04-16 14:42:14.530 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:42:14.531 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:14.532 +01:00 [INF] Successfully validated the token.
21-04-16 14:42:14.533 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:42:14.534 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:42:14.536 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:42:15.381 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 14:42:15.383 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:42:15.384 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 849.3558ms
21-04-16 14:42:15.384 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:42:15.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 856.4299ms
21-04-16 14:42:19.990 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 14:42:19.990 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:19.994 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 3.6042ms
21-04-16 14:42:20.000 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:42:20.001 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:20.003 +01:00 [INF] Successfully validated the token.
21-04-16 14:42:20.003 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:42:20.003 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:42:20.004 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:42:20.044 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:42:20.045 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:42:20.046 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 42.2257ms
21-04-16 14:42:20.046 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:42:20.046 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 46.1640ms
21-04-16 14:42:20.109 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:42:20.109 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:20.109 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3161ms
21-04-16 14:42:20.115 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:42:20.115 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:20.116 +01:00 [INF] Successfully validated the token.
21-04-16 14:42:20.116 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:42:20.116 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:42:20.117 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:42:20.125 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 14:42:20.126 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:42:20.132 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 15.6602ms
21-04-16 14:42:20.132 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:42:20.133 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 17.6756ms
21-04-16 14:42:22.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:42:22.339 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:22.339 +01:00 [INF] Successfully validated the token.
21-04-16 14:42:22.339 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:42:22.340 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:42:22.340 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:42:22.465 +01:00 [INF] Executed DbCommand (124ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:42:22.466 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:42:22.471 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 131.0083ms
21-04-16 14:42:22.471 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:42:22.474 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 135.5587ms
21-04-16 14:42:22.625 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 14:42:22.625 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:22.625 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3708ms
21-04-16 14:42:22.666 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 14:42:22.667 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:22.667 +01:00 [INF] Successfully validated the token.
21-04-16 14:42:22.668 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:42:22.668 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 14:42:22.668 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:42:22.718 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 14:42:22.719 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:42:22.720 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 52.659ms
21-04-16 14:42:22.721 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:42:22.721 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 55.5891ms
21-04-16 14:42:39.383 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 14:42:39.383 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:39.384 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.6106ms
21-04-16 14:42:39.410 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208
21-04-16 14:42:39.411 +01:00 [INF] CORS policy execution successful.
21-04-16 14:42:39.411 +01:00 [INF] Successfully validated the token.
21-04-16 14:42:39.412 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 14:42:39.433 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:42:39.512 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:42:39.817 +01:00 [ERR] Failed executing DbCommand (119ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 14:42:39.878 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b5874780-7738-4013-9d91-d37defc20c1a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b5874780-7738-4013-9d91-d37defc20c1a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 14:42:40.551 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b5874780-7738-4013-9d91-d37defc20c1a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 14:42:40.637 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 14:42:40.638 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 1204.5437ms
21-04-16 14:42:40.638 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 14:42:40.652 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208 - 500 - text/plain;+charset=utf-8 1241.2747ms
21-04-16 14:46:51.391 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:46:51.393 +01:00 [INF] CORS policy execution successful.
21-04-16 14:46:51.398 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 6.9632ms
21-04-16 14:46:51.399 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:46:51.399 +01:00 [INF] CORS policy execution successful.
21-04-16 14:46:51.399 +01:00 [INF] Successfully validated the token.
21-04-16 14:46:51.399 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:46:51.399 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:46:51.403 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:46:51.417 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 14:46:51.424 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:46:51.432 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 32.1027ms
21-04-16 14:46:51.432 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:46:51.433 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 33.9093ms
21-04-16 14:46:58.282 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 14:46:58.282 +01:00 [INF] CORS policy execution successful.
21-04-16 14:46:58.283 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.3600ms
21-04-16 14:46:58.303 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:46:58.303 +01:00 [INF] CORS policy execution successful.
21-04-16 14:46:58.304 +01:00 [INF] Successfully validated the token.
21-04-16 14:46:58.304 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:46:58.304 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:46:58.307 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:46:58.324 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:46:58.324 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:46:58.326 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 20.959ms
21-04-16 14:46:58.326 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:46:58.327 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 23.5523ms
21-04-16 14:46:58.459 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:46:58.459 +01:00 [INF] CORS policy execution successful.
21-04-16 14:46:58.459 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5585ms
21-04-16 14:46:58.467 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:46:58.467 +01:00 [INF] CORS policy execution successful.
21-04-16 14:46:58.468 +01:00 [INF] Successfully validated the token.
21-04-16 14:46:58.468 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:46:58.469 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:46:58.470 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:46:58.485 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 14:46:58.486 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:46:58.487 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 18.2513ms
21-04-16 14:46:58.488 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:46:58.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 21.6295ms
21-04-16 14:47:00.602 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:47:00.603 +01:00 [INF] CORS policy execution successful.
21-04-16 14:47:00.603 +01:00 [INF] Successfully validated the token.
21-04-16 14:47:00.603 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:47:00.603 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:47:00.604 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:47:01.057 +01:00 [INF] Executed DbCommand (452ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:47:01.058 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:47:01.059 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 455.6287ms
21-04-16 14:47:01.059 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:47:01.060 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 457.3579ms
21-04-16 14:47:01.192 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 14:47:01.192 +01:00 [INF] CORS policy execution successful.
21-04-16 14:47:01.193 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3161ms
21-04-16 14:47:01.248 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 14:47:01.249 +01:00 [INF] CORS policy execution successful.
21-04-16 14:47:01.249 +01:00 [INF] Successfully validated the token.
21-04-16 14:47:01.249 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:47:01.249 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 14:47:01.250 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:47:01.323 +01:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 14:47:01.324 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:47:01.324 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 74.9689ms
21-04-16 14:47:01.324 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:47:01.325 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 76.5578ms
21-04-16 14:47:25.201 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 14:47:25.202 +01:00 [INF] CORS policy execution successful.
21-04-16 14:47:25.202 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.6379ms
21-04-16 14:47:25.213 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208
21-04-16 14:47:25.214 +01:00 [INF] CORS policy execution successful.
21-04-16 14:47:25.214 +01:00 [INF] Successfully validated the token.
21-04-16 14:47:25.214 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 14:47:25.214 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:47:25.319 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:47:25.404 +01:00 [ERR] Failed executing DbCommand (74ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 14:47:25.413 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b5874780-7738-4013-9d91-d37defc20c1a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b5874780-7738-4013-9d91-d37defc20c1a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 14:47:25.764 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b5874780-7738-4013-9d91-d37defc20c1a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 14:47:25.768 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 14:47:25.769 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 554.1811ms
21-04-16 14:47:25.769 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 14:47:25.770 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208 - 500 - text/plain;+charset=utf-8 556.1609ms
21-04-16 14:57:38.750 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 14:57:38.757 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:38.758 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 7.9794ms
21-04-16 14:57:38.764 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 375
21-04-16 14:57:38.765 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:38.766 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 14:57:38.767 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 14:57:38.767 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 14:57:38.768 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 14:57:38.780 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:57:39.665 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 14:57:39.677 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 14:57:39.692 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 14:57:39.704 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 14:57:39.743 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 14:57:39.745 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 14:57:39.746 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 978.0268ms
21-04-16 14:57:39.746 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 14:57:39.747 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 375 - 200 409 application/json;+charset=utf-8 982.0669ms
21-04-16 14:57:39.850 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:57:39.850 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:39.850 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.2663ms
21-04-16 14:57:39.854 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:57:39.854 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:39.854 +01:00 [INF] Successfully validated the token.
21-04-16 14:57:39.854 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:57:39.854 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:57:39.855 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:57:39.865 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 14:57:39.866 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:57:39.866 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 11.5258ms
21-04-16 14:57:39.866 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 14:57:39.867 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 12.7981ms
21-04-16 14:57:48.485 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 14:57:48.485 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:48.560 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 74.8194ms
21-04-16 14:57:48.655 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:57:48.655 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:48.655 +01:00 [INF] Successfully validated the token.
21-04-16 14:57:48.656 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:57:48.656 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:57:48.657 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:57:48.680 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:57:48.684 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:57:48.689 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 32.5043ms
21-04-16 14:57:48.690 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:57:48.690 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 35.6071ms
21-04-16 14:57:48.828 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:57:48.828 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:48.828 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3471ms
21-04-16 14:57:48.857 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 14:57:48.857 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:48.858 +01:00 [INF] Successfully validated the token.
21-04-16 14:57:48.858 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:57:48.858 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:57:48.859 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:57:48.920 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 14:57:48.921 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:57:48.922 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 64.3375ms
21-04-16 14:57:48.922 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 14:57:48.923 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 65.6270ms
21-04-16 14:57:55.810 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 14:57:55.810 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:55.811 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6918ms
21-04-16 14:57:55.818 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 14:57:55.819 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:55.820 +01:00 [INF] Successfully validated the token.
21-04-16 14:57:55.821 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:57:55.821 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 14:57:55.823 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:57:55.856 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 14:57:55.857 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 14:57:55.857 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 35.9577ms
21-04-16 14:57:55.857 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 14:57:55.858 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 39.7482ms
21-04-16 14:57:56.095 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 14:57:56.095 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:56.095 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5551ms
21-04-16 14:57:56.106 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 14:57:56.106 +01:00 [INF] CORS policy execution successful.
21-04-16 14:57:56.106 +01:00 [INF] Successfully validated the token.
21-04-16 14:57:56.106 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:57:56.106 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 14:57:56.107 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:57:56.231 +01:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 14:57:56.232 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 14:57:56.235 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 128.5519ms
21-04-16 14:57:56.235 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 14:57:56.236 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 129.9689ms
21-04-16 14:58:04.437 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 14:58:04.438 +01:00 [INF] CORS policy execution successful.
21-04-16 14:58:04.438 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.6420ms
21-04-16 14:58:04.487 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208
21-04-16 14:58:04.487 +01:00 [INF] CORS policy execution successful.
21-04-16 14:58:04.488 +01:00 [INF] Successfully validated the token.
21-04-16 14:58:04.489 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 14:58:04.489 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 14:58:04.492 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 14:58:04.613 +01:00 [ERR] Failed executing DbCommand (80ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 14:58:04.623 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2ffac514-48a4-4f12-b36f-1b581784c8d6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2ffac514-48a4-4f12-b36f-1b581784c8d6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 14:58:04.936 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2ffac514-48a4-4f12-b36f-1b581784c8d6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 14:58:04.939 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 14:58:04.939 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 449.2547ms
21-04-16 14:58:04.939 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 14:58:04.940 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208 - 500 - text/plain;+charset=utf-8 452.7574ms
21-04-16 15:10:18.583 +01:00 [INF] Application Is Starting
21-04-16 15:10:28.355 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-04-16 15:10:31.749 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-04-16 15:10:31.749 +01:00 [INF] Hosting environment: Development
21-04-16 15:10:31.749 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-04-16 15:10:32.221 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-04-16 15:10:33.326 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 1071.5630ms
21-04-16 15:10:33.939 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 15:10:34.530 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 589.9990ms
21-04-16 15:11:38.364 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?PageNumber=1&PageSize=1&CurrentPage=1&TotalCount=1 - -
21-04-16 15:11:39.444 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:11:39.594 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:11:45.445 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:11:48.699 +01:00 [INF] Executed DbCommand (201ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 15:11:49.313 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:11:50.054 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 10444.5696ms
21-04-16 15:11:50.058 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:11:50.084 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?PageNumber=1&PageSize=1&CurrentPage=1&TotalCount=1 - - - 200 186 application/json;+charset=utf-8 11719.8734ms
21-04-16 15:13:02.108 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 15:13:02.126 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:02.129 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 21.4721ms
21-04-16 15:13:02.139 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370
21-04-16 15:13:02.140 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:02.561 +01:00 [INF] Successfully validated the token.
21-04-16 15:13:02.564 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 15:13:02.576 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 15:13:02.949 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:13:03.299 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 15:13:03.641 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 15:13:03.731 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 15:13:03.762 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 15:13:04.232 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 15:13:04.307 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 15:13:04.315 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 1738.1778ms
21-04-16 15:13:04.315 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 15:13:04.320 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370 - 200 409 application/json;+charset=utf-8 2180.6075ms
21-04-16 15:13:04.423 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:13:04.423 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:04.423 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5723ms
21-04-16 15:13:04.427 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:13:04.427 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:04.431 +01:00 [INF] Successfully validated the token.
21-04-16 15:13:04.432 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:13:04.432 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:13:04.451 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:13:04.460 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 15:13:04.462 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:13:04.463 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 30.4984ms
21-04-16 15:13:04.463 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:13:04.464 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 36.9452ms
21-04-16 15:13:06.612 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:13:06.612 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:06.612 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4606ms
21-04-16 15:13:06.630 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:13:06.630 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:06.631 +01:00 [INF] Successfully validated the token.
21-04-16 15:13:06.631 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:13:06.642 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:13:06.650 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:13:06.976 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:13:07.060 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:13:07.076 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 433.6652ms
21-04-16 15:13:07.076 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:13:07.077 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 447.0584ms
21-04-16 15:13:07.240 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:13:07.240 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:07.240 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5332ms
21-04-16 15:13:07.248 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:13:07.248 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:07.248 +01:00 [INF] Successfully validated the token.
21-04-16 15:13:07.249 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:13:07.256 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:13:07.262 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:13:07.523 +01:00 [INF] Executed DbCommand (251ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:13:07.734 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:13:07.769 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 512.5597ms
21-04-16 15:13:07.769 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:13:07.770 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 524.1563ms
21-04-16 15:13:11.833 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:13:11.833 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:11.833 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4824ms
21-04-16 15:13:11.929 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:13:11.929 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:11.930 +01:00 [INF] Successfully validated the token.
21-04-16 15:13:11.930 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:13:11.930 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:13:11.931 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:13:11.988 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:13:11.988 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:13:11.989 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 59.1392ms
21-04-16 15:13:11.989 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:13:11.990 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 61.1742ms
21-04-16 15:13:12.308 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:13:12.308 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:12.308 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5260ms
21-04-16 15:13:12.334 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:13:12.335 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:12.335 +01:00 [INF] Successfully validated the token.
21-04-16 15:13:12.335 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:13:12.344 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:13:12.349 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:13:12.515 +01:00 [INF] Executed DbCommand (153ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:13:12.524 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:13:12.530 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 185.8662ms
21-04-16 15:13:12.530 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:13:12.530 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 195.7740ms
21-04-16 15:13:20.716 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 15:13:20.716 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:20.717 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.5189ms
21-04-16 15:13:20.721 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208
21-04-16 15:13:20.721 +01:00 [INF] CORS policy execution successful.
21-04-16 15:13:20.721 +01:00 [INF] Successfully validated the token.
21-04-16 15:13:20.722 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:13:20.730 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:13:20.772 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:13:21.417 +01:00 [ERR] Failed executing DbCommand (368ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 15:13:22.056 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c1e50d12-8c3e-45b7-af52-92909202369f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c1e50d12-8c3e-45b7-af52-92909202369f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 15:13:22.631 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c1e50d12-8c3e-45b7-af52-92909202369f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 15:13:22.777 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 15:13:22.779 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 2048.7316ms
21-04-16 15:13:22.779 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:13:22.783 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208 - 500 - text/plain;+charset=utf-8 2062.5301ms
21-04-16 15:16:55.357 +01:00 [INF] Application Is Starting
21-04-16 15:17:01.229 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-04-16 15:17:03.407 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-04-16 15:17:03.407 +01:00 [INF] Hosting environment: Development
21-04-16 15:17:03.407 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-04-16 15:17:03.569 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-04-16 15:17:04.435 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 885.4254ms
21-04-16 15:17:21.922 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 15:17:23.164 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1241.5064ms
21-04-16 15:17:40.222 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:17:40.305 +01:00 [INF] CORS policy execution successful.
21-04-16 15:17:40.308 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 86.1063ms
21-04-16 15:17:40.313 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:17:40.314 +01:00 [INF] CORS policy execution successful.
21-04-16 15:17:41.615 +01:00 [INF] Successfully validated the token.
21-04-16 15:17:41.622 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:17:41.839 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:17:46.163 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:17:49.790 +01:00 [INF] Executed DbCommand (138ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 15:17:50.247 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:17:50.840 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 8986.9168ms
21-04-16 15:17:50.845 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:17:50.862 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 10548.3994ms
21-04-16 15:17:52.426 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:17:52.470 +01:00 [INF] CORS policy execution successful.
21-04-16 15:17:52.471 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 45.0399ms
21-04-16 15:17:52.509 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:17:52.509 +01:00 [INF] CORS policy execution successful.
21-04-16 15:17:52.518 +01:00 [INF] Successfully validated the token.
21-04-16 15:17:52.519 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:17:52.549 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:17:52.662 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:17:53.322 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:17:53.385 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:17:53.392 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 842.955ms
21-04-16 15:17:53.392 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:17:53.393 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 884.6192ms
21-04-16 15:17:53.639 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:17:53.640 +01:00 [INF] CORS policy execution successful.
21-04-16 15:17:53.640 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3861ms
21-04-16 15:17:53.652 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:17:53.654 +01:00 [INF] CORS policy execution successful.
21-04-16 15:17:53.659 +01:00 [INF] Successfully validated the token.
21-04-16 15:17:53.660 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:17:53.666 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:17:53.701 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:17:53.744 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:17:53.853 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:17:53.854 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 188.2756ms
21-04-16 15:17:53.855 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:17:53.855 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 497 application/json;+charset=utf-8 203.8020ms
21-04-16 15:17:55.603 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:17:55.604 +01:00 [INF] CORS policy execution successful.
21-04-16 15:17:55.605 +01:00 [INF] Successfully validated the token.
21-04-16 15:17:55.607 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:17:55.609 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:17:55.612 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:17:55.654 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:17:55.656 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:17:55.657 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 47.4956ms
21-04-16 15:17:55.657 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:17:55.657 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 513 application/json;+charset=utf-8 54.4037ms
21-04-16 15:17:55.921 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:17:55.922 +01:00 [INF] CORS policy execution successful.
21-04-16 15:17:55.922 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.6758ms
21-04-16 15:17:55.942 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:17:55.942 +01:00 [INF] CORS policy execution successful.
21-04-16 15:17:55.943 +01:00 [INF] Successfully validated the token.
21-04-16 15:17:55.943 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:17:55.952 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:17:55.955 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:17:56.010 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:17:56.021 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:17:56.040 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 87.2215ms
21-04-16 15:17:56.040 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:17:56.041 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 98.3490ms
21-04-16 15:18:05.941 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 15:18:05.941 +01:00 [INF] CORS policy execution successful.
21-04-16 15:18:05.941 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.5212ms
21-04-16 15:18:05.944 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208
21-04-16 15:18:05.944 +01:00 [INF] CORS policy execution successful.
21-04-16 15:18:05.945 +01:00 [INF] Successfully validated the token.
21-04-16 15:18:05.945 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:18:05.959 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:18:06.113 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:18:06.564 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 15:18:06.681 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-04-16 15:18:06.792 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 832.6447ms
21-04-16 15:18:06.792 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:18:06.792 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208 - 201 211 application/json;+charset=utf-8 848.2827ms
21-04-16 15:18:19.990 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:18:19.990 +01:00 [INF] CORS policy execution successful.
21-04-16 15:18:19.990 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5676ms
21-04-16 15:18:20.011 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:18:20.011 +01:00 [INF] CORS policy execution successful.
21-04-16 15:18:20.011 +01:00 [INF] Successfully validated the token.
21-04-16 15:18:20.012 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:18:20.012 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:18:20.013 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:18:20.076 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:18:20.076 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:18:20.078 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 65.5431ms
21-04-16 15:18:20.078 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:18:20.078 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 67.4820ms
21-04-16 15:18:20.124 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:18:20.125 +01:00 [INF] CORS policy execution successful.
21-04-16 15:18:20.125 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5163ms
21-04-16 15:18:20.130 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:18:20.131 +01:00 [INF] CORS policy execution successful.
21-04-16 15:18:20.131 +01:00 [INF] Successfully validated the token.
21-04-16 15:18:20.131 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:18:20.131 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:18:20.132 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:18:20.138 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:18:20.141 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:18:20.141 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 10.1355ms
21-04-16 15:18:20.142 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:18:20.142 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 654 application/json;+charset=utf-8 11.9429ms
21-04-16 15:19:06.179 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/14 - -
21-04-16 15:19:06.179 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:06.180 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/14 - - - 204 - - 0.7179ms
21-04-16 15:19:06.191 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/14 - -
21-04-16 15:19:06.194 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:06.194 +01:00 [INF] Successfully validated the token.
21-04-16 15:19:06.195 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 15:19:06.210 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:19:06.241 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:19:06.366 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-04-16 15:19:06.381 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-04-16 15:19:06.383 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 172.2163ms
21-04-16 15:19:06.383 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-04-16 15:19:06.385 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/14 - - - 200 156 application/json;+charset=utf-8 194.5064ms
21-04-16 15:19:08.262 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:19:08.262 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:08.263 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4613ms
21-04-16 15:19:08.272 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:19:08.272 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:08.273 +01:00 [INF] Successfully validated the token.
21-04-16 15:19:08.273 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:19:08.274 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:19:08.276 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:19:08.283 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:19:08.286 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:19:08.287 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 13.2765ms
21-04-16 15:19:08.287 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:19:08.288 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 16.3769ms
21-04-16 15:19:08.316 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:19:08.316 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:08.318 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 2.1774ms
21-04-16 15:19:08.328 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:19:08.328 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:08.329 +01:00 [INF] Successfully validated the token.
21-04-16 15:19:08.329 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:19:08.329 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:19:08.331 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:19:08.340 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:19:08.354 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:19:08.371 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 41.9921ms
21-04-16 15:19:08.372 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:19:08.372 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 654 application/json;+charset=utf-8 43.8554ms
21-04-16 15:19:14.636 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:19:14.637 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:14.637 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.9444ms
21-04-16 15:19:14.716 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:19:14.716 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:14.717 +01:00 [INF] Successfully validated the token.
21-04-16 15:19:14.717 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:19:14.717 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:19:14.718 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:19:14.748 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:19:14.749 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:19:14.750 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 33.2493ms
21-04-16 15:19:14.751 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:19:14.760 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 43.4862ms
21-04-16 15:19:14.813 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:19:14.813 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:14.813 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3966ms
21-04-16 15:19:14.817 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:19:14.817 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:14.818 +01:00 [INF] Successfully validated the token.
21-04-16 15:19:14.818 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:19:14.818 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:19:14.819 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:19:14.833 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:19:14.834 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:19:14.834 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 15.9251ms
21-04-16 15:19:14.835 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:19:14.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 18.1930ms
21-04-16 15:19:14.855 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-04-16 15:19:14.855 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:14.855 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.3875ms
21-04-16 15:19:14.866 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-04-16 15:19:14.866 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:14.866 +01:00 [INF] Successfully validated the token.
21-04-16 15:19:14.892 +01:00 [INF] Authorization was successful.
21-04-16 15:19:14.893 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 15:19:14.900 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-04-16 15:19:14.904 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:19:15.010 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-04-16 15:19:15.019 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:19:15.026 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 125.7193ms
21-04-16 15:19:15.026 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-04-16 15:19:15.031 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 24 application/json;+charset=utf-8 165.3628ms
21-04-16 15:19:18.696 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:19:18.696 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:18.696 +01:00 [INF] Successfully validated the token.
21-04-16 15:19:18.696 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:19:18.699 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:19:18.701 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:19:18.901 +01:00 [INF] Executed DbCommand (198ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:19:18.902 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:19:18.908 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 208.4742ms
21-04-16 15:19:18.908 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:19:18.909 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 213.7308ms
21-04-16 15:19:18.962 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:19:18.962 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:18.963 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3487ms
21-04-16 15:19:18.986 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:19:18.986 +01:00 [INF] CORS policy execution successful.
21-04-16 15:19:18.986 +01:00 [INF] Successfully validated the token.
21-04-16 15:19:18.986 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:19:18.987 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:19:18.987 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:19:19.100 +01:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:19:19.103 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:19:19.108 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 121.589ms
21-04-16 15:19:19.109 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:19:19.109 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 654 application/json;+charset=utf-8 123.1975ms
21-04-16 15:27:36.390 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 15:27:36.396 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:36.397 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 7.4921ms
21-04-16 15:27:36.419 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-04-16 15:27:36.420 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:36.422 +01:00 [INF] Successfully validated the token.
21-04-16 15:27:36.423 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 15:27:36.434 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 15:27:36.480 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:27:36.949 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 15:27:37.164 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 15:27:37.238 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 15:27:37.277 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 15:27:37.352 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 15:27:37.396 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 15:27:37.414 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 978.7585ms
21-04-16 15:27:37.414 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 15:27:37.418 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 998.0837ms
21-04-16 15:27:37.557 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:27:37.558 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:37.559 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.4126ms
21-04-16 15:27:37.571 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:27:37.572 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:37.573 +01:00 [INF] Successfully validated the token.
21-04-16 15:27:37.574 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:27:37.575 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:27:37.579 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:27:37.643 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 15:27:37.647 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:27:37.650 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 73.4218ms
21-04-16 15:27:37.650 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:27:37.651 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 79.3260ms
21-04-16 15:27:40.699 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:27:40.699 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:40.703 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 3.4320ms
21-04-16 15:27:40.720 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:27:40.720 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:40.721 +01:00 [INF] Successfully validated the token.
21-04-16 15:27:40.721 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:27:40.721 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:27:40.723 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:27:40.809 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:27:40.810 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:27:40.812 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 90.2592ms
21-04-16 15:27:40.812 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:27:40.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 92.6133ms
21-04-16 15:27:40.939 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:27:40.939 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:40.940 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.7215ms
21-04-16 15:27:40.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:27:40.944 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:40.944 +01:00 [INF] Successfully validated the token.
21-04-16 15:27:40.944 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:27:40.945 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:27:40.945 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:27:40.950 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:27:40.950 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:27:40.955 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 10.2484ms
21-04-16 15:27:40.955 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:27:40.956 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 654 application/json;+charset=utf-8 12.5798ms
21-04-16 15:27:44.187 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:27:44.187 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:44.187 +01:00 [INF] Successfully validated the token.
21-04-16 15:27:44.188 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:27:44.188 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:27:44.188 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:27:44.354 +01:00 [INF] Executed DbCommand (164ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:27:44.355 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:27:44.356 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 167.7629ms
21-04-16 15:27:44.356 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:27:44.356 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 169.2805ms
21-04-16 15:27:44.483 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:27:44.484 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:44.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 1.5390ms
21-04-16 15:27:44.501 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:27:44.501 +01:00 [INF] CORS policy execution successful.
21-04-16 15:27:44.502 +01:00 [INF] Successfully validated the token.
21-04-16 15:27:44.502 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:27:44.502 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:27:44.503 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:27:44.572 +01:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:27:44.573 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:27:44.576 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 74.2327ms
21-04-16 15:27:44.577 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:27:44.577 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 75.9579ms
21-04-16 15:34:16.978 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:34:16.978 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:16.980 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5968ms
21-04-16 15:34:17.005 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:34:17.006 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:17.006 +01:00 [INF] Successfully validated the token.
21-04-16 15:34:17.006 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:34:17.007 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:34:17.008 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:34:17.044 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 15:34:17.045 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:34:17.048 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 40.9612ms
21-04-16 15:34:17.048 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:34:17.050 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 44.4138ms
21-04-16 15:34:20.436 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:34:20.437 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:20.446 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 9.8632ms
21-04-16 15:34:20.452 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:34:20.454 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:20.454 +01:00 [INF] Successfully validated the token.
21-04-16 15:34:20.454 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:34:20.454 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:34:20.455 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:34:20.495 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:34:20.496 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:34:20.515 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 60.34ms
21-04-16 15:34:20.515 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:34:20.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 63.8307ms
21-04-16 15:34:20.670 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:34:20.670 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:20.670 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3806ms
21-04-16 15:34:20.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:34:20.686 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:20.687 +01:00 [INF] Successfully validated the token.
21-04-16 15:34:20.687 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:34:20.687 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:34:20.688 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:34:20.726 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:34:20.727 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:34:20.728 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 40.3366ms
21-04-16 15:34:20.728 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:34:20.728 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 654 application/json;+charset=utf-8 41.7426ms
21-04-16 15:34:25.143 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:34:25.143 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:25.144 +01:00 [INF] Successfully validated the token.
21-04-16 15:34:25.144 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:34:25.144 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:34:25.144 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:34:25.155 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:34:25.156 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:34:25.157 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 13.1002ms
21-04-16 15:34:25.157 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:34:25.158 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 14.8474ms
21-04-16 15:34:25.477 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:34:25.477 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:25.478 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3747ms
21-04-16 15:34:25.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:34:25.489 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:25.490 +01:00 [INF] Successfully validated the token.
21-04-16 15:34:25.490 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:34:25.490 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:34:25.491 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:34:25.500 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:34:25.501 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:34:25.501 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 10.971ms
21-04-16 15:34:25.502 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:34:25.502 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 12.7226ms
21-04-16 15:34:35.520 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 15:34:35.520 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:35.521 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.4266ms
21-04-16 15:34:35.523 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 210
21-04-16 15:34:35.523 +01:00 [INF] CORS policy execution successful.
21-04-16 15:34:35.524 +01:00 [INF] Successfully validated the token.
21-04-16 15:34:35.524 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:34:35.524 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:34:35.526 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:34:35.627 +01:00 [ERR] Failed executing DbCommand (91ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 15:34:35.766 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1cc709de-8376-430a-bbdc-c69270684b9f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1cc709de-8376-430a-bbdc-c69270684b9f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 15:34:36.195 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1cc709de-8376-430a-bbdc-c69270684b9f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 15:34:36.241 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 15:34:36.243 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 718.4896ms
21-04-16 15:34:36.243 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:34:36.245 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 210 - 500 - text/plain;+charset=utf-8 721.1997ms
21-04-16 15:44:43.102 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 15:44:43.102 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:43.102 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 0.6444ms
21-04-16 15:44:43.192 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-04-16 15:44:43.193 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:43.193 +01:00 [INF] Successfully validated the token.
21-04-16 15:44:43.193 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 15:44:43.193 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 15:44:43.196 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:44:44.268 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 15:44:44.290 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 15:44:44.305 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 15:44:44.309 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 15:44:44.321 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 15:44:44.323 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 15:44:44.324 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 1129.9364ms
21-04-16 15:44:44.324 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 15:44:44.324 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 1131.7334ms
21-04-16 15:44:44.472 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:44:44.472 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:44.473 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3771ms
21-04-16 15:44:44.540 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:44:44.541 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:44.541 +01:00 [INF] Successfully validated the token.
21-04-16 15:44:44.541 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:44:44.541 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:44:44.542 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:44:44.806 +01:00 [INF] Executed DbCommand (264ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 15:44:44.807 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:44:44.808 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 266.2707ms
21-04-16 15:44:44.808 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:44:44.810 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 269.6380ms
21-04-16 15:44:46.604 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:44:46.604 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:46.605 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4310ms
21-04-16 15:44:46.631 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:44:46.631 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:46.632 +01:00 [INF] Successfully validated the token.
21-04-16 15:44:46.632 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:44:46.632 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:44:46.633 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:44:46.649 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:44:46.649 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:44:46.650 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 17.912ms
21-04-16 15:44:46.651 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:44:46.651 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 20.2024ms
21-04-16 15:44:46.761 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:44:46.761 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:46.762 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.7316ms
21-04-16 15:44:46.767 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:44:46.767 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:46.768 +01:00 [INF] Successfully validated the token.
21-04-16 15:44:46.768 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:44:46.768 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:44:46.769 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:44:46.773 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:44:46.775 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:44:46.775 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 6.9759ms
21-04-16 15:44:46.775 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:44:46.776 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 654 application/json;+charset=utf-8 8.7957ms
21-04-16 15:44:48.780 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:44:48.780 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:48.783 +01:00 [INF] Successfully validated the token.
21-04-16 15:44:48.783 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:44:48.783 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:44:48.784 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:44:48.814 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:44:48.815 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:44:48.817 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 33.3516ms
21-04-16 15:44:48.817 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:44:48.817 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 37.5226ms
21-04-16 15:44:49.088 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:44:49.088 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:49.089 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.4006ms
21-04-16 15:44:49.101 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:44:49.102 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:49.102 +01:00 [INF] Successfully validated the token.
21-04-16 15:44:49.102 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:44:49.102 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:44:49.103 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:44:49.124 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:44:49.130 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:44:49.132 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 29.9432ms
21-04-16 15:44:49.133 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:44:49.133 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 31.4430ms
21-04-16 15:44:57.623 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 15:44:57.623 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:57.623 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.6005ms
21-04-16 15:44:57.639 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 210
21-04-16 15:44:57.640 +01:00 [INF] CORS policy execution successful.
21-04-16 15:44:57.640 +01:00 [INF] Successfully validated the token.
21-04-16 15:44:57.640 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:44:57.640 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:44:57.641 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:44:57.728 +01:00 [ERR] Failed executing DbCommand (84ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 15:44:57.740 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5af1f6e2-a08d-4a8c-b919-58814f5fdcc5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5af1f6e2-a08d-4a8c-b919-58814f5fdcc5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 15:44:58.066 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5af1f6e2-a08d-4a8c-b919-58814f5fdcc5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 15:44:58.069 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 15:44:58.070 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 429.4566ms
21-04-16 15:44:58.070 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:44:58.071 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 210 - 500 - text/plain;+charset=utf-8 431.2342ms
21-04-16 15:54:18.040 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:54:18.041 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:18.041 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5868ms
21-04-16 15:54:18.064 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:54:18.064 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:18.065 +01:00 [INF] Successfully validated the token.
21-04-16 15:54:18.065 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:54:18.065 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:54:18.067 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:54:18.390 +01:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 15:54:18.396 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:54:18.397 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 331.8016ms
21-04-16 15:54:18.397 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:54:18.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 333.4465ms
21-04-16 15:54:28.995 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:54:28.995 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:28.996 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4006ms
21-04-16 15:54:29.024 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:54:29.024 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:29.025 +01:00 [INF] Successfully validated the token.
21-04-16 15:54:29.025 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:54:29.025 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:54:29.026 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:54:29.087 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:54:29.088 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:54:29.094 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 68.7369ms
21-04-16 15:54:29.094 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:54:29.094 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 70.3457ms
21-04-16 15:54:29.292 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:54:29.292 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:29.293 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4039ms
21-04-16 15:54:29.303 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:54:29.303 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:29.304 +01:00 [INF] Successfully validated the token.
21-04-16 15:54:29.304 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:54:29.304 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:54:29.305 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:54:29.368 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:54:29.369 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:54:29.370 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 65.6956ms
21-04-16 15:54:29.370 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:54:29.371 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 654 application/json;+charset=utf-8 67.9188ms
21-04-16 15:54:31.224 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:54:31.224 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:31.224 +01:00 [INF] Successfully validated the token.
21-04-16 15:54:31.224 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:54:31.224 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:54:31.228 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:54:31.356 +01:00 [INF] Executed DbCommand (126ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:54:31.357 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:54:31.358 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 133.3456ms
21-04-16 15:54:31.358 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:54:31.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 135.1750ms
21-04-16 15:54:31.405 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:54:31.405 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:31.405 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3043ms
21-04-16 15:54:31.486 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:54:31.486 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:31.487 +01:00 [INF] Successfully validated the token.
21-04-16 15:54:31.487 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:54:31.487 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:54:31.487 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:54:31.510 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:54:31.511 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:54:31.511 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 24.2179ms
21-04-16 15:54:31.512 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:54:31.512 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 26.2637ms
21-04-16 15:54:38.093 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/0 - -
21-04-16 15:54:38.119 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:38.119 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/0 - - - 204 - - 26.2789ms
21-04-16 15:54:38.158 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/0 - -
21-04-16 15:54:38.158 +01:00 [INF] CORS policy execution successful.
21-04-16 15:54:38.159 +01:00 [INF] Successfully validated the token.
21-04-16 15:54:38.159 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:54:38.159 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:54:38.160 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:54:38.269 +01:00 [INF] Executed DbCommand (108ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:54:38.284 +01:00 [INF] Executing OkObjectResult, writing value of type 'null'.
21-04-16 15:54:38.285 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 125.564ms
21-04-16 15:54:38.285 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:54:38.285 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/0 - - - 204 0 - 127.0458ms
21-04-16 15:56:17.930 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:56:17.931 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:17.931 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3390ms
21-04-16 15:56:18.075 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:56:18.075 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:18.075 +01:00 [INF] Successfully validated the token.
21-04-16 15:56:18.075 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:56:18.076 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:56:18.076 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:56:18.739 +01:00 [INF] Executed DbCommand (662ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 15:56:18.740 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:56:18.752 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 676.3903ms
21-04-16 15:56:18.753 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 15:56:18.753 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 678.2199ms
21-04-16 15:56:20.375 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:56:20.375 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:20.380 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 5.0003ms
21-04-16 15:56:20.402 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:56:20.402 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:20.402 +01:00 [INF] Successfully validated the token.
21-04-16 15:56:20.402 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:56:20.402 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:56:20.403 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:56:20.437 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:56:20.438 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:56:20.448 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 45.718ms
21-04-16 15:56:20.448 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:56:20.449 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 47.2587ms
21-04-16 15:56:20.687 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:56:20.687 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:20.687 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3956ms
21-04-16 15:56:20.692 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 15:56:20.692 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:20.692 +01:00 [INF] Successfully validated the token.
21-04-16 15:56:20.693 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:56:20.693 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:56:20.693 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:56:20.743 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 15:56:20.744 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:56:20.745 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 52.4352ms
21-04-16 15:56:20.745 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 15:56:20.767 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 654 application/json;+charset=utf-8 75.5454ms
21-04-16 15:56:22.632 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:56:22.632 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:22.632 +01:00 [INF] Successfully validated the token.
21-04-16 15:56:22.632 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:56:22.632 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:56:22.633 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:56:22.933 +01:00 [INF] Executed DbCommand (299ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:56:22.933 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:56:22.934 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 301.6544ms
21-04-16 15:56:22.934 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:56:22.935 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 303.0749ms
21-04-16 15:56:23.085 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:56:23.085 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:23.085 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5813ms
21-04-16 15:56:23.171 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:56:23.171 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:23.172 +01:00 [INF] Successfully validated the token.
21-04-16 15:56:23.172 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:56:23.172 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:56:23.173 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:56:23.401 +01:00 [INF] Executed DbCommand (227ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:56:23.402 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:56:23.433 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 260.6993ms
21-04-16 15:56:23.435 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:56:23.437 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 266.3179ms
21-04-16 15:56:47.482 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 15:56:47.483 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:47.483 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.4437ms
21-04-16 15:56:47.507 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 210
21-04-16 15:56:47.507 +01:00 [INF] CORS policy execution successful.
21-04-16 15:56:47.508 +01:00 [INF] Successfully validated the token.
21-04-16 15:56:47.508 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:56:47.508 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:56:47.638 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:56:47.775 +01:00 [ERR] Failed executing DbCommand (126ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 15:56:47.783 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 15:56:48.123 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 15:56:48.127 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 15:56:48.127 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 618.813ms
21-04-16 15:56:48.127 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:56:48.128 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 210 - 500 - text/plain;+charset=utf-8 620.3145ms
21-04-16 15:58:13.632 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:58:13.633 +01:00 [INF] CORS policy execution successful.
21-04-16 15:58:13.633 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.2743ms
21-04-16 15:58:13.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:58:13.686 +01:00 [INF] CORS policy execution successful.
21-04-16 15:58:13.686 +01:00 [INF] Successfully validated the token.
21-04-16 15:58:13.686 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:58:13.687 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:58:13.687 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:58:13.717 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:58:13.739 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:58:13.752 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 64.9331ms
21-04-16 15:58:13.752 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:58:13.753 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 670 application/json;+charset=utf-8 66.3024ms
21-04-16 15:58:13.808 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:58:13.808 +01:00 [INF] CORS policy execution successful.
21-04-16 15:58:13.808 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3625ms
21-04-16 15:58:13.839 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:58:13.839 +01:00 [INF] CORS policy execution successful.
21-04-16 15:58:13.839 +01:00 [INF] Successfully validated the token.
21-04-16 15:58:13.840 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:58:13.840 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:58:13.840 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:58:14.051 +01:00 [INF] Executed DbCommand (210ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:58:14.051 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:58:14.054 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 213.839ms
21-04-16 15:58:14.054 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:58:14.054 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 215.6238ms
21-04-16 15:58:24.055 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 15:58:24.056 +01:00 [INF] CORS policy execution successful.
21-04-16 15:58:24.056 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.5680ms
21-04-16 15:58:24.102 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208
21-04-16 15:58:24.102 +01:00 [INF] CORS policy execution successful.
21-04-16 15:58:24.103 +01:00 [INF] Successfully validated the token.
21-04-16 15:58:24.103 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:58:24.103 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:58:24.104 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:58:24.172 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 15:58:24.248 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-04-16 15:58:24.254 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 150.7241ms
21-04-16 15:58:24.254 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:58:24.254 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208 - 201 211 application/json;+charset=utf-8 152.7074ms
21-04-16 15:58:57.507 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 15:58:57.507 +01:00 [INF] CORS policy execution successful.
21-04-16 15:58:57.508 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.3761ms
21-04-16 15:58:57.656 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 198
21-04-16 15:58:57.656 +01:00 [INF] CORS policy execution successful.
21-04-16 15:58:57.656 +01:00 [INF] Successfully validated the token.
21-04-16 15:58:57.657 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:58:57.657 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:58:57.658 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:58:57.728 +01:00 [ERR] Failed executing DbCommand (50ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 15:58:57.739 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 15:58:58.101 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 15:58:58.104 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 15:58:58.105 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 447.4084ms
21-04-16 15:58:58.105 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:58:58.105 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 198 - 500 - text/plain;+charset=utf-8 449.7981ms
21-04-16 15:59:02.070 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:59:02.070 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:02.070 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5196ms
21-04-16 15:59:02.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:59:02.146 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:02.147 +01:00 [INF] Successfully validated the token.
21-04-16 15:59:02.149 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:59:02.149 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:59:02.150 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:59:02.268 +01:00 [INF] Executed DbCommand (116ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:59:02.268 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:59:02.269 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 119.6259ms
21-04-16 15:59:02.269 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:59:02.270 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 827 application/json;+charset=utf-8 123.2681ms
21-04-16 15:59:02.313 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:59:02.313 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:02.316 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 3.6762ms
21-04-16 15:59:02.332 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:59:02.334 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:02.339 +01:00 [INF] Successfully validated the token.
21-04-16 15:59:02.340 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:59:02.340 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:59:02.340 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:59:02.426 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:59:02.427 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:59:02.431 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 91.6698ms
21-04-16 15:59:02.432 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:59:02.432 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 100.3716ms
21-04-16 15:59:15.450 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 15:59:15.450 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:15.451 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.9476ms
21-04-16 15:59:15.465 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 201
21-04-16 15:59:15.466 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:15.467 +01:00 [INF] Successfully validated the token.
21-04-16 15:59:15.467 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:59:15.467 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:59:15.468 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:59:15.492 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 15:59:15.515 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-04-16 15:59:15.519 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 52.1666ms
21-04-16 15:59:15.519 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:59:15.520 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 201 - 201 204 application/json;+charset=utf-8 54.4298ms
21-04-16 15:59:30.633 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 15:59:30.633 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:30.633 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.3896ms
21-04-16 15:59:30.671 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 191
21-04-16 15:59:30.683 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:30.688 +01:00 [INF] Successfully validated the token.
21-04-16 15:59:30.689 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:59:30.689 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 15:59:30.690 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:59:30.794 +01:00 [ERR] Failed executing DbCommand (75ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 15:59:30.802 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 15:59:31.049 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 15:59:31.053 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 15:59:31.054 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 364.564ms
21-04-16 15:59:31.054 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 15:59:31.054 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 191 - 500 - text/plain;+charset=utf-8 383.6159ms
21-04-16 15:59:38.435 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 15:59:38.435 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:38.435 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6417ms
21-04-16 15:59:38.479 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 15:59:38.479 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:38.480 +01:00 [INF] Successfully validated the token.
21-04-16 15:59:38.480 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:59:38.480 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 15:59:38.481 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:59:38.636 +01:00 [INF] Executed DbCommand (152ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 15:59:38.636 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 15:59:38.637 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 157.3804ms
21-04-16 15:59:38.637 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 15:59:38.638 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 977 application/json;+charset=utf-8 159.1416ms
21-04-16 15:59:38.704 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 15:59:38.704 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:38.704 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.5999ms
21-04-16 15:59:38.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 15:59:38.730 +01:00 [INF] CORS policy execution successful.
21-04-16 15:59:38.731 +01:00 [INF] Successfully validated the token.
21-04-16 15:59:38.731 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:59:38.731 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 15:59:38.732 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 15:59:38.810 +01:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 15:59:38.810 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 15:59:38.811 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 80.0563ms
21-04-16 15:59:38.812 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 15:59:38.812 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 81.9377ms
21-04-16 16:00:06.718 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 16:00:06.719 +01:00 [INF] CORS policy execution successful.
21-04-16 16:00:06.719 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.5284ms
21-04-16 16:00:06.731 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208
21-04-16 16:00:06.731 +01:00 [INF] CORS policy execution successful.
21-04-16 16:00:06.732 +01:00 [INF] Successfully validated the token.
21-04-16 16:00:06.732 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 16:00:06.732 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 16:00:06.780 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:00:06.859 +01:00 [INF] Executed DbCommand (73ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 16:00:06.928 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebAPI.Models.Audit'.
21-04-16 16:00:06.947 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 215.2668ms
21-04-16 16:00:06.948 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 16:00:06.948 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 208 - 201 211 application/json;+charset=utf-8 217.2243ms
21-04-16 16:00:21.139 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 16:00:21.141 +01:00 [INF] CORS policy execution successful.
21-04-16 16:00:21.141 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 2.4974ms
21-04-16 16:00:21.149 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 198
21-04-16 16:00:21.149 +01:00 [INF] CORS policy execution successful.
21-04-16 16:00:21.150 +01:00 [INF] Successfully validated the token.
21-04-16 16:00:21.150 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 16:00:21.150 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 16:00:21.151 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:00:21.221 +01:00 [ERR] Failed executing DbCommand (68ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 16:00:21.256 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 16:00:21.584 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_Customer_CustomerId". The conflict occurred in database "RSTLog", table "dbo.Customer", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 16:00:21.586 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 16:00:21.586 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 435.9523ms
21-04-16 16:00:21.586 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 16:00:21.587 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 198 - 500 - text/plain;+charset=utf-8 437.5781ms
21-04-16 16:00:24.464 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 16:00:24.464 +01:00 [INF] CORS policy execution successful.
21-04-16 16:00:24.468 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.3378ms
21-04-16 16:00:24.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 16:00:24.488 +01:00 [INF] CORS policy execution successful.
21-04-16 16:00:24.489 +01:00 [INF] Successfully validated the token.
21-04-16 16:00:24.489 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 16:00:24.489 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 16:00:24.490 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:00:24.510 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 16:00:24.510 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 16:00:24.520 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 31.3375ms
21-04-16 16:00:24.522 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 16:00:24.522 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1134 application/json;+charset=utf-8 34.2900ms
21-04-16 16:00:24.589 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 16:00:24.589 +01:00 [INF] CORS policy execution successful.
21-04-16 16:00:24.589 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3556ms
21-04-16 16:00:24.620 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 16:00:24.620 +01:00 [INF] CORS policy execution successful.
21-04-16 16:00:24.621 +01:00 [INF] Successfully validated the token.
21-04-16 16:00:24.621 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 16:00:24.621 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 16:00:24.624 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:00:25.020 +01:00 [INF] Executed DbCommand (395ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 16:00:25.020 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 16:00:25.023 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 400.9025ms
21-04-16 16:00:25.023 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 16:00:25.023 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 403.4645ms
21-04-16 16:02:16.201 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 16:02:16.201 +01:00 [INF] CORS policy execution successful.
21-04-16 16:02:16.202 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.6961ms
21-04-16 16:02:16.322 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 206
21-04-16 16:02:16.322 +01:00 [INF] CORS policy execution successful.
21-04-16 16:02:16.323 +01:00 [INF] Successfully validated the token.
21-04-16 16:02:16.323 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 16:02:16.325 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 16:02:16.580 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:02:17.204 +01:00 [ERR] Failed executing DbCommand (578ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 16:02:17.587 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 16:02:18.573 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 16:02:18.579 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 16:02:18.588 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 2263.0536ms
21-04-16 16:02:18.588 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 16:02:18.589 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 206 - 500 - text/plain;+charset=utf-8 2267.0487ms
21-04-16 16:02:21.632 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 16:02:21.632 +01:00 [INF] CORS policy execution successful.
21-04-16 16:02:21.632 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.4206ms
21-04-16 16:02:22.121 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 16:02:22.121 +01:00 [INF] CORS policy execution successful.
21-04-16 16:02:22.121 +01:00 [INF] Successfully validated the token.
21-04-16 16:02:22.121 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 16:02:22.122 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 16:02:22.122 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:02:22.827 +01:00 [INF] Executed DbCommand (704ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 16:02:22.827 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 16:02:22.853 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 731.1285ms
21-04-16 16:02:22.853 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 16:02:22.853 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1134 application/json;+charset=utf-8 733.2930ms
21-04-16 16:02:23.063 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 16:02:23.064 +01:00 [INF] CORS policy execution successful.
21-04-16 16:02:23.064 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 1.2329ms
21-04-16 16:02:23.425 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 16:02:23.425 +01:00 [INF] CORS policy execution successful.
21-04-16 16:02:23.426 +01:00 [INF] Successfully validated the token.
21-04-16 16:02:23.426 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 16:02:23.426 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 16:02:23.427 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:02:24.377 +01:00 [INF] Executed DbCommand (950ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 16:02:24.385 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 16:02:24.496 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 1069.6265ms
21-04-16 16:02:24.496 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 16:02:24.497 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 1071.5522ms
21-04-16 16:02:37.228 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit - -
21-04-16 16:02:37.228 +01:00 [INF] CORS policy execution successful.
21-04-16 16:02:37.228 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit - - - 204 - - 0.3425ms
21-04-16 16:02:37.497 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 205
21-04-16 16:02:37.497 +01:00 [INF] CORS policy execution successful.
21-04-16 16:02:37.497 +01:00 [INF] Successfully validated the token.
21-04-16 16:02:37.497 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 16:02:37.498 +01:00 [INF] Route matched with {action = "CreateAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAudit(WebAPI.DTOs.CreateAuditDTO) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 16:02:38.815 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:02:39.140 +01:00 [ERR] Failed executing DbCommand (276ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Audit] ([Comments], [CustomerId], [Date], [EmployeeId], [Qty], [RecordDate], [TransTypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Audit]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
21-04-16 16:02:39.266 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI.Models.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
21-04-16 16:02:39.711 +01:00 [ERR] Something went wrong in the CreateAudit
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Audit_TransType_TransTypeId". The conflict occurred in database "RSTLog", table "dbo.TransType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ef28d89c-22ac-44a9-a968-63e8e633d8c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebAPI.Repository.UnitOfWork.Save() in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Repository\UnitOfWork.cs:line 52
   at WebAPI.Controllers.AuditController.CreateAudit(CreateAuditDTO AuditDTO) in C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI\Controllers\AuditController.cs:line 111
21-04-16 16:02:39.715 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
21-04-16 16:02:39.717 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.CreateAudit (WebAPI) in 2218.908ms
21-04-16 16:02:39.717 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.CreateAudit (WebAPI)'
21-04-16 16:02:39.717 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Audit application/json;+charset=utf-8 205 - 500 - text/plain;+charset=utf-8 2220.5097ms
21-04-16 16:06:59.521 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 16:07:00.694 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1173.3082ms
21-04-16 16:07:30.681 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-04-16 16:07:30.681 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:30.682 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 0.9589ms
21-04-16 16:07:30.706 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-04-16 16:07:30.706 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:30.713 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-04-16 16:07:30.728 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-04-16 16:07:30.729 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 16:07:30.729 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-04-16 16:07:30.745 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:07:30.996 +01:00 [INF] Executed DbCommand (229ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 16:07:31.740 +01:00 [INF] Executed DbCommand (740ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-04-16 16:07:31.999 +01:00 [INF] Executed DbCommand (221ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-04-16 16:07:32.386 +01:00 [INF] Executed DbCommand (385ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-04-16 16:07:32.649 +01:00 [INF] Executed DbCommand (243ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-04-16 16:07:32.653 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-04-16 16:07:32.657 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 1927.9808ms
21-04-16 16:07:32.657 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-04-16 16:07:32.658 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 1951.6853ms
21-04-16 16:07:32.824 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 16:07:32.824 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:32.824 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4540ms
21-04-16 16:07:32.835 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 16:07:32.835 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:32.836 +01:00 [INF] Successfully validated the token.
21-04-16 16:07:32.836 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 16:07:32.837 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 16:07:32.838 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:07:32.885 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-04-16 16:07:32.885 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 16:07:32.892 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 55.5613ms
21-04-16 16:07:32.892 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-04-16 16:07:32.893 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 538 application/json;+charset=utf-8 58.8428ms
21-04-16 16:07:34.291 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 16:07:34.292 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:34.292 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6349ms
21-04-16 16:07:34.303 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 16:07:34.303 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:34.304 +01:00 [INF] Successfully validated the token.
21-04-16 16:07:34.304 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 16:07:34.304 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 16:07:34.304 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:07:34.329 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 16:07:34.333 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 16:07:34.341 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 36.6767ms
21-04-16 16:07:34.342 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 16:07:34.345 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1134 application/json;+charset=utf-8 41.8164ms
21-04-16 16:07:34.477 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 16:07:34.477 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:34.478 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5280ms
21-04-16 16:07:34.483 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-04-16 16:07:34.483 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:34.483 +01:00 [INF] Successfully validated the token.
21-04-16 16:07:34.484 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 16:07:34.484 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-04-16 16:07:34.486 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:07:34.495 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM [Audit] AS [a]
21-04-16 16:07:34.496 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 16:07:34.498 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 13.3392ms
21-04-16 16:07:34.498 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-04-16 16:07:34.498 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 1118 application/json;+charset=utf-8 15.7502ms
21-04-16 16:07:40.023 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-04-16 16:07:40.023 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:40.024 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5578ms
21-04-16 16:07:40.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-04-16 16:07:40.137 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:40.138 +01:00 [INF] Successfully validated the token.
21-04-16 16:07:40.138 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 16:07:40.139 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-04-16 16:07:40.142 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:07:40.556 +01:00 [INF] Executed DbCommand (413ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-04-16 16:07:40.557 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-04-16 16:07:40.560 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 420.5969ms
21-04-16 16:07:40.561 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-04-16 16:07:40.561 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 1134 application/json;+charset=utf-8 424.5513ms
21-04-16 16:07:40.624 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-04-16 16:07:40.624 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:40.624 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.6983ms
21-04-16 16:07:40.648 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-04-16 16:07:40.648 +01:00 [INF] CORS policy execution successful.
21-04-16 16:07:40.649 +01:00 [INF] Successfully validated the token.
21-04-16 16:07:40.649 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 16:07:40.649 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-04-16 16:07:40.650 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-04-16 16:07:41.205 +01:00 [INF] Executed DbCommand (555ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-04-16 16:07:41.209 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-04-16 16:07:41.210 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 560.4328ms
21-04-16 16:07:41.210 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-04-16 16:07:41.210 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 562.1033ms
21-04-16 23:20:51.882 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-04-16 23:20:52.530 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 786.2347ms
