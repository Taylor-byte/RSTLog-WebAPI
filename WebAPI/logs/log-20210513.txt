21-05-13 09:26:14.633 +01:00 [INF] Application Is Starting
21-05-13 09:26:19.157 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-13 09:26:19.983 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-13 09:26:19.986 +01:00 [INF] Hosting environment: Development
21-05-13 09:26:19.987 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-13 09:26:20.119 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-13 09:26:20.585 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 470.1384ms
21-05-13 09:26:21.403 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-13 09:26:21.965 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 562.7068ms
21-05-13 09:27:58.581 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-13 09:27:58.601 +01:00 [INF] CORS policy execution successful.
21-05-13 09:27:58.605 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 23.4056ms
21-05-13 09:27:58.612 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370
21-05-13 09:27:58.613 +01:00 [INF] CORS policy execution successful.
21-05-13 09:27:59.743 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-13 09:27:59.926 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-13 09:27:59.932 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 09:28:00.083 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-13 09:28:04.753 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:28:07.321 +01:00 [INF] Executed DbCommand (293ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 09:28:07.826 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-13 09:28:07.875 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 09:28:07.910 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-13 09:28:08.254 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-13 09:28:08.325 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-13 09:28:08.445 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 8341.8132ms
21-05-13 09:28:08.448 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 09:28:08.464 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 370 - 200 409 application/json;+charset=utf-8 9852.6863ms
21-05-13 09:28:08.767 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:28:08.768 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:08.768 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.5903ms
21-05-13 09:28:08.796 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:28:08.797 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:08.805 +01:00 [INF] Successfully validated the token.
21-05-13 09:28:08.808 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:28:08.821 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:28:09.506 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:28:09.541 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 09:28:09.673 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:28:09.720 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 898.788ms
21-05-13 09:28:09.721 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:28:09.723 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 926.8848ms
21-05-13 09:28:17.957 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-13 09:28:17.957 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:17.968 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 10.5103ms
21-05-13 09:28:17.978 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-13 09:28:17.978 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:17.983 +01:00 [INF] Successfully validated the token.
21-05-13 09:28:17.983 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:28:17.990 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:28:18.011 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:28:18.243 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-13 09:28:18.292 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-13 09:28:18.302 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 312.0436ms
21-05-13 09:28:18.302 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:28:18.302 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 2133 application/json;+charset=utf-8 324.8642ms
21-05-13 09:28:18.452 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:28:18.452 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:18.453 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.3016ms
21-05-13 09:28:18.460 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:28:18.460 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:18.461 +01:00 [INF] Successfully validated the token.
21-05-13 09:28:18.461 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 09:28:18.467 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 09:28:18.475 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:28:18.519 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-13 09:28:18.611 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:28:18.613 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 145.8767ms
21-05-13 09:28:18.614 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 09:28:18.614 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2107 application/json;+charset=utf-8 154.1075ms
21-05-13 09:28:23.883 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-13 09:28:23.883 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:23.883 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.6718ms
21-05-13 09:28:23.897 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-13 09:28:23.898 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:23.899 +01:00 [INF] Successfully validated the token.
21-05-13 09:28:23.899 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:28:23.899 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:28:23.902 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:28:23.984 +01:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-13 09:28:23.985 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-13 09:28:24.000 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 101.0909ms
21-05-13 09:28:24.000 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:28:24.024 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 2133 application/json;+charset=utf-8 126.7466ms
21-05-13 09:28:24.405 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/TransType - -
21-05-13 09:28:24.405 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:24.405 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/TransType - - - 204 - - 0.3675ms
21-05-13 09:28:24.461 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/TransType - -
21-05-13 09:28:24.461 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:24.461 +01:00 [INF] Successfully validated the token.
21-05-13 09:28:24.474 +01:00 [INF] Authorization was successful.
21-05-13 09:28:24.478 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-13 09:28:24.487 +01:00 [INF] Route matched with {action = "GetTransTypes", controller = "TransType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransTypes() on controller WebAPI.Controllers.TransTypeController (WebAPI).
21-05-13 09:28:24.492 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:28:24.548 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Trans_Type]
FROM [TransType] AS [t]
21-05-13 09:28:24.556 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.TransTypeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:28:24.559 +01:00 [INF] Executed action WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI) in 71.7061ms
21-05-13 09:28:24.559 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TransTypeController.GetTransTypes (WebAPI)'
21-05-13 09:28:24.562 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/TransType - - - 200 149 application/json;+charset=utf-8 101.1207ms
21-05-13 09:28:24.624 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 09:28:24.624 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:24.624 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.3903ms
21-05-13 09:28:24.629 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 09:28:24.629 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:24.630 +01:00 [INF] Successfully validated the token.
21-05-13 09:28:24.630 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:28:24.641 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 09:28:24.646 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:28:24.759 +01:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 09:28:24.770 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:28:24.774 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 133.3479ms
21-05-13 09:28:24.774 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:28:24.775 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 145.8164ms
21-05-13 09:28:52.834 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-13 09:28:52.834 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:52.835 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.9797ms
21-05-13 09:28:52.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-13 09:28:52.847 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:52.847 +01:00 [INF] Successfully validated the token.
21-05-13 09:28:52.848 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:28:52.848 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:28:52.849 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:28:52.870 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-13 09:28:52.871 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-13 09:28:52.872 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 24.3895ms
21-05-13 09:28:52.872 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:28:52.881 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 2133 application/json;+charset=utf-8 40.1743ms
21-05-13 09:28:52.913 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:28:52.913 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:52.913 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3950ms
21-05-13 09:28:52.950 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:28:52.951 +01:00 [INF] CORS policy execution successful.
21-05-13 09:28:52.951 +01:00 [INF] Successfully validated the token.
21-05-13 09:28:52.951 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 09:28:52.952 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 09:28:52.953 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:28:53.042 +01:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-13 09:28:53.045 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:28:53.051 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 99.1844ms
21-05-13 09:28:53.051 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 09:28:53.051 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2107 application/json;+charset=utf-8 101.1348ms
21-05-13 09:44:01.231 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - -
21-05-13 09:44:01.232 +01:00 [INF] CORS policy execution successful.
21-05-13 09:44:01.232 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - - - 204 - - 0.7041ms
21-05-13 09:44:01.242 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/2 - -
21-05-13 09:44:01.243 +01:00 [INF] CORS policy execution successful.
21-05-13 09:44:01.243 +01:00 [INF] Successfully validated the token.
21-05-13 09:44:01.244 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-05-13 09:44:01.251 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 09:44:01.279 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:44:02.156 +01:00 [INF] Executed DbCommand (174ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-05-13 09:44:02.164 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-05-13 09:44:02.165 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 913.9302ms
21-05-13 09:44:02.165 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-05-13 09:44:02.166 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/2 - - - 200 216 application/json;+charset=utf-8 923.4206ms
21-05-13 09:44:05.280 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-13 09:44:05.280 +01:00 [INF] CORS policy execution successful.
21-05-13 09:44:05.285 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 5.0920ms
21-05-13 09:44:05.291 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-05-13 09:44:05.291 +01:00 [INF] CORS policy execution successful.
21-05-13 09:44:05.291 +01:00 [INF] Successfully validated the token.
21-05-13 09:44:05.292 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 09:44:05.292 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-13 09:44:05.294 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:44:05.314 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 09:44:05.340 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-13 09:44:05.346 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 09:44:05.351 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-13 09:44:05.367 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-13 09:44:05.369 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-13 09:44:05.369 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 77.2433ms
21-05-13 09:44:05.369 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 09:44:05.370 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 78.7270ms
21-05-13 09:44:05.397 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:44:05.397 +01:00 [INF] CORS policy execution successful.
21-05-13 09:44:05.398 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4448ms
21-05-13 09:44:05.401 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:44:05.401 +01:00 [INF] CORS policy execution successful.
21-05-13 09:44:05.402 +01:00 [INF] Successfully validated the token.
21-05-13 09:44:05.402 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:44:05.402 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:44:05.403 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:44:05.419 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 09:44:05.419 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:44:05.420 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 17.6457ms
21-05-13 09:44:05.420 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:44:05.420 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 19.6596ms
21-05-13 09:44:12.235 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 09:44:12.235 +01:00 [INF] CORS policy execution successful.
21-05-13 09:44:12.236 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.0584ms
21-05-13 09:44:12.240 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 09:44:12.241 +01:00 [INF] CORS policy execution successful.
21-05-13 09:44:12.243 +01:00 [INF] Successfully validated the token.
21-05-13 09:44:12.243 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:44:12.243 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 09:44:12.246 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:44:12.251 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 09:44:12.253 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:44:12.258 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 15.0752ms
21-05-13 09:44:12.259 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:44:12.260 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 19.7764ms
21-05-13 09:48:27.238 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 09:48:27.238 +01:00 [INF] CORS policy execution successful.
21-05-13 09:48:27.239 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:48:27.239 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 09:48:27.240 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:48:27.587 +01:00 [INF] Executed DbCommand (347ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 09:48:27.588 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:48:27.595 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 355.6288ms
21-05-13 09:48:27.595 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:48:27.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 357.4453ms
21-05-13 09:48:50.517 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 09:48:50.517 +01:00 [INF] CORS policy execution successful.
21-05-13 09:48:50.517 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.4032ms
21-05-13 09:48:50.521 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 09:48:50.521 +01:00 [INF] CORS policy execution successful.
21-05-13 09:48:50.522 +01:00 [INF] Successfully validated the token.
21-05-13 09:48:50.522 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:48:50.522 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 09:48:50.526 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:48:50.537 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 09:48:50.538 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:48:50.539 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 12.9215ms
21-05-13 09:48:50.539 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:48:50.539 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 18.0003ms
21-05-13 09:48:54.483 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:48:54.486 +01:00 [INF] CORS policy execution successful.
21-05-13 09:48:54.487 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 3.5371ms
21-05-13 09:48:54.500 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:48:54.501 +01:00 [INF] CORS policy execution successful.
21-05-13 09:48:54.501 +01:00 [INF] Successfully validated the token.
21-05-13 09:48:54.501 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:48:54.502 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:48:54.504 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:48:54.508 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 09:48:54.509 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:48:54.511 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 9.0588ms
21-05-13 09:48:54.511 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:48:54.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 14.8819ms
21-05-13 09:50:47.353 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 09:50:47.353 +01:00 [INF] CORS policy execution successful.
21-05-13 09:50:47.356 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 2.2383ms
21-05-13 09:50:47.361 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 09:50:47.362 +01:00 [INF] CORS policy execution successful.
21-05-13 09:50:47.362 +01:00 [INF] Successfully validated the token.
21-05-13 09:50:47.362 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:50:47.362 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 09:50:47.363 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:50:47.371 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 09:50:47.373 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:50:47.379 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 16.6411ms
21-05-13 09:50:47.379 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:50:47.385 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 23.4079ms
21-05-13 09:51:05.929 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 09:51:05.930 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:05.930 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.2509ms
21-05-13 09:51:05.950 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 09:51:05.950 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:05.950 +01:00 [INF] Successfully validated the token.
21-05-13 09:51:05.951 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:51:05.951 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 09:51:05.951 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:51:05.962 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 09:51:05.962 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:51:05.963 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 12.0796ms
21-05-13 09:51:05.963 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:51:05.964 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 13.9144ms
21-05-13 09:51:20.839 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:51:20.839 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:20.839 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3594ms
21-05-13 09:51:20.853 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:51:20.853 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:20.853 +01:00 [INF] Successfully validated the token.
21-05-13 09:51:20.853 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:51:20.854 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:51:20.855 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:51:20.871 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 09:51:20.872 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:51:20.873 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 19.3726ms
21-05-13 09:51:20.873 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:51:20.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 21.3729ms
21-05-13 09:51:21.925 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-13 09:51:21.925 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:21.926 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.3516ms
21-05-13 09:51:21.933 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-13 09:51:21.933 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:21.934 +01:00 [INF] Successfully validated the token.
21-05-13 09:51:21.934 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:51:21.934 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:51:21.936 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:51:21.955 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-13 09:51:21.957 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-13 09:51:21.959 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 24.419ms
21-05-13 09:51:21.959 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:51:21.962 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 2133 application/json;+charset=utf-8 29.3734ms
21-05-13 09:51:22.133 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:51:22.133 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:22.133 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6004ms
21-05-13 09:51:22.138 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:51:22.138 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:22.138 +01:00 [INF] Successfully validated the token.
21-05-13 09:51:22.139 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 09:51:22.139 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 09:51:22.140 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:51:22.148 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-13 09:51:22.150 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:51:22.152 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 12.8505ms
21-05-13 09:51:22.152 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 09:51:22.153 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2107 application/json;+charset=utf-8 15.1135ms
21-05-13 09:51:23.941 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:51:23.942 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:23.942 +01:00 [INF] Successfully validated the token.
21-05-13 09:51:23.942 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:51:23.943 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:51:23.944 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:51:23.965 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 09:51:23.966 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:51:23.967 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 24.0547ms
21-05-13 09:51:23.967 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:51:23.968 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 26.1663ms
21-05-13 09:51:25.428 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - -
21-05-13 09:51:25.428 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:25.430 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/3 - - - 204 - - 1.5067ms
21-05-13 09:51:25.440 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/3 - -
21-05-13 09:51:25.440 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:25.440 +01:00 [INF] Successfully validated the token.
21-05-13 09:51:25.441 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:51:25.441 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:51:25.441 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:51:25.459 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-13 09:51:25.459 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-13 09:51:25.460 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 19.3468ms
21-05-13 09:51:25.460 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 09:51:25.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/3 - - - 200 921 application/json;+charset=utf-8 20.8596ms
21-05-13 09:51:29.174 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:51:29.175 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:29.175 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.7909ms
21-05-13 09:51:29.189 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 09:51:29.189 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:29.189 +01:00 [INF] Successfully validated the token.
21-05-13 09:51:29.189 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:51:29.190 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 09:51:29.190 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:51:29.193 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 09:51:29.195 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:51:29.200 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 9.9757ms
21-05-13 09:51:29.200 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 09:51:29.200 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 11.4378ms
21-05-13 09:51:35.651 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 09:51:35.651 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:35.652 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.6459ms
21-05-13 09:51:35.655 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 09:51:35.655 +01:00 [INF] CORS policy execution successful.
21-05-13 09:51:35.656 +01:00 [INF] Successfully validated the token.
21-05-13 09:51:35.656 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:51:35.656 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 09:51:35.657 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 09:51:35.700 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 09:51:35.701 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 09:51:35.702 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 45.7223ms
21-05-13 09:51:35.711 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 09:51:35.712 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 56.6526ms
21-05-13 10:38:31.317 +01:00 [INF] Application Is Starting
21-05-13 10:38:33.680 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-13 10:38:34.234 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-13 10:38:34.234 +01:00 [INF] Hosting environment: Development
21-05-13 10:38:34.234 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-13 10:38:34.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-13 10:38:34.617 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 262.0519ms
21-05-13 10:38:35.176 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-13 10:38:35.481 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 305.7295ms
21-05-13 10:38:58.450 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-13 10:38:58.481 +01:00 [INF] CORS policy execution successful.
21-05-13 10:38:58.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 35.1111ms
21-05-13 10:38:58.492 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-05-13 10:38:58.493 +01:00 [INF] CORS policy execution successful.
21-05-13 10:38:59.756 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-13 10:38:59.994 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-13 10:39:00.019 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 10:39:00.191 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-13 10:39:03.647 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 10:39:04.974 +01:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 10:39:05.334 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-13 10:39:05.399 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 10:39:05.417 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-13 10:39:05.643 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-13 10:39:05.712 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-13 10:39:05.795 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 5595.967ms
21-05-13 10:39:05.797 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 10:39:05.810 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 7318.0658ms
21-05-13 10:39:05.909 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 10:39:05.909 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:05.910 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.2159ms
21-05-13 10:39:05.914 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 10:39:05.915 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:05.919 +01:00 [INF] Successfully validated the token.
21-05-13 10:39:05.920 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 10:39:05.928 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 10:39:06.288 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 10:39:06.306 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 10:39:06.417 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 10:39:06.457 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 528.7133ms
21-05-13 10:39:06.457 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 10:39:06.459 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 544.3054ms
21-05-13 10:39:11.454 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 10:39:11.454 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:11.454 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.8438ms
21-05-13 10:39:11.495 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 10:39:11.495 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:11.500 +01:00 [INF] Successfully validated the token.
21-05-13 10:39:11.500 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 10:39:11.508 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 10:39:11.529 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 10:39:11.566 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 10:39:11.572 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 10:39:11.575 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 67.4604ms
21-05-13 10:39:11.576 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 10:39:11.576 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 81.5525ms
21-05-13 10:39:12.779 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/2 - -
21-05-13 10:39:12.779 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:12.779 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/2 - - - 204 - - 0.6665ms
21-05-13 10:39:12.791 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee/2 - -
21-05-13 10:39:12.791 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:12.792 +01:00 [INF] Successfully validated the token.
21-05-13 10:39:12.792 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-13 10:39:12.800 +01:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 10:39:12.806 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 10:39:12.828 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-13 10:39:12.835 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.EmployeeDTO'.
21-05-13 10:39:12.836 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI) in 35.9626ms
21-05-13 10:39:12.836 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-13 10:39:12.836 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee/2 - - - 200 21 application/json;+charset=utf-8 45.6778ms
21-05-13 10:39:16.745 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 10:39:16.745 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:16.745 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 7.1270ms
21-05-13 10:39:16.768 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 10:39:16.768 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:16.768 +01:00 [INF] Successfully validated the token.
21-05-13 10:39:16.769 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 10:39:16.769 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 10:39:16.775 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 10:39:16.792 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 10:39:16.801 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 10:39:16.806 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 36.6608ms
21-05-13 10:39:16.806 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 10:39:16.806 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 38.4538ms
21-05-13 10:39:23.913 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 10:39:23.913 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:23.913 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.5066ms
21-05-13 10:39:23.928 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 10:39:23.934 +01:00 [INF] CORS policy execution successful.
21-05-13 10:39:23.935 +01:00 [INF] Successfully validated the token.
21-05-13 10:39:23.935 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 10:39:23.935 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 10:39:23.940 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 10:39:23.948 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 10:39:23.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 10:39:23.950 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 14.2121ms
21-05-13 10:39:23.950 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 10:39:23.950 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 22.2532ms
21-05-13 10:42:39.150 +01:00 [INF] Application Is Starting
21-05-13 10:42:49.080 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-13 10:42:50.044 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-13 10:42:50.044 +01:00 [INF] Hosting environment: Development
21-05-13 10:42:50.044 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-13 10:42:50.219 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-13 10:42:50.699 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 490.0371ms
21-05-13 10:42:52.729 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-13 10:42:53.092 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 365.9899ms
21-05-13 10:49:58.124 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 10:49:58.143 +01:00 [INF] CORS policy execution successful.
21-05-13 10:49:58.152 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 28.8885ms
21-05-13 10:49:58.636 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 10:49:58.637 +01:00 [INF] CORS policy execution successful.
21-05-13 10:50:02.906 +01:00 [INF] Successfully validated the token.
21-05-13 10:50:02.921 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 10:50:03.105 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 10:50:07.885 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 10:50:11.676 +01:00 [INF] Executed DbCommand (191ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 10:50:11.845 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 10:50:12.226 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 9108.1947ms
21-05-13 10:50:12.232 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 10:50:12.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 13610.9895ms
21-05-13 10:51:53.893 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 10:51:53.893 +01:00 [INF] CORS policy execution successful.
21-05-13 10:51:53.894 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.5682ms
21-05-13 10:51:53.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 10:51:53.901 +01:00 [INF] CORS policy execution successful.
21-05-13 10:51:53.912 +01:00 [INF] Successfully validated the token.
21-05-13 10:51:53.912 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 10:51:53.913 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 10:51:53.955 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 10:51:53.968 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 10:51:53.969 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 10:51:53.970 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 57.2652ms
21-05-13 10:51:53.970 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 10:51:53.971 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 69.8187ms
21-05-13 11:10:28.833 +01:00 [INF] Application Is Starting
21-05-13 11:10:31.950 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-13 11:10:32.613 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-13 11:10:32.613 +01:00 [INF] Hosting environment: Development
21-05-13 11:10:32.613 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-13 11:10:32.749 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-13 11:10:33.079 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 334.1934ms
21-05-13 11:10:33.593 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-13 11:10:33.993 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 399.5690ms
21-05-13 11:11:17.617 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-13 11:11:17.634 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:17.638 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 20.7339ms
21-05-13 11:11:17.645 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-05-13 11:11:17.645 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:18.292 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-13 11:11:18.463 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-13 11:11:18.466 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 11:11:18.540 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-13 11:11:20.611 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:11:23.550 +01:00 [INF] Executed DbCommand (214ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 11:11:23.944 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-13 11:11:23.979 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 11:11:24.006 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-13 11:11:24.245 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-13 11:11:24.282 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-13 11:11:24.349 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 5799.2387ms
21-05-13 11:11:24.351 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 11:11:24.366 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 6720.9272ms
21-05-13 11:11:24.545 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:11:24.548 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:24.549 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 3.7744ms
21-05-13 11:11:24.560 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:11:24.561 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:24.565 +01:00 [INF] Successfully validated the token.
21-05-13 11:11:24.567 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 11:11:24.577 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 11:11:25.119 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:11:25.146 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 11:11:25.240 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 11:11:25.278 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 700.8148ms
21-05-13 11:11:25.278 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 11:11:25.280 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 719.7147ms
21-05-13 11:11:29.081 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 11:11:29.082 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:29.082 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.7819ms
21-05-13 11:11:29.103 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 11:11:29.104 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:29.108 +01:00 [INF] Successfully validated the token.
21-05-13 11:11:29.109 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 11:11:29.116 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 11:11:29.137 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:11:29.226 +01:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 11:11:29.232 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 11:11:29.235 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 118.6434ms
21-05-13 11:11:29.235 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 11:11:29.241 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 137.1715ms
21-05-13 11:11:40.489 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:11:40.489 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:40.489 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5173ms
21-05-13 11:11:40.494 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:11:40.494 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:40.494 +01:00 [INF] Successfully validated the token.
21-05-13 11:11:40.495 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 11:11:40.495 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 11:11:40.498 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:11:40.501 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 11:11:40.502 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 11:11:40.502 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 7.1214ms
21-05-13 11:11:40.502 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 11:11:40.503 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 8.9368ms
21-05-13 11:11:49.927 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - -
21-05-13 11:11:49.928 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:49.928 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Account/Login - - - 204 - - 0.6401ms
21-05-13 11:11:49.941 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62
21-05-13 11:11:49.941 +01:00 [INF] CORS policy execution successful.
21-05-13 11:11:49.942 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-13 11:11:49.949 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.DTOs.UserForAuthenticationDTO) on controller WebAPI.Controllers.AccountController (WebAPI).
21-05-13 11:11:49.981 +01:00 [INF] Login attempt for jack@kudos-software.co.uk
21-05-13 11:11:49.981 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:11:49.992 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 11:11:50.041 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-13 11:11:50.047 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 11:11:50.052 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-13 11:11:50.062 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-13 11:11:50.063 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-13 11:11:50.063 +01:00 [INF] Executed action WebAPI.Controllers.AccountController.Login (WebAPI) in 113.9548ms
21-05-13 11:11:50.063 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AccountController.Login (WebAPI)'
21-05-13 11:11:50.064 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/Account/Login application/json;+charset=utf-8 62 - 200 409 application/json;+charset=utf-8 122.9373ms
21-05-13 11:12:02.732 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:12:02.732 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:02.732 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.3831ms
21-05-13 11:12:02.734 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:12:02.735 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:02.735 +01:00 [INF] Successfully validated the token.
21-05-13 11:12:02.735 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 11:12:02.735 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 11:12:02.736 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:12:02.750 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 11:12:02.751 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 11:12:02.752 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 15.9932ms
21-05-13 11:12:02.752 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 11:12:02.752 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 17.4677ms
21-05-13 11:12:04.133 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-13 11:12:04.133 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:04.134 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.0052ms
21-05-13 11:12:04.143 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-13 11:12:04.143 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:04.144 +01:00 [INF] Successfully validated the token.
21-05-13 11:12:04.145 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 11:12:04.153 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 11:12:04.156 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:12:04.347 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-13 11:12:04.388 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-13 11:12:04.394 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 240.5798ms
21-05-13 11:12:04.394 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 11:12:04.395 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 2133 application/json;+charset=utf-8 251.3636ms
21-05-13 11:12:04.484 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:12:04.484 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:04.484 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4366ms
21-05-13 11:12:04.492 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:12:04.492 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:04.492 +01:00 [INF] Successfully validated the token.
21-05-13 11:12:04.492 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 11:12:04.498 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 11:12:04.502 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:12:04.542 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-13 11:12:04.608 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 11:12:04.610 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 111.4956ms
21-05-13 11:12:04.610 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 11:12:04.610 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2107 application/json;+charset=utf-8 118.5388ms
21-05-13 11:12:06.668 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/14 - -
21-05-13 11:12:06.668 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:06.669 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/14 - - - 204 - - 0.5715ms
21-05-13 11:12:06.672 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/14 - -
21-05-13 11:12:06.673 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:06.673 +01:00 [INF] Successfully validated the token.
21-05-13 11:12:06.673 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-05-13 11:12:06.678 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 11:12:06.681 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:12:06.707 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-05-13 11:12:06.713 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-05-13 11:12:06.713 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 35.1152ms
21-05-13 11:12:06.713 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-05-13 11:12:06.714 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/14 - - - 200 206 application/json;+charset=utf-8 41.1873ms
21-05-13 11:12:10.852 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:12:10.853 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:10.853 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5418ms
21-05-13 11:12:10.859 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 11:12:10.859 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:10.860 +01:00 [INF] Successfully validated the token.
21-05-13 11:12:10.861 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 11:12:10.862 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 11:12:10.863 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:12:10.867 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 11:12:10.868 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 11:12:10.869 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 7.207ms
21-05-13 11:12:10.870 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 11:12:10.888 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 26.4559ms
21-05-13 11:12:13.481 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 11:12:13.481 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:13.483 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 1.9211ms
21-05-13 11:12:13.519 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 11:12:13.520 +01:00 [INF] CORS policy execution successful.
21-05-13 11:12:13.522 +01:00 [INF] Successfully validated the token.
21-05-13 11:12:13.522 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 11:12:13.522 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 11:12:13.524 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:12:13.534 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 11:12:13.535 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 11:12:13.537 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 14.54ms
21-05-13 11:12:13.537 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 11:12:13.538 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 18.7110ms
21-05-13 11:16:28.594 +01:00 [INF] Application Is Starting
21-05-13 11:16:30.510 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-13 11:16:30.975 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-13 11:16:30.975 +01:00 [INF] Hosting environment: Development
21-05-13 11:16:30.975 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-13 11:16:31.050 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-13 11:16:31.282 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 238.1640ms
21-05-13 11:16:31.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-13 11:16:31.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 259.7002ms
21-05-13 11:16:55.920 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 11:16:55.935 +01:00 [INF] CORS policy execution successful.
21-05-13 11:16:55.939 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 19.0222ms
21-05-13 11:16:55.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 11:16:55.948 +01:00 [INF] CORS policy execution successful.
21-05-13 11:16:56.566 +01:00 [INF] Successfully validated the token.
21-05-13 11:16:56.573 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 11:16:56.616 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 11:16:58.887 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 11:17:00.318 +01:00 [INF] Executed DbCommand (181ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 11:17:00.462 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 11:17:00.700 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 4074.4926ms
21-05-13 11:17:00.702 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 11:17:00.715 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 4771.6910ms
21-05-13 16:37:12.602 +01:00 [INF] Application Is Starting
21-05-13 16:37:16.202 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-13 16:37:17.059 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-13 16:37:17.059 +01:00 [INF] Hosting environment: Development
21-05-13 16:37:17.059 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-13 16:37:17.247 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-13 16:37:17.611 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 367.5595ms
21-05-13 16:37:18.069 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-13 16:37:18.542 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 472.9294ms
21-05-13 16:37:41.821 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-13 16:37:41.839 +01:00 [INF] CORS policy execution successful.
21-05-13 16:37:41.844 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 22.4541ms
21-05-13 16:37:41.871 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-05-13 16:37:41.872 +01:00 [INF] CORS policy execution successful.
21-05-13 16:37:43.009 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-13 16:37:45.327 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-13 16:37:45.332 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 16:37:45.433 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-13 16:37:50.296 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:37:52.116 +01:00 [INF] Executed DbCommand (177ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 16:37:52.772 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-13 16:37:52.826 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 16:37:52.854 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-13 16:37:53.192 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-13 16:37:53.251 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-13 16:37:53.362 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 7910.0493ms
21-05-13 16:37:53.364 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 16:37:53.381 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 11510.8280ms
21-05-13 16:37:53.500 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:37:53.502 +01:00 [INF] CORS policy execution successful.
21-05-13 16:37:53.502 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.8811ms
21-05-13 16:37:53.507 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:37:53.507 +01:00 [INF] CORS policy execution successful.
21-05-13 16:37:53.514 +01:00 [INF] Successfully validated the token.
21-05-13 16:37:53.517 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:37:53.532 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 16:37:54.119 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:37:54.146 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 16:37:54.265 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:37:54.303 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 770.5092ms
21-05-13 16:37:54.303 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:37:54.305 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 798.4558ms
21-05-13 16:40:34.212 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/5 - -
21-05-13 16:40:34.214 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:34.217 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/5 - - - 204 - - 4.5301ms
21-05-13 16:40:34.222 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/5 - -
21-05-13 16:40:34.222 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:34.225 +01:00 [INF] Successfully validated the token.
21-05-13 16:40:34.225 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 16:40:34.229 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 16:40:34.248 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:40:34.377 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-13 16:40:34.396 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-13 16:40:34.396 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 167.2384ms
21-05-13 16:40:34.397 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 16:40:34.397 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/5 - - - 200 176 application/json;+charset=utf-8 175.1879ms
21-05-13 16:40:34.449 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:40:34.450 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:34.450 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5791ms
21-05-13 16:40:34.454 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:40:34.454 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:34.454 +01:00 [INF] Successfully validated the token.
21-05-13 16:40:34.455 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 16:40:34.459 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 16:40:34.463 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:40:34.505 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-13 16:40:34.582 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:40:34.591 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 131.8952ms
21-05-13 16:40:34.591 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 16:40:34.591 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2107 application/json;+charset=utf-8 137.1993ms
21-05-13 16:40:38.231 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:40:38.232 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:38.232 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6271ms
21-05-13 16:40:38.243 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:40:38.243 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:38.244 +01:00 [INF] Successfully validated the token.
21-05-13 16:40:38.244 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:40:38.244 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 16:40:38.245 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:40:38.248 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 16:40:38.249 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:40:38.250 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 5.6217ms
21-05-13 16:40:38.250 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:40:38.250 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 7.2805ms
21-05-13 16:40:39.950 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=20&searchTerm=&orderBy=name - -
21-05-13 16:40:39.951 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:39.951 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=20&searchTerm=&orderBy=name - - - 204 - - 0.8731ms
21-05-13 16:40:39.954 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=20&searchTerm=&orderBy=name - -
21-05-13 16:40:39.955 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:39.956 +01:00 [INF] Successfully validated the token.
21-05-13 16:40:39.957 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:40:39.957 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 16:40:39.958 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:40:39.962 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 16:40:39.963 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:40:39.964 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 6.4626ms
21-05-13 16:40:39.964 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:40:39.964 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=20&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 9.8023ms
21-05-13 16:40:42.144 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-13 16:40:42.144 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:42.145 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 0.5405ms
21-05-13 16:40:42.151 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-13 16:40:42.152 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:42.153 +01:00 [INF] Successfully validated the token.
21-05-13 16:40:42.153 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 16:40:42.154 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 16:40:42.155 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:40:42.164 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-13 16:40:42.172 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-13 16:40:42.173 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 19.0514ms
21-05-13 16:40:42.173 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 16:40:42.173 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 2133 application/json;+charset=utf-8 21.9987ms
21-05-13 16:40:42.215 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:40:42.215 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:42.215 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.5465ms
21-05-13 16:40:42.218 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:40:42.219 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:42.219 +01:00 [INF] Successfully validated the token.
21-05-13 16:40:42.219 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 16:40:42.219 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 16:40:42.220 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:40:42.224 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-13 16:40:42.228 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:40:42.230 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 10.095ms
21-05-13 16:40:42.230 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 16:40:42.230 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2107 application/json;+charset=utf-8 11.7506ms
21-05-13 16:40:57.052 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 16:40:57.052 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:57.052 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 0.6888ms
21-05-13 16:40:57.057 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 16:40:57.057 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:57.058 +01:00 [INF] Successfully validated the token.
21-05-13 16:40:57.058 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 16:40:57.065 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 16:40:57.068 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:40:57.086 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 16:40:57.096 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:40:57.101 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 35.5219ms
21-05-13 16:40:57.101 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 16:40:57.101 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 44.1645ms
21-05-13 16:40:58.823 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 16:40:58.823 +01:00 [INF] CORS policy execution successful.
21-05-13 16:40:58.823 +01:00 [INF] Successfully validated the token.
21-05-13 16:40:58.824 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 16:40:58.824 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 16:40:58.825 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:40:58.840 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 16:40:58.842 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:40:58.847 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 23.5228ms
21-05-13 16:40:58.848 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 16:40:58.866 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 43.4208ms
21-05-13 16:41:00.200 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee/1 - -
21-05-13 16:41:00.201 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:00.201 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee/1 - - - 204 - - 0.5380ms
21-05-13 16:41:00.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee/1 - -
21-05-13 16:41:00.214 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:00.215 +01:00 [INF] Successfully validated the token.
21-05-13 16:41:00.215 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-13 16:41:00.220 +01:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(Int32) on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 16:41:00.222 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:41:00.238 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Name]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
21-05-13 16:41:00.242 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.EmployeeDTO'.
21-05-13 16:41:00.244 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI) in 23.9754ms
21-05-13 16:41:00.244 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployee (WebAPI)'
21-05-13 16:41:00.244 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee/1 - - - 200 22 application/json;+charset=utf-8 30.0172ms
21-05-13 16:41:02.061 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:41:02.062 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:02.062 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.6321ms
21-05-13 16:41:02.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:41:02.066 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:02.066 +01:00 [INF] Successfully validated the token.
21-05-13 16:41:02.067 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:41:02.067 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 16:41:02.068 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:41:02.071 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 16:41:02.072 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:41:02.075 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 7.8784ms
21-05-13 16:41:02.075 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:41:02.075 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 9.3275ms
21-05-13 16:41:03.140 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - -
21-05-13 16:41:03.141 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:03.142 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer/2 - - - 204 - - 1.5364ms
21-05-13 16:41:03.147 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer/2 - -
21-05-13 16:41:03.147 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:03.148 +01:00 [INF] Successfully validated the token.
21-05-13 16:41:03.148 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 16:41:03.148 +01:00 [INF] Route matched with {action = "GetCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomer(Int32) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 16:41:03.149 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:41:03.151 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[HoursPurchased], [t].[HoursRemaining], [t].[Invoiced], [t].[InvoicedDate], [t].[Name], [t].[Notes], [t].[OnsitePurchased], [t].[Paid], [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
    FROM [Customer] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Audit] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id], [a].[Id]
21-05-13 16:41:03.153 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.CustomerDTO'.
21-05-13 16:41:03.154 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomer (WebAPI) in 5.7619ms
21-05-13 16:41:03.154 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomer (WebAPI)'
21-05-13 16:41:03.155 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer/2 - - - 200 2133 application/json;+charset=utf-8 7.8424ms
21-05-13 16:41:03.185 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:41:03.185 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:03.186 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 0.4566ms
21-05-13 16:41:03.189 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:41:03.189 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:03.190 +01:00 [INF] Successfully validated the token.
21-05-13 16:41:03.190 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 16:41:03.190 +01:00 [INF] Route matched with {action = "GetAudits", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudits(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 16:41:03.191 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:41:03.193 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
21-05-13 16:41:03.195 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.AuditDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:41:03.196 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudits (WebAPI) in 5.8412ms
21-05-13 16:41:03.196 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudits (WebAPI)'
21-05-13 16:41:03.196 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 2107 application/json;+charset=utf-8 7.3828ms
21-05-13 16:41:04.405 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - -
21-05-13 16:41:04.405 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:04.406 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Audit/2 - - - 204 - - 1.0503ms
21-05-13 16:41:04.425 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Audit/2 - -
21-05-13 16:41:04.425 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:04.427 +01:00 [INF] Successfully validated the token.
21-05-13 16:41:04.427 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-05-13 16:41:04.434 +01:00 [INF] Route matched with {action = "GetAudit", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAudit(Int32) on controller WebAPI.Controllers.AuditController (WebAPI).
21-05-13 16:41:04.441 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:41:04.465 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Comments], [a].[CustomerId], [a].[Date], [a].[EmployeeId], [a].[Qty], [a].[RecordDate], [a].[TransTypeId], [t].[Id], [t].[Trans_Type], [e].[Id], [e].[Name]
FROM [Audit] AS [a]
INNER JOIN [TransType] AS [t] ON [a].[TransTypeId] = [t].[Id]
LEFT JOIN [Employee] AS [e] ON [a].[EmployeeId] = [e].[Id]
WHERE [a].[Id] = @__id_0
21-05-13 16:41:04.470 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuditDTO'.
21-05-13 16:41:04.470 +01:00 [INF] Executed action WebAPI.Controllers.AuditController.GetAudit (WebAPI) in 36.0809ms
21-05-13 16:41:04.471 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.AuditController.GetAudit (WebAPI)'
21-05-13 16:41:04.471 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Audit/2 - - - 200 216 application/json;+charset=utf-8 46.0002ms
21-05-13 16:41:05.866 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 16:41:05.867 +01:00 [INF] CORS policy execution successful.
21-05-13 16:41:05.867 +01:00 [INF] Successfully validated the token.
21-05-13 16:41:05.867 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:41:05.867 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 16:41:05.869 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 16:41:05.874 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 16:41:05.875 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 16:41:05.876 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 8.6098ms
21-05-13 16:41:05.876 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 16:41:05.877 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 10.7057ms
21-05-13 19:38:27.246 +01:00 [INF] Application Is Starting
21-05-13 19:38:34.430 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-13 19:38:35.453 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-13 19:38:35.453 +01:00 [INF] Hosting environment: Development
21-05-13 19:38:35.453 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-13 19:38:35.629 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-13 19:38:36.045 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 434.5305ms
21-05-13 19:38:36.827 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-13 19:38:37.306 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 479.5561ms
21-05-13 19:39:03.710 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 19:39:03.722 +01:00 [INF] CORS policy execution successful.
21-05-13 19:39:03.729 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 19.1439ms
21-05-13 19:39:03.793 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 19:39:03.794 +01:00 [INF] CORS policy execution successful.
21-05-13 19:39:05.441 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-13 19:39:05.674 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-13 19:39:05.697 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 19:39:07.123 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 19:39:10.044 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 19:39:14.232 +01:00 [INF] Executed DbCommand (188ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 19:39:14.388 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 19:39:14.952 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 7627.6643ms
21-05-13 19:39:14.953 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 19:39:14.967 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 11173.3326ms
21-05-13 19:50:35.249 +01:00 [INF] Application Is Starting
21-05-13 19:50:38.274 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-13 19:50:38.776 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-13 19:50:38.776 +01:00 [INF] Hosting environment: Development
21-05-13 19:50:38.776 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-13 19:50:38.918 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-13 19:50:39.266 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 351.5221ms
21-05-13 19:50:39.641 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-13 19:50:40.021 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 379.8353ms
21-05-13 19:51:01.167 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 19:51:01.282 +01:00 [INF] CORS policy execution successful.
21-05-13 19:51:01.286 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 119.0728ms
21-05-13 19:51:01.374 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 19:51:01.375 +01:00 [INF] CORS policy execution successful.
21-05-13 19:51:03.576 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-13 19:51:03.784 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-13 19:51:03.788 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 19:51:03.856 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 19:51:05.939 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 19:51:07.657 +01:00 [INF] Executed DbCommand (160ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 19:51:07.761 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 19:51:07.958 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 4092.2497ms
21-05-13 19:51:07.960 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 19:51:07.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 6601.5045ms
21-05-13 19:51:10.623 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Employee - -
21-05-13 19:51:10.632 +01:00 [INF] CORS policy execution successful.
21-05-13 19:51:10.632 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Employee - - - 204 - - 8.6939ms
21-05-13 19:51:10.637 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 19:51:10.637 +01:00 [INF] CORS policy execution successful.
21-05-13 19:51:10.642 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-13 19:51:10.642 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-13 19:51:10.642 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 19:51:10.643 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 19:51:10.695 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 19:51:10.705 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 19:51:10.706 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 19:51:10.707 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 63.9639ms
21-05-13 19:51:10.707 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 19:51:10.708 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 71.1962ms
21-05-13 19:51:12.486 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Employee - -
21-05-13 19:51:12.487 +01:00 [INF] CORS policy execution successful.
21-05-13 19:51:12.492 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-13 19:51:12.493 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-13 19:51:12.493 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 19:51:12.493 +01:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees() on controller WebAPI.Controllers.EmployeeController (WebAPI).
21-05-13 19:51:12.512 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 19:51:12.519 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name]
FROM [Employee] AS [e]
21-05-13 19:51:12.520 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.EmployeeDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 19:51:12.521 +01:00 [INF] Executed action WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI) in 27.3538ms
21-05-13 19:51:12.521 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.EmployeeController.GetEmployees (WebAPI)'
21-05-13 19:51:12.521 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Employee - - - 200 117 application/json;+charset=utf-8 34.9184ms
21-05-13 19:52:42.396 +01:00 [INF] Application Is Starting
21-05-13 19:52:46.910 +01:00 [INF] User profile is available. Using 'C:\Users\jack.KUDOS-SOFTWARE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
21-05-13 19:52:47.616 +01:00 [INF] Application started. Press Ctrl+C to shut down.
21-05-13 19:52:47.616 +01:00 [INF] Hosting environment: Development
21-05-13 19:52:47.616 +01:00 [INF] Content root path: C:\UniProjects\WebAPI\RSTLog-WebAPI\WebAPI
21-05-13 19:52:47.709 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/index.html - -
21-05-13 19:52:48.102 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/index.html - - - 200 - text/html;charset=utf-8 397.0677ms
21-05-13 19:52:48.393 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - -
21-05-13 19:52:48.721 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 328.0337ms
21-05-13 19:53:09.127 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - -
21-05-13 19:53:09.151 +01:00 [INF] CORS policy execution successful.
21-05-13 19:53:09.155 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/token/refresh - - - 204 - - 28.0876ms
21-05-13 19:53:09.197 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365
21-05-13 19:53:09.198 +01:00 [INF] CORS policy execution successful.
21-05-13 19:53:10.637 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
21-05-13 19:53:10.741 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
21-05-13 19:53:10.744 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 19:53:10.822 +01:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(WebAPI.DTOs.RefreshTokenDTO) on controller WebAPI.Controllers.TokenController (WebAPI).
21-05-13 19:53:12.891 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 19:53:14.920 +01:00 [INF] Executed DbCommand (202ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 19:53:15.248 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
21-05-13 19:53:15.307 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
21-05-13 19:53:15.348 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
21-05-13 19:53:15.585 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;
21-05-13 19:53:15.638 +01:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.DTOs.AuthResponseDTO'.
21-05-13 19:53:15.708 +01:00 [INF] Executed action WebAPI.Controllers.TokenController.Refresh (WebAPI) in 4876.7586ms
21-05-13 19:53:15.709 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.TokenController.Refresh (WebAPI)'
21-05-13 19:53:15.719 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44323/api/token/refresh application/json;+charset=utf-8 365 - 200 409 application/json;+charset=utf-8 6522.1727ms
21-05-13 19:53:15.826 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 19:53:15.827 +01:00 [INF] CORS policy execution successful.
21-05-13 19:53:15.827 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 204 - - 1.2728ms
21-05-13 19:53:15.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - -
21-05-13 19:53:15.832 +01:00 [INF] CORS policy execution successful.
21-05-13 19:53:15.837 +01:00 [INF] Successfully validated the token.
21-05-13 19:53:15.839 +01:00 [INF] Executing endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 19:53:15.853 +01:00 [INF] Route matched with {action = "GetCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCustomers(WebAPI.DTOs.RequestParams) on controller WebAPI.Controllers.CustomerController (WebAPI).
21-05-13 19:53:16.227 +01:00 [INF] Entity Framework Core 5.0.3 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
21-05-13 19:53:16.254 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[HoursPurchased], [c].[HoursRemaining], [c].[Invoiced], [c].[InvoicedDate], [c].[Name], [c].[Notes], [c].[OnsitePurchased], [c].[Paid]
FROM [Customer] AS [c]
21-05-13 19:53:16.319 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI.DTOs.CustomerDTO, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
21-05-13 19:53:16.342 +01:00 [INF] Executed action WebAPI.Controllers.CustomerController.GetCustomers (WebAPI) in 489.4042ms
21-05-13 19:53:16.342 +01:00 [INF] Executed endpoint 'WebAPI.Controllers.CustomerController.GetCustomers (WebAPI)'
21-05-13 19:53:16.344 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44323/api/Customer?pageNumber=1&pageSize=10&searchTerm=&orderBy=name - - - 200 715 application/json;+charset=utf-8 511.9220ms
